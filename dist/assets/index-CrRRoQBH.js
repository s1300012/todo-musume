function U2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function j2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yp={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function B2(){if(VT)return Tu;VT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Tu.Fragment=e,Tu.jsx=n,Tu.jsxs=n,Tu}var PT;function z2(){return PT||(PT=1,Yp.exports=B2()),Yp.exports}var O=z2(),Qp={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function F2(){if(NT)return Ve;NT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,V={};function x(U,se,ue){this.props=U,this.context=se,this.refs=V,this.updater=ue||S}x.prototype.isReactComponent={},x.prototype.setState=function(U,se){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,se,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=x.prototype;function G(U,se,ue){this.props=U,this.context=se,this.refs=V,this.updater=ue||S}var H=G.prototype=new M;H.constructor=G,C(H,x.prototype),H.isPureReactComponent=!0;var ee=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function D(U,se,ue,le,pe,Ce){return ue=Ce.ref,{$$typeof:t,type:U,key:se,ref:ue!==void 0?ue:null,props:Ce}}function w(U,se){return D(U.type,se,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function N(U){var se={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return se[ue]})}var B=/\/+/g;function z(U,se){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):se.toString(36)}function P(){}function Pe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(se){U.status==="pending"&&(U.status="fulfilled",U.value=se)},function(se){U.status==="pending"&&(U.status="rejected",U.reason=se)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ie(U,se,ue,le,pe){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var ge=!1;if(U===null)ge=!0;else switch(Ce){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(U.$$typeof){case t:case e:ge=!0;break;case g:return ge=U._init,Ie(ge(U._payload),se,ue,le,pe)}}if(ge)return pe=pe(U),ge=le===""?"."+z(U,0):le,ee(pe)?(ue="",ge!=null&&(ue=ge.replace(B,"$&/")+"/"),Ie(pe,se,ue,"",function(bn){return bn})):pe!=null&&(I(pe)&&(pe=w(pe,ue+(pe.key==null||U&&U.key===pe.key?"":(""+pe.key).replace(B,"$&/")+"/")+ge)),se.push(pe)),1;ge=0;var ut=le===""?".":le+":";if(ee(U))for(var ze=0;ze<U.length;ze++)le=U[ze],Ce=ut+z(le,ze),ge+=Ie(le,se,ue,Ce,pe);else if(ze=T(U),typeof ze=="function")for(U=ze.call(U),ze=0;!(le=U.next()).done;)le=le.value,Ce=ut+z(le,ze++),ge+=Ie(le,se,ue,Ce,pe);else if(Ce==="object"){if(typeof U.then=="function")return Ie(Pe(U),se,ue,le,pe);throw se=String(U),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(U,se,ue){if(U==null)return U;var le=[],pe=0;return Ie(U,le,"","",function(Ce){return se.call(ue,Ce,pe++)}),le}function oe(U){if(U._status===-1){var se=U._result;se=se(),se.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=se)}if(U._status===1)return U._result.default;throw U._result}var he=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Oe(){}return Ve.Children={map:W,forEach:function(U,se,ue){W(U,function(){se.apply(this,arguments)},ue)},count:function(U){var se=0;return W(U,function(){se++}),se},toArray:function(U){return W(U,function(se){return se})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ve.Component=x,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=G,Ve.StrictMode=r,Ve.Suspense=d,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(U){return j.H.useMemoCache(U)}},Ve.cache=function(U){return function(){return U.apply(null,arguments)}},Ve.cloneElement=function(U,se,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var le=C({},U.props),pe=U.key,Ce=void 0;if(se!=null)for(ge in se.ref!==void 0&&(Ce=void 0),se.key!==void 0&&(pe=""+se.key),se)!Z.call(se,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&se.ref===void 0||(le[ge]=se[ge]);var ge=arguments.length-2;if(ge===1)le.children=ue;else if(1<ge){for(var ut=Array(ge),ze=0;ze<ge;ze++)ut[ze]=arguments[ze+2];le.children=ut}return D(U.type,pe,void 0,void 0,Ce,le)},Ve.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ve.createElement=function(U,se,ue){var le,pe={},Ce=null;if(se!=null)for(le in se.key!==void 0&&(Ce=""+se.key),se)Z.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=se[le]);var ge=arguments.length-2;if(ge===1)pe.children=ue;else if(1<ge){for(var ut=Array(ge),ze=0;ze<ge;ze++)ut[ze]=arguments[ze+2];pe.children=ut}if(U&&U.defaultProps)for(le in ge=U.defaultProps,ge)pe[le]===void 0&&(pe[le]=ge[le]);return D(U,Ce,void 0,void 0,null,pe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(U){return{$$typeof:h,render:U}},Ve.isValidElement=I,Ve.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:oe}},Ve.memo=function(U,se){return{$$typeof:p,type:U,compare:se===void 0?null:se}},Ve.startTransition=function(U){var se=j.T,ue={};j.T=ue;try{var le=U(),pe=j.S;pe!==null&&pe(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Oe,he)}catch(Ce){he(Ce)}finally{j.T=se}},Ve.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ve.use=function(U){return j.H.use(U)},Ve.useActionState=function(U,se,ue){return j.H.useActionState(U,se,ue)},Ve.useCallback=function(U,se){return j.H.useCallback(U,se)},Ve.useContext=function(U){return j.H.useContext(U)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(U,se){return j.H.useDeferredValue(U,se)},Ve.useEffect=function(U,se,ue){var le=j.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(U,se)},Ve.useId=function(){return j.H.useId()},Ve.useImperativeHandle=function(U,se,ue){return j.H.useImperativeHandle(U,se,ue)},Ve.useInsertionEffect=function(U,se){return j.H.useInsertionEffect(U,se)},Ve.useLayoutEffect=function(U,se){return j.H.useLayoutEffect(U,se)},Ve.useMemo=function(U,se){return j.H.useMemo(U,se)},Ve.useOptimistic=function(U,se){return j.H.useOptimistic(U,se)},Ve.useReducer=function(U,se,ue){return j.H.useReducer(U,se,ue)},Ve.useRef=function(U){return j.H.useRef(U)},Ve.useState=function(U){return j.H.useState(U)},Ve.useSyncExternalStore=function(U,se,ue){return j.H.useSyncExternalStore(U,se,ue)},Ve.useTransition=function(){return j.H.useTransition()},Ve.version="19.1.0",Ve}var LT;function Mv(){return LT||(LT=1,Qp.exports=F2()),Qp.exports}var k=Mv();const H2=j2(k),kT=U2({__proto__:null,default:H2},[k]);var Xp={exports:{}},Eu={},Wp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function q2(){return UT||(UT=1,function(t){function e(W,oe){var he=W.length;W.push(oe);e:for(;0<he;){var Oe=he-1>>>1,U=W[Oe];if(0<a(U,oe))W[Oe]=oe,W[he]=U,he=Oe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],he=W.pop();if(he!==oe){W[0]=he;e:for(var Oe=0,U=W.length,se=U>>>1;Oe<se;){var ue=2*(Oe+1)-1,le=W[ue],pe=ue+1,Ce=W[pe];if(0>a(le,he))pe<U&&0>a(Ce,le)?(W[Oe]=Ce,W[pe]=he,Oe=pe):(W[Oe]=le,W[ue]=he,Oe=ue);else if(pe<U&&0>a(Ce,he))W[Oe]=Ce,W[pe]=he,Oe=pe;else break e}}return oe}function a(W,oe){var he=W.sortIndex-oe.sortIndex;return he!==0?he:W.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,_=null,T=3,S=!1,C=!1,V=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ee(W){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=W)r(p),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(p)}}function j(W){if(V=!1,ee(W),!C)if(n(d)!==null)C=!0,Z||(Z=!0,z());else{var oe=n(p);oe!==null&&Ie(j,oe.startTime-W)}}var Z=!1,D=-1,w=5,I=-1;function N(){return x?!0:!(t.unstable_now()-I<w)}function B(){if(x=!1,Z){var W=t.unstable_now();I=W;var oe=!0;try{e:{C=!1,V&&(V=!1,G(D),D=-1),S=!0;var he=T;try{t:{for(ee(W),_=n(d);_!==null&&!(_.expirationTime>W&&N());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,T=_.priorityLevel;var U=Oe(_.expirationTime<=W);if(W=t.unstable_now(),typeof U=="function"){_.callback=U,ee(W),oe=!0;break t}_===n(d)&&r(d),ee(W)}else r(d);_=n(d)}if(_!==null)oe=!0;else{var se=n(p);se!==null&&Ie(j,se.startTime-W),oe=!1}}break e}finally{_=null,T=he,S=!1}oe=void 0}}finally{oe?z():Z=!1}}}var z;if(typeof H=="function")z=function(){H(B)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Pe=P.port2;P.port1.onmessage=B,z=function(){Pe.postMessage(null)}}else z=function(){M(B,0)};function Ie(W,oe){D=M(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(W){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var he=T;T=oe;try{return W()}finally{T=he}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=T;T=W;try{return oe()}finally{T=he}},t.unstable_scheduleCallback=function(W,oe,he){var Oe=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Oe+he:Oe):he=Oe,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=he+U,W={id:g++,callback:oe,priorityLevel:W,startTime:he,expirationTime:U,sortIndex:-1},he>Oe?(W.sortIndex=he,e(p,W),n(d)===null&&W===n(p)&&(V?(G(D),D=-1):V=!0,Ie(j,he-Oe))):(W.sortIndex=U,e(d,W),C||S||(C=!0,Z||(Z=!0,z()))),W},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(W){var oe=T;return function(){var he=T;T=oe;try{return W.apply(this,arguments)}finally{T=he}}}}(Zp)),Zp}var jT;function G2(){return jT||(jT=1,Wp.exports=q2()),Wp.exports}var Jp={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function $2(){if(BT)return hn;BT=1;var t=Mv();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,g)},hn.flushSync=function(d){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=g,r.d.f()}},hn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},hn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},hn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,_=h(g,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:S}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},hn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=h(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hn.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},hn.requestFormReset=function(d){r.d.r(d)},hn.unstable_batchedUpdates=function(d,p){return d(p)},hn.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var zT;function _A(){if(zT)return Jp.exports;zT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jp.exports=$2(),Jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function K2(){if(FT)return Eu;FT=1;var t=G2(),e=Mv(),n=_A();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return h(m),i;if(v===c)return h(m),s;v=v.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=v;else{for(var E=!1,A=m.child;A;){if(A===o){E=!0,o=m,c=v;break}if(A===c){E=!0,c=m,o=v;break}A=A.sibling}if(!E){for(A=v.child;A;){if(A===o){E=!0,o=v,c=m;break}if(A===c){E=!0,c=v,o=m;break}A=A.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case x:return"Profiler";case V:return"StrictMode";case j:return"Suspense";case Z:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case H:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case ee:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:Pe(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return Pe(i(s))}catch{}}return null}var Ie=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Oe=[],U=-1;function se(i){return{current:i}}function ue(i){0>U||(i.current=Oe[U],Oe[U]=null,U--)}function le(i,s){U++,Oe[U]=i.current,i.current=s}var pe=se(null),Ce=se(null),ge=se(null),ut=se(null);function ze(i,s){switch(le(ge,s),le(Ce,i),le(pe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?oT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=oT(s),i=lT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(pe),le(pe,i)}function bn(){ue(pe),ue(Ce),ue(ge)}function bi(i){i.memoizedState!==null&&le(ut,i);var s=pe.current,o=lT(s,i.type);s!==o&&(le(Ce,i),le(pe,o))}function Hn(i){Ce.current===i&&(ue(pe),ue(Ce)),ut.current===i&&(ue(ut),gu._currentValue=he)}var Ti=Object.prototype.hasOwnProperty,er=t.unstable_scheduleCallback,Ei=t.unstable_cancelCallback,Us=t.unstable_shouldYield,Rc=t.unstable_requestPaint,qn=t.unstable_now,Yd=t.unstable_getCurrentPriorityLevel,ml=t.unstable_ImmediatePriority,Ua=t.unstable_UserBlockingPriority,js=t.unstable_NormalPriority,Qd=t.unstable_LowPriority,ja=t.unstable_IdlePriority,pl=t.log,Cc=t.unstable_setDisableYieldValue,_t=null,tt=null;function Mn(i){if(typeof pl=="function"&&Cc(i),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(_t,i)}catch{}}var un=Math.clz32?Math.clz32:Bs,xc=Math.log,Xd=Math.LN2;function Bs(i){return i>>>=0,i===0?32:31-(xc(i)/Xd|0)|0}var zs=256,Fs=4194304;function li(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ba(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,v=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~v,c!==0?m=li(c):(E&=A,E!==0?m=li(E):o||(o=A&~i,o!==0&&(m=li(o))))):(A=c&~v,A!==0?m=li(A):E!==0?m=li(E):o||(o=c&~i,o!==0&&(m=li(o)))),m===0?0:s!==0&&s!==m&&(s&v)===0&&(v=m&-m,o=s&-s,v>=o||v===32&&(o&4194048)!==0)?s:m}function Hs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function gl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vl(){var i=zs;return zs<<=1,(zs&4194048)===0&&(zs=256),i}function yl(){var i=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),i}function tr(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function nr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _l(i,s,o,c,m,v){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,L=i.expirationTimes,Y=i.hiddenUpdates;for(o=E&~o;0<o;){var te=31-un(o),ie=1<<te;A[te]=0,L[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var X=Q[te];X!==null&&(X.lane&=-536870913)}o&=~ie}c!==0&&Si(i,c,0),v!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=v&~(E&~s))}function Si(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-un(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function bl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-un(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Br(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function za(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zr(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:CT(i.type))}function Ic(i,s){var o=oe.p;try{return oe.p=i,s()}finally{oe.p=o}}var mt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+mt,It="__reactProps$"+mt,Gn="__reactContainer$"+mt,Tl="__reactEvents$"+mt,Wd="__reactListeners$"+mt,Fr="__reactHandles$"+mt,Dc="__reactResources$"+mt,qs="__reactMarker$"+mt;function Hr(i){delete i[Lt],delete i[It],delete i[Tl],delete i[Wd],delete i[Fr]}function ir(i){var s=i[Lt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Gn]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=fT(i);i!==null;){if(o=i[Lt])return o;i=fT(i)}return s}i=o,o=i.parentNode}return null}function wi(i){if(i=i[Lt]||i[Gn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ai(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Tn(i){var s=i[Dc];return s||(s=i[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(i){i[qs]=!0}var El=new Set,Fa={};function ui(i,s){rr(i,s),rr(i+"Capture",s)}function rr(i,s){for(Fa[i]=s,i=0;i<s.length;i++)El.add(s[i])}var Oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},Gs={};function Vc(i){return Ti.call(Gs,i)?!0:Ti.call(Mc,i)?!1:Oc.test(i)?Gs[i]=!0:(Mc[i]=!0,!1)}function qr(i,s,o){if(Vc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Ri(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Wt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}var $s,Pc;function sr(i){if($s===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);$s=s&&s[1]||"",Pc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+i+Pc}var Ha=!1;function qa(i,s){if(!i||Ha)return"";Ha=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Q=X}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(X){Q=X}i.call(ie.prototype)}}else{try{throw Error()}catch(X){Q=X}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),E=v[0],A=v[1];if(E&&A){var L=E.split(`
`),Y=A.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===Y.length)for(c=L.length-1,m=Y.length-1;1<=c&&0<=m&&L[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==Y[m]){var te=`
`+L[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=m);break}}}finally{Ha=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?sr(o):""}function Sl(i){switch(i.tag){case 26:case 27:case 5:return sr(i.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return qa(i.type,!1);case 11:return qa(i.type.render,!1);case 1:return qa(i.type,!0);case 31:return sr("Activity");default:return""}}function Ga(i){try{var s="";do s+=Sl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function En(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function wl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zd(i){var s=wl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){c=""+E,v.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function $a(i){i._valueTracker||(i._valueTracker=Zd(i))}function Al(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=wl(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Ks(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Jd=/[\n"\\]/g;function Dt(i){return i.replace(Jd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vn(i,s,o,c,m,v,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+En(s)):i.value!==""+En(s)&&(i.value=""+En(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Gr(i,E,En(s)):o!=null?Gr(i,E,En(o)):c!=null&&i.removeAttribute("value"),m==null&&v!=null&&(i.defaultChecked=!!v),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+En(A):i.removeAttribute("name")}function Ys(i,s,o,c,m,v,E,A){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;o=o!=null?""+En(o):"",s=s!=null?""+En(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Gr(i,s,o){s==="number"&&Ks(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ar(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+En(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function st(i,s,o){if(s!=null&&(s=""+En(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+En(o):""}function Qs(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(Ie(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=En(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function $n(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Xs.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Rl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&Nc(i,m,c)}else for(var v in s)s.hasOwnProperty(v)&&Nc(i,v,s[v])}function Cl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(i){return tm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var or=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lr=null,ur=null;function xl(i){var s=wi(i);if(s&&(i=s.stateNode)){var o=i[It]||null;e:switch(i=s.stateNode,s.type){case"input":if(Vn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[It]||null;if(!m)throw Error(r(90));Vn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&Al(c)}break e;case"textarea":st(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ar(i,!!o.multiple,s,!1)}}}var Ci=!1;function Lc(i,s,o){if(Ci)return i(s,o);Ci=!0;try{var c=i(s);return c}finally{if(Ci=!1,(lr!==null||ur!==null)&&(Ih(),lr&&(s=lr,i=ur,ur=lr=null,xl(s),i)))for(s=0;s<i.length;s++)xl(i[s])}}function Ws(i,s){var o=i.stateNode;if(o===null)return null;var c=o[It]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(ci)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Yn=!1}var xi=null,$r=null,cr=null;function Il(){if(cr)return cr;var i,s=$r,o=s.length,c,m="value"in xi?xi.value:xi.textContent,v=m.length;for(i=0;i<o&&s[i]===m[i];i++);var E=o-i;for(c=1;c<=E&&s[o-c]===m[v-c];c++);return cr=m.slice(i,1<c?1-c:void 0)}function Ii(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Di(){return!0}function Dl(){return!1}function Ht(i){function s(o,c,m,v,E){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Di:Dl,this.isPropagationStopped=Dl,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Ht(Ze),Js=g({},Ze,{view:0,detail:0}),kc=Ht(Js),Qa,Xa,Oi,ea=g({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oi&&(Oi&&i.type==="mousemove"?(Qa=i.screenX-Oi.screenX,Xa=i.screenY-Oi.screenY):Xa=Qa=0,Oi=i),Qa)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),Qn=Ht(ea),Uc=g({},ea,{dataTransfer:0}),nm=Ht(Uc),ta=g({},Js,{relatedTarget:0}),Wa=Ht(ta),Ol=g({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=Ht(Ol),jc=g({},Ze,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ja=Ht(jc),im=g({},Ze,{data:0}),Ml=Ht(im),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=zc[i])?!!s[i]:!1}function ia(){return Vl}var Fc=g({},Js,{key:function(i){if(i.key){var s=na[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ii(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(i){return i.type==="keypress"?Ii(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ii(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eo=Ht(Fc),Hc=g({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=Ht(Hc),hr=g({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),qc=Ht(hr),Gc=g({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),$c=Ht(Gc),Kc=g({},ea,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),to=Ht(Kc),Sn=g({},Ze,{newState:0,oldState:0}),Yc=Ht(Sn),Qc=[9,13,27,32],Mi=ci&&"CompositionEvent"in window,f=null;ci&&"documentMode"in document&&(f=document.documentMode);var y=ci&&"TextEvent"in window&&!f,b=ci&&(!Mi||f&&8<f&&11>=f),R=" ",$=!1;function J(i,s){switch(i){case"keyup":return Qc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qe=!1;function kt(i,s){switch(i){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:($=!0,R);case"textInput":return i=s.data,i===R&&$?null:i;default:return null}}function Ge(i,s){if(qe)return i==="compositionend"||!Mi&&J(i,s)?(i=Il(),cr=$r=xi=null,qe=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!qt[i.type]:s==="textarea"}function fr(i,s,o,c){lr?ur?ur.push(c):ur=[c]:lr=c,s=Nh(s,"onChange"),0<s.length&&(o=new Ya("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var Zt=null,Vi=null;function Nl(i){nT(i,0)}function Xc(i){var s=Ai(i);if(Al(s))return i}function S0(i,s){if(i==="change")return s}var w0=!1;if(ci){var rm;if(ci){var sm="oninput"in document;if(!sm){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),sm=typeof A0.oninput=="function"}rm=sm}else rm=!1;w0=rm&&(!document.documentMode||9<document.documentMode)}function R0(){Zt&&(Zt.detachEvent("onpropertychange",C0),Vi=Zt=null)}function C0(i){if(i.propertyName==="value"&&Xc(Vi)){var s=[];fr(s,Vi,i,Kn(i)),Lc(Nl,s)}}function mI(i,s,o){i==="focusin"?(R0(),Zt=s,Vi=o,Zt.attachEvent("onpropertychange",C0)):i==="focusout"&&R0()}function pI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xc(Vi)}function gI(i,s){if(i==="click")return Xc(s)}function vI(i,s){if(i==="input"||i==="change")return Xc(s)}function yI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Pn=typeof Object.is=="function"?Object.is:yI;function Ll(i,s){if(Pn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ti.call(s,m)||!Pn(i[m],s[m]))return!1}return!0}function x0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function I0(i,s){var o=x0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=x0(o)}}function D0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?D0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function O0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ks(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Ks(i.document)}return s}function am(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var _I=ci&&"documentMode"in document&&11>=document.documentMode,no=null,om=null,kl=null,lm=!1;function M0(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lm||no==null||no!==Ks(c)||(c=no,"selectionStart"in c&&am(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),kl&&Ll(kl,c)||(kl=c,c=Nh(om,"onSelect"),0<c.length&&(s=new Ya("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=no)))}function ra(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var io={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},um={},V0={};ci&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function sa(i){if(um[i])return um[i];if(!io[i])return i;var s=io[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in V0)return um[i]=s[o];return i}var P0=sa("animationend"),N0=sa("animationiteration"),L0=sa("animationstart"),bI=sa("transitionrun"),TI=sa("transitionstart"),EI=sa("transitioncancel"),k0=sa("transitionend"),U0=new Map,cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cm.push("scrollEnd");function hi(i,s){U0.set(i,s),ui(s,[i])}var j0=new WeakMap;function Xn(i,s){if(typeof i=="object"&&i!==null){var o=j0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ga(s)},j0.set(i,s),s)}return{value:i,source:s,stack:Ga(s)}}var Wn=[],ro=0,hm=0;function Wc(){for(var i=ro,s=hm=ro=0;s<i;){var o=Wn[s];Wn[s++]=null;var c=Wn[s];Wn[s++]=null;var m=Wn[s];Wn[s++]=null;var v=Wn[s];if(Wn[s++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}v!==0&&B0(o,m,v)}}function Zc(i,s,o,c){Wn[ro++]=i,Wn[ro++]=s,Wn[ro++]=o,Wn[ro++]=c,hm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function fm(i,s,o,c){return Zc(i,s,o,c),Jc(i)}function so(i,s){return Zc(i,null,null,s),Jc(i)}function B0(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,v=i.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(m=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,m&&s!==null&&(m=31-un(o),i=v.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),v):null}function Jc(i){if(50<lu)throw lu=0,yp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ao={};function SI(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,s,o,c){return new SI(i,s,o,c)}function dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function dr(i,s){var o=i.alternate;return o===null?(o=Nn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function z0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function eh(i,s,o,c,m,v){var E=0;if(c=i,typeof i=="function")dm(i)&&(E=1);else if(typeof i=="string")E=A2(i,o,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Nn(31,o,s,m),i.elementType=I,i.lanes=v,i;case C:return aa(o.children,m,v,s);case V:E=8,m|=24;break;case x:return i=Nn(12,o,s,m|2),i.elementType=x,i.lanes=v,i;case j:return i=Nn(13,o,s,m),i.elementType=j,i.lanes=v,i;case Z:return i=Nn(19,o,s,m),i.elementType=Z,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:case H:E=10;break e;case G:E=9;break e;case ee:E=11;break e;case D:E=14;break e;case w:E=16,c=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Nn(E,o,s,m),s.elementType=i,s.type=c,s.lanes=v,s}function aa(i,s,o,c){return i=Nn(7,i,c,s),i.lanes=o,i}function mm(i,s,o){return i=Nn(6,i,null,s),i.lanes=o,i}function pm(i,s,o){return s=Nn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var oo=[],lo=0,th=null,nh=0,Zn=[],Jn=0,oa=null,mr=1,pr="";function la(i,s){oo[lo++]=nh,oo[lo++]=th,th=i,nh=s}function F0(i,s,o){Zn[Jn++]=mr,Zn[Jn++]=pr,Zn[Jn++]=oa,oa=i;var c=mr;i=pr;var m=32-un(c)-1;c&=~(1<<m),o+=1;var v=32-un(s)+m;if(30<v){var E=m-m%5;v=(c&(1<<E)-1).toString(32),c>>=E,m-=E,mr=1<<32-un(s)+m|o<<m|c,pr=v+i}else mr=1<<v|o<<m|c,pr=i}function gm(i){i.return!==null&&(la(i,1),F0(i,1,0))}function vm(i){for(;i===th;)th=oo[--lo],oo[lo]=null,nh=oo[--lo],oo[lo]=null;for(;i===oa;)oa=Zn[--Jn],Zn[Jn]=null,pr=Zn[--Jn],Zn[Jn]=null,mr=Zn[--Jn],Zn[Jn]=null}var wn=null,bt=null,Qe=!1,ua=null,Pi=!1,ym=Error(r(519));function ca(i){var s=Error(r(418,""));throw Bl(Xn(s,i)),ym}function H0(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Lt]=i,s[It]=c,o){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(o=0;o<cu.length;o++)je(cu[o],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Ys(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),$a(s);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Qs(s,c.value,c.defaultValue,c.children),$a(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||aT(s.textContent,o)?(c.popover!=null&&(je("beforetoggle",s),je("toggle",s)),c.onScroll!=null&&je("scroll",s),c.onScrollEnd!=null&&je("scrollend",s),c.onClick!=null&&(s.onclick=Lh),s=!0):s=!1,s||ca(i)}function q0(i){for(wn=i.return;wn;)switch(wn.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:wn=wn.return}}function Ul(i){if(i!==wn)return!1;if(!Qe)return q0(i),Qe=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Pp(i.type,i.memoizedProps)),o=!o),o&&bt&&ca(i),q0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){bt=di(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}bt=null}}else s===27?(s=bt,ls(i.type)?(i=Up,Up=null,bt=i):bt=s):bt=wn?di(i.stateNode.nextSibling):null;return!0}function jl(){bt=wn=null,Qe=!1}function G0(){var i=ua;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),ua=null),i}function Bl(i){ua===null?ua=[i]:ua.push(i)}var _m=se(null),ha=null,gr=null;function Kr(i,s,o){le(_m,s._currentValue),s._currentValue=o}function vr(i){i._currentValue=_m.current,ue(_m)}function bm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Tm(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var v=m.dependencies;if(v!==null){var E=m.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=m;for(var L=0;L<s.length;L++)if(A.context===s[L]){v.lanes|=o,A=v.alternate,A!==null&&(A.lanes|=o),bm(v.return,o,i),c||(E=null);break e}v=A.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(r(341));E.lanes|=o,v=E.alternate,v!==null&&(v.lanes|=o),bm(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function zl(i,s,o,c){i=null;for(var m=s,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=m.type;Pn(m.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(m===ut.current){if(E=m.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(gu):i=[gu])}m=m.return}i!==null&&Tm(s,i,o,c),s.flags|=262144}function ih(i){for(i=i.firstContext;i!==null;){if(!Pn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fa(i){ha=i,gr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function cn(i){return $0(ha,i)}function rh(i,s){return ha===null&&fa(i),$0(i,s)}function $0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},gr===null){if(i===null)throw Error(r(308));gr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else gr=gr.next=s;return o}var wI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},AI=t.unstable_scheduleCallback,RI=t.unstable_NormalPriority,jt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Em(){return{controller:new wI,data:new Map,refCount:0}}function Fl(i){i.refCount--,i.refCount===0&&AI(RI,function(){i.controller.abort()})}var Hl=null,Sm=0,uo=0,co=null;function CI(i,s){if(Hl===null){var o=Hl=[];Sm=0,uo=Ap(),co={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Sm++,s.then(K0,K0),s}function K0(){if(--Sm===0&&Hl!==null){co!==null&&(co.status="fulfilled");var i=Hl;Hl=null,uo=0,co=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function xI(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Y0=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&CI(i,s),Y0!==null&&Y0(i,s)};var da=se(null);function wm(){var i=da.current;return i!==null?i:ht.pooledCache}function sh(i,s){s===null?le(da,da.current):le(da,s.pool)}function Q0(){var i=wm();return i===null?null:{parent:jt._currentValue,pool:i}}var ql=Error(r(460)),X0=Error(r(474)),ah=Error(r(542)),Am={then:function(){}};function W0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function oh(){}function Z0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(oh,oh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,e_(i),i;default:if(typeof s.status=="string")s.then(oh,oh);else{if(i=ht,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,e_(i),i}throw Gl=s,ql}}var Gl=null;function J0(){if(Gl===null)throw Error(r(459));var i=Gl;return Gl=null,i}function e_(i){if(i===ql||i===ah)throw Error(r(483))}var Yr=!1;function Rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Qr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xr(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Jc(i),B0(i,null,o),s}return Zc(i,c,s,o),Jc(i)}function $l(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,bl(i,o)}}function xm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=E:v=v.next=E,o=o.next}while(o!==null);v===null?m=v=s:v=v.next=s}else m=v=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Im=!1;function Kl(){if(Im){var i=co;if(i!==null)throw i}}function Yl(i,s,o,c){Im=!1;var m=i.updateQueue;Yr=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,Y=L.next;L.next=null,E===null?v=Y:E.next=Y,E=L;var te=i.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==E&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=L))}if(v!==null){var ie=m.baseState;E=0,te=Y=L=null,A=v;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?($e&Q)===Q:(c&Q)===Q){Q!==0&&Q===uo&&(Im=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ae=i,Te=A;Q=s;var lt=o;switch(Te.tag){case 1:if(Ae=Te.payload,typeof Ae=="function"){ie=Ae.call(lt,ie,Q);break e}ie=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Te.payload,Q=typeof Ae=="function"?Ae.call(lt,ie,Q):Ae,Q==null)break e;ie=g({},ie,Q);break e;case 2:Yr=!0}}Q=A.callback,Q!==null&&(i.flags|=64,X&&(i.flags|=8192),X=m.callbacks,X===null?m.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=X,L=ie):te=te.next=X,E|=Q;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;X=A,A=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);te===null&&(L=ie),m.baseState=L,m.firstBaseUpdate=Y,m.lastBaseUpdate=te,v===null&&(m.shared.lanes=0),rs|=E,i.lanes=E,i.memoizedState=ie}}function t_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function n_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)t_(o[i],s)}var ho=se(null),lh=se(0);function i_(i,s){i=wr,le(lh,i),le(ho,s),wr=i|s.baseLanes}function Dm(){le(lh,wr),le(ho,ho.current)}function Om(){wr=lh.current,ue(ho),ue(lh)}var Wr=0,Ne=null,at=null,Ot=null,uh=!1,fo=!1,ma=!1,ch=0,Ql=0,mo=null,II=0;function At(){throw Error(r(321))}function Mm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Pn(i[o],s[o]))return!1;return!0}function Vm(i,s,o,c,m,v){return Wr=v,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?B_:z_,ma=!1,v=o(c,m),ma=!1,fo&&(v=s_(s,o,c,m)),r_(i),v}function r_(i){W.H=gh;var s=at!==null&&at.next!==null;if(Wr=0,Ot=at=Ne=null,uh=!1,Ql=0,mo=null,s)throw Error(r(300));i===null||Gt||(i=i.dependencies,i!==null&&ih(i)&&(Gt=!0))}function s_(i,s,o,c){Ne=i;var m=0;do{if(fo&&(mo=null),Ql=0,fo=!1,25<=m)throw Error(r(301));if(m+=1,Ot=at=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=LI,v=s(o,c)}while(fo);return v}function DI(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?Xl(s):s,i=i.useState()[0],(at!==null?at.memoizedState:null)!==i&&(Ne.flags|=1024),s}function Pm(){var i=ch!==0;return ch=0,i}function Nm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Lm(i){if(uh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}uh=!1}Wr=0,Ot=at=Ne=null,fo=!1,Ql=ch=0,mo=null}function Rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Mt(){if(at===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=at.next;var s=Ot===null?Ne.memoizedState:Ot.next;if(s!==null)Ot=s,at=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));at=i,i={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ot===null?Ne.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(i){var s=Ql;return Ql+=1,mo===null&&(mo=[]),i=Z0(mo,i,s),s=Ne,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?B_:z_),i}function hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xl(i);if(i.$$typeof===H)return cn(i)}throw Error(r(438,String(i)))}function Um(i){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=km(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=N;return s.index++,o}function yr(i,s){return typeof s=="function"?s(i):s}function fh(i){var s=Mt();return jm(s,at,i)}function jm(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,v=c.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}s.baseQueue=m=v,c.pending=null}if(v=i.baseState,m===null)i.memoizedState=v;else{s=m.next;var A=E=null,L=null,Y=s,te=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?($e&ie)===ie:(Wr&ie)===ie){var Q=Y.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===uo&&(te=!0);else if((Wr&Q)===Q){Y=Y.next,Q===uo&&(te=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(A=L=ie,E=v):L=L.next=ie,Ne.lanes|=Q,rs|=Q;ie=Y.action,ma&&o(v,ie),v=Y.hasEagerState?Y.eagerState:o(v,ie)}else Q={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(A=L=Q,E=v):L=L.next=Q,Ne.lanes|=ie,rs|=ie;Y=Y.next}while(Y!==null&&Y!==s);if(L===null?E=v:L.next=A,!Pn(v,i.memoizedState)&&(Gt=!0,te&&(o=co,o!==null)))throw o;i.memoizedState=v,i.baseState=E,i.baseQueue=L,c.lastRenderedState=v}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Bm(i){var s=Mt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,v=s.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do v=i(v,E.action),E=E.next;while(E!==m);Pn(v,s.memoizedState)||(Gt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,c]}function a_(i,s,o){var c=Ne,m=Mt(),v=Qe;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Pn((at||m).memoizedState,o);E&&(m.memoizedState=o,Gt=!0),m=m.queue;var A=u_.bind(null,c,m,i);if(Wl(2048,8,A,[i]),m.getSnapshot!==s||E||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,po(9,dh(),l_.bind(null,c,m,o,s),null),ht===null)throw Error(r(349));v||(Wr&124)!==0||o_(c,s,o)}return o}function o_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=km(),Ne.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function l_(i,s,o,c){s.value=o,s.getSnapshot=c,c_(s)&&h_(i)}function u_(i,s,o){return o(function(){c_(s)&&h_(i)})}function c_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Pn(i,o)}catch{return!0}}function h_(i){var s=so(i,2);s!==null&&Bn(s,i,2)}function zm(i){var s=Rn();if(typeof i=="function"){var o=i;if(i=o(),ma){Mn(!0);try{o()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:i},s}function f_(i,s,o,c){return i.baseState=o,jm(i,at,typeof c=="function"?c:yr)}function OI(i,s,o,c,m){if(ph(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};W.T!==null?o(!0):v.isTransition=!1,c(v),o=s.pending,o===null?(v.next=s.pending=v,d_(s,v)):(v.next=o.next,s.pending=o.next=v)}}function d_(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var v=W.T,E={};W.T=E;try{var A=o(m,c),L=W.S;L!==null&&L(E,A),m_(i,s,A)}catch(Y){Fm(i,s,Y)}finally{W.T=v}}else try{v=o(m,c),m_(i,s,v)}catch(Y){Fm(i,s,Y)}}function m_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){p_(i,s,c)},function(c){return Fm(i,s,c)}):p_(i,s,o)}function p_(i,s,o){s.status="fulfilled",s.value=o,g_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,d_(i,o)))}function Fm(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,g_(s),s=s.next;while(s!==c)}i.action=null}function g_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function v_(i,s){return s}function y_(i,s){if(Qe){var o=ht.formState;if(o!==null){e:{var c=Ne;if(Qe){if(bt){t:{for(var m=bt,v=Pi;m.nodeType!==8;){if(!v){m=null;break t}if(m=di(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){bt=di(m.nextSibling),c=m.data==="F!";break e}}ca(c)}c=!1}c&&(s=o[0])}}return o=Rn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v_,lastRenderedState:s},o.queue=c,o=k_.bind(null,Ne,c),c.dispatch=o,c=zm(!1),v=Km.bind(null,Ne,!1,c.queue),c=Rn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=OI.bind(null,Ne,m,v,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function __(i){var s=Mt();return b_(s,at,i)}function b_(i,s,o){if(s=jm(i,s,v_)[0],i=fh(yr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Xl(s)}catch(E){throw E===ql?ah:E}else c=s;s=Mt();var m=s.queue,v=m.dispatch;return o!==s.memoizedState&&(Ne.flags|=2048,po(9,dh(),MI.bind(null,m,o),null)),[c,v,i]}function MI(i,s){i.action=s}function T_(i){var s=Mt(),o=at;if(o!==null)return b_(s,o,i);Mt(),s=s.memoizedState,o=Mt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function po(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=km(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function dh(){return{destroy:void 0,resource:void 0}}function E_(){return Mt().memoizedState}function mh(i,s,o,c){var m=Rn();c=c===void 0?null:c,Ne.flags|=i,m.memoizedState=po(1|s,dh(),o,c)}function Wl(i,s,o,c){var m=Mt();c=c===void 0?null:c;var v=m.memoizedState.inst;at!==null&&c!==null&&Mm(c,at.memoizedState.deps)?m.memoizedState=po(s,v,o,c):(Ne.flags|=i,m.memoizedState=po(1|s,v,o,c))}function S_(i,s){mh(8390656,8,i,s)}function w_(i,s){Wl(2048,8,i,s)}function A_(i,s){return Wl(4,2,i,s)}function R_(i,s){return Wl(4,4,i,s)}function C_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function x_(i,s,o){o=o!=null?o.concat([i]):null,Wl(4,4,C_.bind(null,s,i),o)}function Hm(){}function I_(i,s){var o=Mt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Mm(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function D_(i,s){var o=Mt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Mm(s,c[1]))return c[0];if(c=i(),ma){Mn(!0);try{i()}finally{Mn(!1)}}return o.memoizedState=[c,s],c}function qm(i,s,o){return o===void 0||(Wr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=Vb(),Ne.lanes|=i,rs|=i,o)}function O_(i,s,o,c){return Pn(o,s)?o:ho.current!==null?(i=qm(i,o,c),Pn(i,s)||(Gt=!0),i):(Wr&42)===0?(Gt=!0,i.memoizedState=o):(i=Vb(),Ne.lanes|=i,rs|=i,s)}function M_(i,s,o,c,m){var v=oe.p;oe.p=v!==0&&8>v?v:8;var E=W.T,A={};W.T=A,Km(i,!1,s,o);try{var L=m(),Y=W.S;if(Y!==null&&Y(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var te=xI(L,c);Zl(i,s,te,jn(i))}else Zl(i,s,c,jn(i))}catch(ie){Zl(i,s,{then:function(){},status:"rejected",reason:ie},jn())}finally{oe.p=v,W.T=E}}function VI(){}function Gm(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=V_(i).queue;M_(i,m,s,he,o===null?VI:function(){return P_(i),o(c)})}function V_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:he},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function P_(i){var s=V_(i).next.queue;Zl(i,s,{},jn())}function $m(){return cn(gu)}function N_(){return Mt().memoizedState}function L_(){return Mt().memoizedState}function PI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=jn();i=Qr(o);var c=Xr(s,i,o);c!==null&&(Bn(c,s,o),$l(c,s,o)),s={cache:Em()},i.payload=s;return}s=s.return}}function NI(i,s,o){var c=jn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ph(i)?U_(s,o):(o=fm(i,s,o,c),o!==null&&(Bn(o,i,c),j_(o,s,c)))}function k_(i,s,o){var c=jn();Zl(i,s,o,c)}function Zl(i,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(i))U_(s,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,A=v(E,o);if(m.hasEagerState=!0,m.eagerState=A,Pn(A,E))return Zc(i,s,m,0),ht===null&&Wc(),!1}catch{}finally{}if(o=fm(i,s,m,c),o!==null)return Bn(o,i,c),j_(o,s,c),!0}return!1}function Km(i,s,o,c){if(c={lane:2,revertLane:Ap(),action:c,hasEagerState:!1,eagerState:null,next:null},ph(i)){if(s)throw Error(r(479))}else s=fm(i,o,c,2),s!==null&&Bn(s,i,2)}function ph(i){var s=i.alternate;return i===Ne||s!==null&&s===Ne}function U_(i,s){fo=uh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function j_(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,bl(i,o)}}var gh={readContext:cn,use:hh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},B_={readContext:cn,use:hh,useCallback:function(i,s){return Rn().memoizedState=[i,s===void 0?null:s],i},useContext:cn,useEffect:S_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,mh(4194308,4,C_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return mh(4194308,4,i,s)},useInsertionEffect:function(i,s){mh(4,2,i,s)},useMemo:function(i,s){var o=Rn();s=s===void 0?null:s;var c=i();if(ma){Mn(!0);try{i()}finally{Mn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Rn();if(o!==void 0){var m=o(s);if(ma){Mn(!0);try{o(s)}finally{Mn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=NI.bind(null,Ne,i),[c.memoizedState,i]},useRef:function(i){var s=Rn();return i={current:i},s.memoizedState=i},useState:function(i){i=zm(i);var s=i.queue,o=k_.bind(null,Ne,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Hm,useDeferredValue:function(i,s){var o=Rn();return qm(o,i,s)},useTransition:function(){var i=zm(!1);return i=M_.bind(null,Ne,i.queue,!0,!1),Rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Ne,m=Rn();if(Qe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ht===null)throw Error(r(349));($e&124)!==0||o_(c,s,o)}m.memoizedState=o;var v={value:o,getSnapshot:s};return m.queue=v,S_(u_.bind(null,c,v,i),[i]),c.flags|=2048,po(9,dh(),l_.bind(null,c,v,o,s),null),o},useId:function(){var i=Rn(),s=ht.identifierPrefix;if(Qe){var o=pr,c=mr;o=(c&~(1<<32-un(c)-1)).toString(32)+o,s="«"+s+"R"+o,o=ch++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=II++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:$m,useFormState:y_,useActionState:y_,useOptimistic:function(i){var s=Rn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Km.bind(null,Ne,!0,o),o.dispatch=s,[i,s]},useMemoCache:Um,useCacheRefresh:function(){return Rn().memoizedState=PI.bind(null,Ne)}},z_={readContext:cn,use:hh,useCallback:I_,useContext:cn,useEffect:w_,useImperativeHandle:x_,useInsertionEffect:A_,useLayoutEffect:R_,useMemo:D_,useReducer:fh,useRef:E_,useState:function(){return fh(yr)},useDebugValue:Hm,useDeferredValue:function(i,s){var o=Mt();return O_(o,at.memoizedState,i,s)},useTransition:function(){var i=fh(yr)[0],s=Mt().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:a_,useId:N_,useHostTransitionStatus:$m,useFormState:__,useActionState:__,useOptimistic:function(i,s){var o=Mt();return f_(o,at,i,s)},useMemoCache:Um,useCacheRefresh:L_},LI={readContext:cn,use:hh,useCallback:I_,useContext:cn,useEffect:w_,useImperativeHandle:x_,useInsertionEffect:A_,useLayoutEffect:R_,useMemo:D_,useReducer:Bm,useRef:E_,useState:function(){return Bm(yr)},useDebugValue:Hm,useDeferredValue:function(i,s){var o=Mt();return at===null?qm(o,i,s):O_(o,at.memoizedState,i,s)},useTransition:function(){var i=Bm(yr)[0],s=Mt().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:a_,useId:N_,useHostTransitionStatus:$m,useFormState:T_,useActionState:T_,useOptimistic:function(i,s){var o=Mt();return at!==null?f_(o,at,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Um,useCacheRefresh:L_},go=null,Jl=0;function vh(i){var s=Jl;return Jl+=1,go===null&&(go=[]),Z0(go,i,s)}function eu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function yh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function F_(i){var s=i._init;return s(i._payload)}function H_(i){function s(q,F){if(i){var K=q.deletions;K===null?(q.deletions=[F],q.flags|=16):K.push(F)}}function o(q,F){if(!i)return null;for(;F!==null;)s(q,F),F=F.sibling;return null}function c(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function m(q,F){return q=dr(q,F),q.index=0,q.sibling=null,q}function v(q,F,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<F?(q.flags|=67108866,F):K):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function E(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,F,K,ne){return F===null||F.tag!==6?(F=mm(K,q.mode,ne),F.return=q,F):(F=m(F,K),F.return=q,F)}function L(q,F,K,ne){var me=K.type;return me===C?te(q,F,K.props.children,ne,K.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&F_(me)===F.type)?(F=m(F,K.props),eu(F,K),F.return=q,F):(F=eh(K.type,K.key,K.props,null,q.mode,ne),eu(F,K),F.return=q,F)}function Y(q,F,K,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=pm(K,q.mode,ne),F.return=q,F):(F=m(F,K.children||[]),F.return=q,F)}function te(q,F,K,ne,me){return F===null||F.tag!==7?(F=aa(K,q.mode,ne,me),F.return=q,F):(F=m(F,K),F.return=q,F)}function ie(q,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=mm(""+F,q.mode,K),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return K=eh(F.type,F.key,F.props,null,q.mode,K),eu(K,F),K.return=q,K;case S:return F=pm(F,q.mode,K),F.return=q,F;case w:var ne=F._init;return F=ne(F._payload),ie(q,F,K)}if(Ie(F)||z(F))return F=aa(F,q.mode,K,null),F.return=q,F;if(typeof F.then=="function")return ie(q,vh(F),K);if(F.$$typeof===H)return ie(q,rh(q,F),K);yh(q,F)}return null}function Q(q,F,K,ne){var me=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:A(q,F,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return K.key===me?L(q,F,K,ne):null;case S:return K.key===me?Y(q,F,K,ne):null;case w:return me=K._init,K=me(K._payload),Q(q,F,K,ne)}if(Ie(K)||z(K))return me!==null?null:te(q,F,K,ne,null);if(typeof K.then=="function")return Q(q,F,vh(K),ne);if(K.$$typeof===H)return Q(q,F,rh(q,K),ne);yh(q,K)}return null}function X(q,F,K,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(K)||null,A(F,q,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return q=q.get(ne.key===null?K:ne.key)||null,L(F,q,ne,me);case S:return q=q.get(ne.key===null?K:ne.key)||null,Y(F,q,ne,me);case w:var ke=ne._init;return ne=ke(ne._payload),X(q,F,K,ne,me)}if(Ie(ne)||z(ne))return q=q.get(K)||null,te(F,q,ne,me,null);if(typeof ne.then=="function")return X(q,F,K,vh(ne),me);if(ne.$$typeof===H)return X(q,F,K,rh(F,ne),me);yh(F,ne)}return null}function Ae(q,F,K,ne){for(var me=null,ke=null,ve=F,Ee=F=0,Kt=null;ve!==null&&Ee<K.length;Ee++){ve.index>Ee?(Kt=ve,ve=null):Kt=ve.sibling;var Ye=Q(q,ve,K[Ee],ne);if(Ye===null){ve===null&&(ve=Kt);break}i&&ve&&Ye.alternate===null&&s(q,ve),F=v(Ye,F,Ee),ke===null?me=Ye:ke.sibling=Ye,ke=Ye,ve=Kt}if(Ee===K.length)return o(q,ve),Qe&&la(q,Ee),me;if(ve===null){for(;Ee<K.length;Ee++)ve=ie(q,K[Ee],ne),ve!==null&&(F=v(ve,F,Ee),ke===null?me=ve:ke.sibling=ve,ke=ve);return Qe&&la(q,Ee),me}for(ve=c(ve);Ee<K.length;Ee++)Kt=X(ve,q,Ee,K[Ee],ne),Kt!==null&&(i&&Kt.alternate!==null&&ve.delete(Kt.key===null?Ee:Kt.key),F=v(Kt,F,Ee),ke===null?me=Kt:ke.sibling=Kt,ke=Kt);return i&&ve.forEach(function(ds){return s(q,ds)}),Qe&&la(q,Ee),me}function Te(q,F,K,ne){if(K==null)throw Error(r(151));for(var me=null,ke=null,ve=F,Ee=F=0,Kt=null,Ye=K.next();ve!==null&&!Ye.done;Ee++,Ye=K.next()){ve.index>Ee?(Kt=ve,ve=null):Kt=ve.sibling;var ds=Q(q,ve,Ye.value,ne);if(ds===null){ve===null&&(ve=Kt);break}i&&ve&&ds.alternate===null&&s(q,ve),F=v(ds,F,Ee),ke===null?me=ds:ke.sibling=ds,ke=ds,ve=Kt}if(Ye.done)return o(q,ve),Qe&&la(q,Ee),me;if(ve===null){for(;!Ye.done;Ee++,Ye=K.next())Ye=ie(q,Ye.value,ne),Ye!==null&&(F=v(Ye,F,Ee),ke===null?me=Ye:ke.sibling=Ye,ke=Ye);return Qe&&la(q,Ee),me}for(ve=c(ve);!Ye.done;Ee++,Ye=K.next())Ye=X(ve,q,Ee,Ye.value,ne),Ye!==null&&(i&&Ye.alternate!==null&&ve.delete(Ye.key===null?Ee:Ye.key),F=v(Ye,F,Ee),ke===null?me=Ye:ke.sibling=Ye,ke=Ye);return i&&ve.forEach(function(k2){return s(q,k2)}),Qe&&la(q,Ee),me}function lt(q,F,K,ne){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case T:e:{for(var me=K.key;F!==null;){if(F.key===me){if(me=K.type,me===C){if(F.tag===7){o(q,F.sibling),ne=m(F,K.props.children),ne.return=q,q=ne;break e}}else if(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&F_(me)===F.type){o(q,F.sibling),ne=m(F,K.props),eu(ne,K),ne.return=q,q=ne;break e}o(q,F);break}else s(q,F);F=F.sibling}K.type===C?(ne=aa(K.props.children,q.mode,ne,K.key),ne.return=q,q=ne):(ne=eh(K.type,K.key,K.props,null,q.mode,ne),eu(ne,K),ne.return=q,q=ne)}return E(q);case S:e:{for(me=K.key;F!==null;){if(F.key===me)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){o(q,F.sibling),ne=m(F,K.children||[]),ne.return=q,q=ne;break e}else{o(q,F);break}else s(q,F);F=F.sibling}ne=pm(K,q.mode,ne),ne.return=q,q=ne}return E(q);case w:return me=K._init,K=me(K._payload),lt(q,F,K,ne)}if(Ie(K))return Ae(q,F,K,ne);if(z(K)){if(me=z(K),typeof me!="function")throw Error(r(150));return K=me.call(K),Te(q,F,K,ne)}if(typeof K.then=="function")return lt(q,F,vh(K),ne);if(K.$$typeof===H)return lt(q,F,rh(q,K),ne);yh(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(o(q,F.sibling),ne=m(F,K),ne.return=q,q=ne):(o(q,F),ne=mm(K,q.mode,ne),ne.return=q,q=ne),E(q)):o(q,F)}return function(q,F,K,ne){try{Jl=0;var me=lt(q,F,K,ne);return go=null,me}catch(ve){if(ve===ql||ve===ah)throw ve;var ke=Nn(29,ve,null,q.mode);return ke.lanes=ne,ke.return=q,ke}finally{}}}var vo=H_(!0),q_=H_(!1),ei=se(null),Ni=null;function Zr(i){var s=i.alternate;le(Bt,Bt.current&1),le(ei,i),Ni===null&&(s===null||ho.current!==null||s.memoizedState!==null)&&(Ni=i)}function G_(i){if(i.tag===22){if(le(Bt,Bt.current),le(ei,i),Ni===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ni=i)}}else Jr()}function Jr(){le(Bt,Bt.current),le(ei,ei.current)}function _r(i){ue(ei),Ni===i&&(Ni=null),ue(Bt)}var Bt=se(0);function _h(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||kp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ym(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:g({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Qm={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=jn(),m=Qr(c);m.payload=s,o!=null&&(m.callback=o),s=Xr(i,m,c),s!==null&&(Bn(s,i,c),$l(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=jn(),m=Qr(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Xr(i,m,c),s!==null&&(Bn(s,i,c),$l(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=jn(),c=Qr(o);c.tag=2,s!=null&&(c.callback=s),s=Xr(i,c,o),s!==null&&(Bn(s,i,o),$l(s,i,o))}};function $_(i,s,o,c,m,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,v,E):s.prototype&&s.prototype.isPureReactComponent?!Ll(o,c)||!Ll(m,v):!0}function K_(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&Qm.enqueueReplaceState(s,s.state,null)}function pa(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=g({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var bh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Y_(i){bh(i)}function Q_(i){console.error(i)}function X_(i){bh(i)}function Th(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function W_(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Xm(i,s,o){return o=Qr(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(i,s)},o}function Z_(i){return i=Qr(i),i.tag=3,i}function J_(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;i.payload=function(){return m(v)},i.callback=function(){W_(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){W_(s,o,c),typeof m!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function kI(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&zl(s,o,m,!0),o=ei.current,o!==null){switch(o.tag){case 13:return Ni===null?bp():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Am?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Ep(i,c,m)),!1;case 22:return o.flags|=65536,c===Am?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Ep(i,c,m)),!1}throw Error(r(435,o.tag))}return Ep(i,c,m),bp(),!1}if(Qe)return s=ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==ym&&(i=Error(r(422),{cause:c}),Bl(Xn(i,o)))):(c!==ym&&(s=Error(r(423),{cause:c}),Bl(Xn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Xn(c,o),m=Xm(i.stateNode,c,m),xm(i,m),Tt!==4&&(Tt=2)),!1;var v=Error(r(520),{cause:c});if(v=Xn(v,o),ou===null?ou=[v]:ou.push(v),Tt!==4&&(Tt=2),s===null)return!0;c=Xn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Xm(o.stateNode,c,i),xm(o,i),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ss===null||!ss.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Z_(m),J_(m,i,o,c),xm(o,m),!1}o=o.return}while(o!==null);return!1}var eb=Error(r(461)),Gt=!1;function Jt(i,s,o,c){s.child=i===null?q_(s,null,o,c):vo(s,i.child,o,c)}function tb(i,s,o,c,m){o=o.render;var v=s.ref;if("ref"in c){var E={};for(var A in c)A!=="ref"&&(E[A]=c[A])}else E=c;return fa(s),c=Vm(i,s,o,E,v,m),A=Pm(),i!==null&&!Gt?(Nm(i,s,m),br(i,s,m)):(Qe&&A&&gm(s),s.flags|=1,Jt(i,s,c,m),s.child)}function nb(i,s,o,c,m){if(i===null){var v=o.type;return typeof v=="function"&&!dm(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,ib(i,s,v,c,m)):(i=eh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!rp(i,m)){var E=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ll,o(E,c)&&i.ref===s.ref)return br(i,s,m)}return s.flags|=1,i=dr(v,c),i.ref=s.ref,i.return=s,s.child=i}function ib(i,s,o,c,m){if(i!==null){var v=i.memoizedProps;if(Ll(v,c)&&i.ref===s.ref)if(Gt=!1,s.pendingProps=c=v,rp(i,m))(i.flags&131072)!==0&&(Gt=!0);else return s.lanes=i.lanes,br(i,s,m)}return Wm(i,s,o,c,m)}function rb(i,s,o){var c=s.pendingProps,m=c.children,v=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=v!==null?v.baseLanes|o:o,i!==null){for(m=s.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;s.childLanes=v&~c}else s.childLanes=0,s.child=null;return sb(i,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&sh(s,v!==null?v.cachePool:null),v!==null?i_(s,v):Dm(),G_(s);else return s.lanes=s.childLanes=536870912,sb(i,s,v!==null?v.baseLanes|o:o,o)}else v!==null?(sh(s,v.cachePool),i_(s,v),Jr(),s.memoizedState=null):(i!==null&&sh(s,null),Dm(),Jr());return Jt(i,s,m,o),s.child}function sb(i,s,o,c){var m=wm();return m=m===null?null:{parent:jt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&sh(s,null),Dm(),G_(s),i!==null&&zl(i,s,c,!0),null}function Eh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Wm(i,s,o,c,m){return fa(s),o=Vm(i,s,o,c,void 0,m),c=Pm(),i!==null&&!Gt?(Nm(i,s,m),br(i,s,m)):(Qe&&c&&gm(s),s.flags|=1,Jt(i,s,o,m),s.child)}function ab(i,s,o,c,m,v){return fa(s),s.updateQueue=null,o=s_(s,c,o,m),r_(i),c=Pm(),i!==null&&!Gt?(Nm(i,s,v),br(i,s,v)):(Qe&&c&&gm(s),s.flags|=1,Jt(i,s,o,v),s.child)}function ob(i,s,o,c,m){if(fa(s),s.stateNode===null){var v=ao,E=o.contextType;typeof E=="object"&&E!==null&&(v=cn(E)),v=new o(c,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qm,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=c,v.state=s.memoizedState,v.refs={},Rm(s),E=o.contextType,v.context=typeof E=="object"&&E!==null?cn(E):ao,v.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Ym(s,o,E,c),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Qm.enqueueReplaceState(v,v.state,null),Yl(s,c,v,m),Kl(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){v=s.stateNode;var A=s.memoizedProps,L=pa(o,A);v.props=L;var Y=v.context,te=o.contextType;E=ao,typeof te=="object"&&te!==null&&(E=cn(te));var ie=o.getDerivedStateFromProps;te=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||Y!==E)&&K_(s,v,c,E),Yr=!1;var Q=s.memoizedState;v.state=Q,Yl(s,c,v,m),Kl(),Y=s.memoizedState,A||Q!==Y||Yr?(typeof ie=="function"&&(Ym(s,o,ie,c),Y=s.memoizedState),(L=Yr||$_(s,o,L,c,Q,Y,E))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Y),v.props=c,v.state=Y,v.context=E,c=L):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,Cm(i,s),E=s.memoizedProps,te=pa(o,E),v.props=te,ie=s.pendingProps,Q=v.context,Y=o.contextType,L=ao,typeof Y=="object"&&Y!==null&&(L=cn(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==ie||Q!==L)&&K_(s,v,c,L),Yr=!1,Q=s.memoizedState,v.state=Q,Yl(s,c,v,m),Kl();var X=s.memoizedState;E!==ie||Q!==X||Yr||i!==null&&i.dependencies!==null&&ih(i.dependencies)?(typeof A=="function"&&(Ym(s,o,A,c),X=s.memoizedState),(te=Yr||$_(s,o,te,c,Q,X,L)||i!==null&&i.dependencies!==null&&ih(i.dependencies))?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,X,L),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,X,L)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=X),v.props=c,v.state=X,v.context=L,c=te):(typeof v.componentDidUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),c=!1)}return v=c,Eh(i,s),c=(s.flags&128)!==0,v||c?(v=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&c?(s.child=vo(s,i.child,null,m),s.child=vo(s,null,o,m)):Jt(i,s,o,m),s.memoizedState=v.state,i=s.child):i=br(i,s,m),i}function lb(i,s,o,c){return jl(),s.flags|=256,Jt(i,s,o,c),s.child}var Zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jm(i){return{baseLanes:i,cachePool:Q0()}}function ep(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ti),i}function ub(i,s,o){var c=s.pendingProps,m=!1,v=(s.flags&128)!==0,E;if((E=v)||(E=i!==null&&i.memoizedState===null?!1:(Bt.current&2)!==0),E&&(m=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Qe){if(m?Zr(s):Jr(),Qe){var A=bt,L;if(L=A){e:{for(L=A,A=Pi;L.nodeType!==8;){if(!A){A=null;break e}if(L=di(L.nextSibling),L===null){A=null;break e}}A=L}A!==null?(s.memoizedState={dehydrated:A,treeContext:oa!==null?{id:mr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},L=Nn(18,null,null,0),L.stateNode=A,L.return=s,s.child=L,wn=s,bt=null,L=!0):L=!1}L||ca(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return kp(A)?s.lanes=32:s.lanes=536870912,null;_r(s)}return A=c.children,c=c.fallback,m?(Jr(),m=s.mode,A=Sh({mode:"hidden",children:A},m),c=aa(c,m,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,m=s.child,m.memoizedState=Jm(o),m.childLanes=ep(i,E,o),s.memoizedState=Zm,c):(Zr(s),tp(s,A))}if(L=i.memoizedState,L!==null&&(A=L.dehydrated,A!==null)){if(v)s.flags&256?(Zr(s),s.flags&=-257,s=np(i,s,o)):s.memoizedState!==null?(Jr(),s.child=i.child,s.flags|=128,s=null):(Jr(),m=c.fallback,A=s.mode,c=Sh({mode:"visible",children:c.children},A),m=aa(m,A,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,vo(s,i.child,null,o),c=s.child,c.memoizedState=Jm(o),c.childLanes=ep(i,E,o),s.memoizedState=Zm,s=m);else if(Zr(s),kp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Y=E.dgst;E=Y,c=Error(r(419)),c.stack="",c.digest=E,Bl({value:c,source:null,stack:null}),s=np(i,s,o)}else if(Gt||zl(i,s,o,!1),E=(o&i.childLanes)!==0,Gt||E){if(E=ht,E!==null&&(c=o&-o,c=(c&42)!==0?1:Br(c),c=(c&(E.suspendedLanes|o))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,so(i,c),Bn(E,i,c),eb;A.data==="$?"||bp(),s=np(i,s,o)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,bt=di(A.nextSibling),wn=s,Qe=!0,ua=null,Pi=!1,i!==null&&(Zn[Jn++]=mr,Zn[Jn++]=pr,Zn[Jn++]=oa,mr=i.id,pr=i.overflow,oa=s),s=tp(s,c.children),s.flags|=4096);return s}return m?(Jr(),m=c.fallback,A=s.mode,L=i.child,Y=L.sibling,c=dr(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Y!==null?m=dr(Y,m):(m=aa(m,A,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,A=i.child.memoizedState,A===null?A=Jm(o):(L=A.cachePool,L!==null?(Y=jt._currentValue,L=L.parent!==Y?{parent:Y,pool:Y}:L):L=Q0(),A={baseLanes:A.baseLanes|o,cachePool:L}),m.memoizedState=A,m.childLanes=ep(i,E,o),s.memoizedState=Zm,c):(Zr(s),o=i.child,i=o.sibling,o=dr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function tp(i,s){return s=Sh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Sh(i,s){return i=Nn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function np(i,s,o){return vo(s,i.child,null,o),i=tp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function cb(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),bm(i.return,s,o)}function ip(i,s,o,c,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=o,v.tailMode=m)}function hb(i,s,o){var c=s.pendingProps,m=c.revealOrder,v=c.tail;if(Jt(i,s,c.children,o),c=Bt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cb(i,o,s);else if(i.tag===19)cb(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(le(Bt,c),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&_h(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),ip(s,!1,m,o,v);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&_h(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}ip(s,!0,o,null,v);break;case"together":ip(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function br(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),rs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(zl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=dr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=dr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function rp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ih(i)))}function UI(i,s,o){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),Kr(s,jt,i.memoizedState.cache),jl();break;case 27:case 5:bi(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:Kr(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Zr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?ub(i,s,o):(Zr(s),i=br(i,s,o),i!==null?i.sibling:null);Zr(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(zl(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return hb(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(Bt,Bt.current),c)break;return null;case 22:case 23:return s.lanes=0,rb(i,s,o);case 24:Kr(s,jt,i.memoizedState.cache)}return br(i,s,o)}function fb(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Gt=!0;else{if(!rp(i,o)&&(s.flags&128)===0)return Gt=!1,UI(i,s,o);Gt=(i.flags&131072)!==0}else Gt=!1,Qe&&(s.flags&1048576)!==0&&F0(s,nh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")dm(c)?(i=pa(c,i),s.tag=1,s=ob(null,s,c,i,o)):(s.tag=0,s=Wm(null,s,c,i,o));else{if(c!=null){if(m=c.$$typeof,m===ee){s.tag=11,s=tb(null,s,c,i,o);break e}else if(m===D){s.tag=14,s=nb(null,s,c,i,o);break e}}throw s=Pe(c)||c,Error(r(306,s,""))}}return s;case 0:return Wm(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=pa(c,s.pendingProps),ob(i,s,c,m,o);case 3:e:{if(ze(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var v=s.memoizedState;m=v.element,Cm(i,s),Yl(s,c,null,o);var E=s.memoizedState;if(c=E.cache,Kr(s,jt,c),c!==v.cache&&Tm(s,[jt],o,!0),Kl(),c=E.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=lb(i,s,c,o);break e}else if(c!==m){m=Xn(Error(r(424)),s),Bl(m),s=lb(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(bt=di(i.firstChild),wn=s,Qe=!0,ua=null,Pi=!0,o=q_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(jl(),c===m){s=br(i,s,o);break e}Jt(i,s,c,o)}s=s.child}return s;case 26:return Eh(i,s),i===null?(o=gT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Qe||(o=s.type,i=s.pendingProps,c=kh(ge.current).createElement(o),c[Lt]=s,c[It]=i,tn(c,o,i),wt(c),s.stateNode=c):s.memoizedState=gT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return bi(s),i===null&&Qe&&(c=s.stateNode=dT(s.type,s.pendingProps,ge.current),wn=s,Pi=!0,m=bt,ls(s.type)?(Up=m,bt=di(c.firstChild)):bt=m),Jt(i,s,s.pendingProps.children,o),Eh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Qe&&((m=c=bt)&&(c=f2(c,s.type,s.pendingProps,Pi),c!==null?(s.stateNode=c,wn=s,bt=di(c.firstChild),Pi=!1,m=!0):m=!1),m||ca(s)),bi(s),m=s.type,v=s.pendingProps,E=i!==null?i.memoizedProps:null,c=v.children,Pp(m,v)?c=null:E!==null&&Pp(m,E)&&(s.flags|=32),s.memoizedState!==null&&(m=Vm(i,s,DI,null,null,o),gu._currentValue=m),Eh(i,s),Jt(i,s,c,o),s.child;case 6:return i===null&&Qe&&((i=o=bt)&&(o=d2(o,s.pendingProps,Pi),o!==null?(s.stateNode=o,wn=s,bt=null,i=!0):i=!1),i||ca(s)),null;case 13:return ub(i,s,o);case 4:return ze(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=vo(s,null,c,o):Jt(i,s,c,o),s.child;case 11:return tb(i,s,s.type,s.pendingProps,o);case 7:return Jt(i,s,s.pendingProps,o),s.child;case 8:return Jt(i,s,s.pendingProps.children,o),s.child;case 12:return Jt(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Kr(s,s.type,c.value),Jt(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,fa(s),m=cn(m),c=c(m),s.flags|=1,Jt(i,s,c,o),s.child;case 14:return nb(i,s,s.type,s.pendingProps,o);case 15:return ib(i,s,s.type,s.pendingProps,o);case 19:return hb(i,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},i===null?(o=Sh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=dr(i.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return rb(i,s,o);case 24:return fa(s),c=cn(jt),i===null?(m=wm(),m===null&&(m=ht,v=Em(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),s.memoizedState={parent:c,cache:m},Rm(s),Kr(s,jt,m)):((i.lanes&o)!==0&&(Cm(i,s),Yl(s,null,null,o),Kl()),m=i.memoizedState,v=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Kr(s,jt,c)):(c=v.cache,Kr(s,jt,c),c!==m.cache&&Tm(s,[jt],o,!0))),Jt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Tr(i){i.flags|=4}function db(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!TT(s)){if(s=ei.current,s!==null&&(($e&4194048)===$e?Ni!==null:($e&62914560)!==$e&&($e&536870912)===0||s!==Ni))throw Gl=Am,X0;i.flags|=8192}}function wh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?yl():536870912,i.lanes|=s,To|=s)}function tu(i,s){if(!Qe)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function jI(i,s,o){var c=s.pendingProps;switch(vm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),vr(jt),bn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ul(s)?Tr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,G0())),gt(s),null;case 26:return o=s.memoizedState,i===null?(Tr(s),o!==null?(gt(s),db(s,o)):(gt(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Tr(s),gt(s),db(s,o)):(gt(s),s.flags&=-16777217):(i.memoizedProps!==c&&Tr(s),gt(s),s.flags&=-16777217),null;case 27:Hn(s),o=ge.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Tr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}i=pe.current,Ul(s)?H0(s):(i=dT(m,c,o),s.stateNode=i,Tr(s))}return gt(s),null;case 5:if(Hn(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Tr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(i=pe.current,Ul(s))H0(s);else{switch(m=kh(ge.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}i[Lt]=s,i[It]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(tn(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Tr(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Tr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,Ul(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=wn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Lt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||aT(i.nodeValue,o)),i||ca(s)}else i=kh(i).createTextNode(c),i[Lt]=s,s.stateNode=i}return gt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ul(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Lt]=s}else jl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),m=!1}else m=G0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(_r(s),s):(_r(s),null)}if(_r(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),wh(s,s.updateQueue),gt(s),null;case 4:return bn(),i===null&&Ip(s.stateNode.containerInfo),gt(s),null;case 10:return vr(s.type),gt(s),null;case 19:if(ue(Bt),m=s.memoizedState,m===null)return gt(s),null;if(c=(s.flags&128)!==0,v=m.rendering,v===null)if(c)tu(m,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=_h(i),v!==null){for(s.flags|=128,tu(m,!1),i=v.updateQueue,s.updateQueue=i,wh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)z0(o,i),o=o.sibling;return le(Bt,Bt.current&1|2),s.child}i=i.sibling}m.tail!==null&&qn()>Ch&&(s.flags|=128,c=!0,tu(m,!1),s.lanes=4194304)}else{if(!c)if(i=_h(v),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,wh(s,i),tu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Qe)return gt(s),null}else 2*qn()-m.renderingStartTime>Ch&&o!==536870912&&(s.flags|=128,c=!0,tu(m,!1),s.lanes=4194304);m.isBackwards?(v.sibling=s.child,s.child=v):(i=m.last,i!==null?i.sibling=v:s.child=v,m.last=v)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=qn(),s.sibling=null,i=Bt.current,le(Bt,c?i&1|2:i&1),s):(gt(s),null);case 22:case 23:return _r(s),Om(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&wh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ue(da),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),vr(jt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function BI(i,s){switch(vm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return vr(jt),bn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Hn(s),null;case 13:if(_r(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));jl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ue(Bt),null;case 4:return bn(),null;case 10:return vr(s.type),null;case 22:case 23:return _r(s),Om(),i!==null&&ue(da),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return vr(jt),null;case 25:return null;default:return null}}function mb(i,s){switch(vm(s),s.tag){case 3:vr(jt),bn();break;case 26:case 27:case 5:Hn(s);break;case 4:bn();break;case 13:_r(s);break;case 19:ue(Bt);break;case 10:vr(s.type);break;case 22:case 23:_r(s),Om(),i!==null&&ue(da);break;case 24:vr(jt)}}function nu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var v=o.create,E=o.inst;c=v(),E.destroy=c}o=o.next}while(o!==m)}}catch(A){ct(s,s.return,A)}}function es(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&i)===i){var E=c.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,m=s;var L=o,Y=A;try{Y()}catch(te){ct(m,L,te)}}}c=c.next}while(c!==v)}}catch(te){ct(s,s.return,te)}}function pb(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{n_(s,o)}catch(c){ct(i,i.return,c)}}}function gb(i,s,o){o.props=pa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ct(i,s,c)}}function iu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){ct(i,s,m)}}function Li(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ct(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ct(i,s,m)}else o.current=null}function vb(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ct(i,i.return,m)}}function sp(i,s,o){try{var c=i.stateNode;o2(c,i.type,o,s),c[It]=s}catch(m){ct(i,i.return,m)}}function yb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ls(i.type)||i.tag===4}function ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ls(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function op(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Lh));else if(c!==4&&(c===27&&ls(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(op(i,s,o),i=i.sibling;i!==null;)op(i,s,o),i=i.sibling}function Ah(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&ls(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ah(i,s,o),i=i.sibling;i!==null;)Ah(i,s,o),i=i.sibling}function _b(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);tn(s,c,o),s[Lt]=i,s[It]=o}catch(v){ct(i,i.return,v)}}var Er=!1,Rt=!1,lp=!1,bb=typeof WeakSet=="function"?WeakSet:Set,$t=null;function zI(i,s){if(i=i.containerInfo,Mp=Hh,i=O0(i),am(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var E=0,A=-1,L=-1,Y=0,te=0,ie=i,Q=null;t:for(;;){for(var X;ie!==o||m!==0&&ie.nodeType!==3||(A=E+m),ie!==v||c!==0&&ie.nodeType!==3||(L=E+c),ie.nodeType===3&&(E+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Q=ie,ie=X;for(;;){if(ie===i)break t;if(Q===o&&++Y===m&&(A=E),Q===v&&++te===c&&(L=E),(X=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=X}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:i,selectionRange:o},Hh=!1,$t=s;$t!==null;)if(s=$t,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,$t=i;else for(;$t!==null;){switch(s=$t,v=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=s,m=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var Ae=pa(o.type,m,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Ae,v),c.__reactInternalSnapshotBeforeUpdate=i}catch(Te){ct(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Lp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Lp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,$t=i;break}$t=s.return}}function Tb(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ts(i,o),c&4&&nu(5,o);break;case 1:if(ts(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){ct(o,o.return,E)}else{var m=pa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ct(o,o.return,E)}}c&64&&pb(o),c&512&&iu(o,o.return);break;case 3:if(ts(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{n_(i,s)}catch(E){ct(o,o.return,E)}}break;case 27:s===null&&c&4&&_b(o);case 26:case 5:ts(i,o),s===null&&c&4&&vb(o),c&512&&iu(o,o.return);break;case 12:ts(i,o);break;case 13:ts(i,o),c&4&&wb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=XI.bind(null,o),m2(i,o))));break;case 22:if(c=o.memoizedState!==null||Er,!c){s=s!==null&&s.memoizedState!==null||Rt,m=Er;var v=Rt;Er=c,(Rt=s)&&!v?ns(i,o,(o.subtreeFlags&8772)!==0):ts(i,o),Er=m,Rt=v}break;case 30:break;default:ts(i,o)}}function Eb(i){var s=i.alternate;s!==null&&(i.alternate=null,Eb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Hr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,Cn=!1;function Sr(i,s,o){for(o=o.child;o!==null;)Sb(i,s,o),o=o.sibling}function Sb(i,s,o){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(_t,o)}catch{}switch(o.tag){case 26:Rt||Li(o,s),Sr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||Li(o,s);var c=pt,m=Cn;ls(o.type)&&(pt=o.stateNode,Cn=!1),Sr(i,s,o),fu(o.stateNode),pt=c,Cn=m;break;case 5:Rt||Li(o,s);case 6:if(c=pt,m=Cn,pt=null,Sr(i,s,o),pt=c,Cn=m,pt!==null)if(Cn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(o.stateNode)}catch(v){ct(o,s,v)}else try{pt.removeChild(o.stateNode)}catch(v){ct(o,s,v)}break;case 18:pt!==null&&(Cn?(i=pt,hT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),bu(i)):hT(pt,o.stateNode));break;case 4:c=pt,m=Cn,pt=o.stateNode.containerInfo,Cn=!0,Sr(i,s,o),pt=c,Cn=m;break;case 0:case 11:case 14:case 15:Rt||es(2,o,s),Rt||es(4,o,s),Sr(i,s,o);break;case 1:Rt||(Li(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&gb(o,s,c)),Sr(i,s,o);break;case 21:Sr(i,s,o);break;case 22:Rt=(c=Rt)||o.memoizedState!==null,Sr(i,s,o),Rt=c;break;default:Sr(i,s,o)}}function wb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{bu(i)}catch(o){ct(s,s.return,o)}}function FI(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new bb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new bb),s;default:throw Error(r(435,i.tag))}}function up(i,s){var o=FI(i);s.forEach(function(c){var m=WI.bind(null,i,c);o.has(c)||(o.add(c),c.then(m,m))})}function Ln(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],v=i,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(ls(A.type)){pt=A.stateNode,Cn=!1;break e}break;case 5:pt=A.stateNode,Cn=!1;break e;case 3:case 4:pt=A.stateNode.containerInfo,Cn=!0;break e}A=A.return}if(pt===null)throw Error(r(160));Sb(v,E,m),pt=null,Cn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ab(s,i),s=s.sibling}var fi=null;function Ab(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ln(s,i),kn(i),c&4&&(es(3,i,i.return),nu(3,i),es(5,i,i.return));break;case 1:Ln(s,i),kn(i),c&512&&(Rt||o===null||Li(o,o.return)),c&64&&Er&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=fi;if(Ln(s,i),kn(i),c&512&&(Rt||o===null||Li(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[qs]||v[Lt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),tn(v,c,o),v[Lt]=i,wt(v),c=v;break e;case"link":var E=_T("link","href",m).get(c+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(v=E[A],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}v=m.createElement(c),tn(v,c,o),m.head.appendChild(v);break;case"meta":if(E=_T("meta","content",m).get(c+(o.content||""))){for(A=0;A<E.length;A++)if(v=E[A],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}v=m.createElement(c),tn(v,c,o),m.head.appendChild(v);break;default:throw Error(r(468,c))}v[Lt]=i,wt(v),c=v}i.stateNode=c}else bT(m,i.type,i.stateNode);else i.stateNode=yT(m,c,i.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?bT(m,i.type,i.stateNode):yT(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&sp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ln(s,i),kn(i),c&512&&(Rt||o===null||Li(o,o.return)),o!==null&&c&4&&sp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ln(s,i),kn(i),c&512&&(Rt||o===null||Li(o,o.return)),i.flags&32){m=i.stateNode;try{$n(m,"")}catch(X){ct(i,i.return,X)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,sp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(lp=!0);break;case 6:if(Ln(s,i),kn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(X){ct(i,i.return,X)}}break;case 3:if(Bh=null,m=fi,fi=Uh(s.containerInfo),Ln(s,i),fi=m,kn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{bu(s.containerInfo)}catch(X){ct(i,i.return,X)}lp&&(lp=!1,Rb(i));break;case 4:c=fi,fi=Uh(i.stateNode.containerInfo),Ln(s,i),kn(i),fi=c;break;case 12:Ln(s,i),kn(i);break;case 13:Ln(s,i),kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(pp=qn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,up(i,c)));break;case 22:m=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Y=Er,te=Rt;if(Er=Y||m,Rt=te||L,Ln(s,i),Rt=te,Er=Y,kn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||L||Er||Rt||ga(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(v=L.stateNode,m)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=L.stateNode;var ie=L.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){ct(L,L.return,X)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(X){ct(L,L.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,up(i,o))));break;case 19:Ln(s,i),kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,up(i,c)));break;case 30:break;case 21:break;default:Ln(s,i),kn(i)}}function kn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(yb(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,v=ap(i);Ah(i,v,m);break;case 5:var E=o.stateNode;o.flags&32&&($n(E,""),o.flags&=-33);var A=ap(i);Ah(i,A,E);break;case 3:case 4:var L=o.stateNode.containerInfo,Y=ap(i);op(i,Y,L);break;default:throw Error(r(161))}}catch(te){ct(i,i.return,te)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Rb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Rb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ts(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Tb(i,s.alternate,s),s=s.sibling}function ga(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),ga(s);break;case 1:Li(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&gb(s,s.return,o),ga(s);break;case 27:fu(s.stateNode);case 26:case 5:Li(s,s.return),ga(s);break;case 22:s.memoizedState===null&&ga(s);break;case 30:ga(s);break;default:ga(s)}i=i.sibling}}function ns(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,v=s,E=v.flags;switch(v.tag){case 0:case 11:case 15:ns(m,v,o),nu(4,v);break;case 1:if(ns(m,v,o),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){ct(c,c.return,Y)}if(c=v,m=c.updateQueue,m!==null){var A=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)t_(L[m],A)}catch(Y){ct(c,c.return,Y)}}o&&E&64&&pb(v),iu(v,v.return);break;case 27:_b(v);case 26:case 5:ns(m,v,o),o&&c===null&&E&4&&vb(v),iu(v,v.return);break;case 12:ns(m,v,o);break;case 13:ns(m,v,o),o&&E&4&&wb(m,v);break;case 22:v.memoizedState===null&&ns(m,v,o),iu(v,v.return);break;case 30:break;default:ns(m,v,o)}s=s.sibling}}function cp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Fl(o))}function hp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fl(i))}function ki(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cb(i,s,o,c),s=s.sibling}function Cb(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ki(i,s,o,c),m&2048&&nu(9,s);break;case 1:ki(i,s,o,c);break;case 3:ki(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fl(i)));break;case 12:if(m&2048){ki(i,s,o,c),i=s.stateNode;try{var v=s.memoizedProps,E=v.id,A=v.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){ct(s,s.return,L)}}else ki(i,s,o,c);break;case 13:ki(i,s,o,c);break;case 23:break;case 22:v=s.stateNode,E=s.alternate,s.memoizedState!==null?v._visibility&2?ki(i,s,o,c):ru(i,s):v._visibility&2?ki(i,s,o,c):(v._visibility|=2,yo(i,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&cp(E,s);break;case 24:ki(i,s,o,c),m&2048&&hp(s.alternate,s);break;default:ki(i,s,o,c)}}function yo(i,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=i,E=s,A=o,L=c,Y=E.flags;switch(E.tag){case 0:case 11:case 15:yo(v,E,A,L,m),nu(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?yo(v,E,A,L,m):ru(v,E):(te._visibility|=2,yo(v,E,A,L,m)),m&&Y&2048&&cp(E.alternate,E);break;case 24:yo(v,E,A,L,m),m&&Y&2048&&hp(E.alternate,E);break;default:yo(v,E,A,L,m)}s=s.sibling}}function ru(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:ru(o,c),m&2048&&cp(c.alternate,c);break;case 24:ru(o,c),m&2048&&hp(c.alternate,c);break;default:ru(o,c)}s=s.sibling}}var su=8192;function _o(i){if(i.subtreeFlags&su)for(i=i.child;i!==null;)xb(i),i=i.sibling}function xb(i){switch(i.tag){case 26:_o(i),i.flags&su&&i.memoizedState!==null&&C2(fi,i.memoizedState,i.memoizedProps);break;case 5:_o(i);break;case 3:case 4:var s=fi;fi=Uh(i.stateNode.containerInfo),_o(i),fi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=su,su=16777216,_o(i),su=s):_o(i));break;default:_o(i)}}function Ib(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function au(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];$t=c,Ob(c,i)}Ib(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Db(i),i=i.sibling}function Db(i){switch(i.tag){case 0:case 11:case 15:au(i),i.flags&2048&&es(9,i,i.return);break;case 3:au(i);break;case 12:au(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Rh(i)):au(i);break;default:au(i)}}function Rh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];$t=c,Ob(c,i)}Ib(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:es(8,s,s.return),Rh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(s));break;default:Rh(s)}i=i.sibling}}function Ob(i,s){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=i;$t!==null;){c=$t;var m=c.sibling,v=c.return;if(Eb(c),c===o){$t=null;break e}if(m!==null){m.return=v,$t=m;break e}$t=v}}}var HI={getCacheForType:function(i){var s=cn(jt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},qI=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Ue=null,$e=0,it=0,Un=null,is=!1,bo=!1,fp=!1,wr=0,Tt=0,rs=0,va=0,dp=0,ti=0,To=0,ou=null,xn=null,mp=!1,pp=0,Ch=1/0,xh=null,ss=null,en=0,as=null,Eo=null,So=0,gp=0,vp=null,Mb=null,lu=0,yp=null;function jn(){if((nt&2)!==0&&$e!==0)return $e&-$e;if(W.T!==null){var i=uo;return i!==0?i:Ap()}return zr()}function Vb(){ti===0&&(ti=($e&536870912)===0||Qe?vl():536870912);var i=ei.current;return i!==null&&(i.flags|=32),ti}function Bn(i,s,o){(i===ht&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(wo(i,0),os(i,$e,ti,!1)),nr(i,o),((nt&2)===0||i!==ht)&&(i===ht&&((nt&2)===0&&(va|=o),Tt===4&&os(i,$e,ti,!1)),Ui(i))}function Pb(i,s,o){if((nt&6)!==0)throw Error(r(327));var c=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Hs(i,s),m=c?KI(i,s):Tp(i,s,!0),v=c;do{if(m===0){bo&&!c&&os(i,s,0,!1);break}else{if(o=i.current.alternate,v&&!GI(o)){m=Tp(i,s,!1),v=!1;continue}if(m===2){if(v=s,i.errorRecoveryDisabledLanes&v)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=i;m=ou;var L=A.current.memoizedState.isDehydrated;if(L&&(wo(A,E).flags|=256),E=Tp(A,E,!1),E!==2){if(fp&&!L){A.errorRecoveryDisabledLanes|=v,va|=v,m=4;break e}v=xn,xn=m,v!==null&&(xn===null?xn=v:xn.push.apply(xn,v))}m=E}if(v=!1,m!==2)continue}}if(m===1){wo(i,0),os(i,s,0,!0);break}e:{switch(c=i,v=m,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:os(c,s,ti,!is);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=pp+300-qn(),10<m)){if(os(c,s,ti,!is),Ba(c,0,!0)!==0)break e;c.timeoutHandle=uT(Nb.bind(null,c,o,xn,xh,mp,s,ti,va,To,is,v,2,-0,0),m);break e}Nb(c,o,xn,xh,mp,s,ti,va,To,is,v,0,-0,0)}}break}while(!0);Ui(i)}function Nb(i,s,o,c,m,v,E,A,L,Y,te,ie,Q,X){if(i.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:R2},xb(s),ie=x2(),ie!==null)){i.cancelPendingCommit=ie(Fb.bind(null,i,s,v,o,c,m,E,A,L,te,1,Q,X)),os(i,v,E,!Y);return}Fb(i,s,v,o,c,m,E,A,L)}function GI(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],v=m.getSnapshot;m=m.value;try{if(!Pn(v(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(i,s,o,c){s&=~dp,s&=~va,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var v=31-un(m),E=1<<v;c[v]=-1,m&=~E}o!==0&&Si(i,o,s)}function Ih(){return(nt&6)===0?(uu(0),!1):!0}function _p(){if(Ue!==null){if(it===0)var i=Ue.return;else i=Ue,gr=ha=null,Lm(i),go=null,Jl=0,i=Ue;for(;i!==null;)mb(i.alternate,i),i=i.return;Ue=null}}function wo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,u2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),_p(),ht=i,Ue=o=dr(i.current,null),$e=s,it=0,Un=null,is=!1,bo=Hs(i,s),fp=!1,To=ti=dp=va=rs=Tt=0,xn=ou=null,mp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-un(c),v=1<<m;s|=i[m],c&=~v}return wr=s,Wc(),o}function Lb(i,s){Ne=null,W.H=gh,s===ql||s===ah?(s=J0(),it=3):s===X0?(s=J0(),it=4):it=s===eb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Ue===null&&(Tt=1,Th(i,Xn(s,i.current)))}function kb(){var i=W.H;return W.H=gh,i===null?gh:i}function Ub(){var i=W.A;return W.A=HI,i}function bp(){Tt=4,is||($e&4194048)!==$e&&ei.current!==null||(bo=!0),(rs&134217727)===0&&(va&134217727)===0||ht===null||os(ht,$e,ti,!1)}function Tp(i,s,o){var c=nt;nt|=2;var m=kb(),v=Ub();(ht!==i||$e!==s)&&(xh=null,wo(i,s)),s=!1;var E=Tt;e:do try{if(it!==0&&Ue!==null){var A=Ue,L=Un;switch(it){case 8:_p(),E=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(s=!0);var Y=it;if(it=0,Un=null,Ao(i,A,L,Y),o&&bo){E=0;break e}break;default:Y=it,it=0,Un=null,Ao(i,A,L,Y)}}$I(),E=Tt;break}catch(te){Lb(i,te)}while(!0);return s&&i.shellSuspendCounter++,gr=ha=null,nt=c,W.H=m,W.A=v,Ue===null&&(ht=null,$e=0,Wc()),E}function $I(){for(;Ue!==null;)jb(Ue)}function KI(i,s){var o=nt;nt|=2;var c=kb(),m=Ub();ht!==i||$e!==s?(xh=null,Ch=qn()+500,wo(i,s)):bo=Hs(i,s);e:do try{if(it!==0&&Ue!==null){s=Ue;var v=Un;t:switch(it){case 1:it=0,Un=null,Ao(i,s,v,1);break;case 2:case 9:if(W0(v)){it=0,Un=null,Bb(s);break}s=function(){it!==2&&it!==9||ht!==i||(it=7),Ui(i)},v.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:W0(v)?(it=0,Un=null,Bb(s)):(it=0,Un=null,Ao(i,s,v,7));break;case 5:var E=null;switch(Ue.tag){case 26:E=Ue.memoizedState;case 5:case 27:var A=Ue;if(!E||TT(E)){it=0,Un=null;var L=A.sibling;if(L!==null)Ue=L;else{var Y=A.return;Y!==null?(Ue=Y,Dh(Y)):Ue=null}break t}}it=0,Un=null,Ao(i,s,v,5);break;case 6:it=0,Un=null,Ao(i,s,v,6);break;case 8:_p(),Tt=6;break e;default:throw Error(r(462))}}YI();break}catch(te){Lb(i,te)}while(!0);return gr=ha=null,W.H=c,W.A=m,nt=o,Ue!==null?0:(ht=null,$e=0,Wc(),Tt)}function YI(){for(;Ue!==null&&!Us();)jb(Ue)}function jb(i){var s=fb(i.alternate,i,wr);i.memoizedProps=i.pendingProps,s===null?Dh(i):Ue=s}function Bb(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=ab(o,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=ab(o,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:Lm(s);default:mb(o,s),s=Ue=z0(s,wr),s=fb(o,s,wr)}i.memoizedProps=i.pendingProps,s===null?Dh(i):Ue=s}function Ao(i,s,o,c){gr=ha=null,Lm(s),go=null,Jl=0;var m=s.return;try{if(kI(i,m,s,o,$e)){Tt=1,Th(i,Xn(o,i.current)),Ue=null;return}}catch(v){if(m!==null)throw Ue=m,v;Tt=1,Th(i,Xn(o,i.current)),Ue=null;return}s.flags&32768?(Qe||c===1?i=!0:bo||($e&536870912)!==0?i=!1:(is=i=!0,(c===2||c===9||c===3||c===6)&&(c=ei.current,c!==null&&c.tag===13&&(c.flags|=16384))),zb(s,i)):Dh(s)}function Dh(i){var s=i;do{if((s.flags&32768)!==0){zb(s,is);return}i=s.return;var o=jI(s.alternate,s,wr);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=i}while(s!==null);Tt===0&&(Tt=5)}function zb(i,s){do{var o=BI(i.alternate,i);if(o!==null){o.flags&=32767,Ue=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=o}while(i!==null);Tt=6,Ue=null}function Fb(i,s,o,c,m,v,E,A,L){i.cancelPendingCommit=null;do Oh();while(en!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=hm,_l(i,o,v,E,A,L),i===ht&&(Ue=ht=null,$e=0),Eo=s,as=i,So=o,gp=v,vp=m,Mb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZI(js,function(){return Kb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=oe.p,oe.p=2,E=nt,nt|=4;try{zI(i,s,o)}finally{nt=E,oe.p=m,W.T=c}}en=1,Hb(),qb(),Gb()}}function Hb(){if(en===1){en=0;var i=as,s=Eo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var c=oe.p;oe.p=2;var m=nt;nt|=4;try{Ab(s,i);var v=Vp,E=O0(i.containerInfo),A=v.focusedElem,L=v.selectionRange;if(E!==A&&A&&A.ownerDocument&&D0(A.ownerDocument.documentElement,A)){if(L!==null&&am(A)){var Y=L.start,te=L.end;if(te===void 0&&(te=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(te,A.value.length);else{var ie=A.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Ae=A.textContent.length,Te=Math.min(L.start,Ae),lt=L.end===void 0?Te:Math.min(L.end,Ae);!X.extend&&Te>lt&&(E=lt,lt=Te,Te=E);var q=I0(A,Te),F=I0(A,lt);if(q&&F&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==F.node||X.focusOffset!==F.offset)){var K=ie.createRange();K.setStart(q.node,q.offset),X.removeAllRanges(),Te>lt?(X.addRange(K),X.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),X.addRange(K))}}}}for(ie=[],X=A;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ne=ie[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Hh=!!Mp,Vp=Mp=null}finally{nt=m,oe.p=c,W.T=o}}i.current=s,en=2}}function qb(){if(en===2){en=0;var i=as,s=Eo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var c=oe.p;oe.p=2;var m=nt;nt|=4;try{Tb(i,s.alternate,s)}finally{nt=m,oe.p=c,W.T=o}}en=3}}function Gb(){if(en===4||en===3){en=0,Rc();var i=as,s=Eo,o=So,c=Mb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?en=5:(en=0,Eo=as=null,$b(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(ss=null),za(o),s=s.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(_t,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,m=oe.p,oe.p=2,W.T=null;try{for(var v=i.onRecoverableError,E=0;E<c.length;E++){var A=c[E];v(A.value,{componentStack:A.stack})}}finally{W.T=s,oe.p=m}}(So&3)!==0&&Oh(),Ui(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===yp?lu++:(lu=0,yp=i):lu=0,uu(0)}}function $b(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Fl(s)))}function Oh(i){return Hb(),qb(),Gb(),Kb()}function Kb(){if(en!==5)return!1;var i=as,s=gp;gp=0;var o=za(So),c=W.T,m=oe.p;try{oe.p=32>o?32:o,W.T=null,o=vp,vp=null;var v=as,E=So;if(en=0,Eo=as=null,So=0,(nt&6)!==0)throw Error(r(331));var A=nt;if(nt|=4,Db(v.current),Cb(v,v.current,E,o),nt=A,uu(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(_t,v)}catch{}return!0}finally{oe.p=m,W.T=c,$b(i,s)}}function Yb(i,s,o){s=Xn(o,s),s=Xm(i.stateNode,s,2),i=Xr(i,s,2),i!==null&&(nr(i,2),Ui(i))}function ct(i,s,o){if(i.tag===3)Yb(i,i,o);else for(;s!==null;){if(s.tag===3){Yb(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ss===null||!ss.has(c))){i=Xn(o,i),o=Z_(2),c=Xr(s,o,2),c!==null&&(J_(o,c,s,i),nr(c,2),Ui(c));break}}s=s.return}}function Ep(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new qI;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(fp=!0,m.add(o),i=QI.bind(null,i,s,o),s.then(i,i))}function QI(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ht===i&&($e&o)===o&&(Tt===4||Tt===3&&($e&62914560)===$e&&300>qn()-pp?(nt&2)===0&&wo(i,0):dp|=o,To===$e&&(To=0)),Ui(i)}function Qb(i,s){s===0&&(s=yl()),i=so(i,s),i!==null&&(nr(i,s),Ui(i))}function XI(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Qb(i,o)}function WI(i,s){var o=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),Qb(i,o)}function ZI(i,s){return er(i,s)}var Mh=null,Ro=null,Sp=!1,Vh=!1,wp=!1,ya=0;function Ui(i){i!==Ro&&i.next===null&&(Ro===null?Mh=Ro=i:Ro=Ro.next=i),Vh=!0,Sp||(Sp=!0,e2())}function uu(i,s){if(!wp&&Vh){wp=!0;do for(var o=!1,c=Mh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var E=c.suspendedLanes,A=c.pingedLanes;v=(1<<31-un(42|i)+1)-1,v&=m&~(E&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Jb(c,v))}else v=$e,v=Ba(c,c===ht?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Hs(c,v)||(o=!0,Jb(c,v));c=c.next}while(o);wp=!1}}function JI(){Xb()}function Xb(){Vh=Sp=!1;var i=0;ya!==0&&(l2()&&(i=ya),ya=0);for(var s=qn(),o=null,c=Mh;c!==null;){var m=c.next,v=Wb(c,s);v===0?(c.next=null,o===null?Mh=m:o.next=m,m===null&&(Ro=o)):(o=c,(i!==0||(v&3)!==0)&&(Vh=!0)),c=m}uu(i)}function Wb(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var E=31-un(v),A=1<<E,L=m[E];L===-1?((A&o)===0||(A&c)!==0)&&(m[E]=gl(A,s)):L<=s&&(i.expiredLanes|=A),v&=~A}if(s=ht,o=$e,o=Ba(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(it===2||it===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ei(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Hs(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Ei(c),za(o)){case 2:case 8:o=Ua;break;case 32:o=js;break;case 268435456:o=ja;break;default:o=js}return c=Zb.bind(null,i),o=er(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Ei(c),i.callbackPriority=2,i.callbackNode=null,2}function Zb(i,s){if(en!==0&&en!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Oh()&&i.callbackNode!==o)return null;var c=$e;return c=Ba(i,i===ht?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Pb(i,c,s),Wb(i,qn()),i.callbackNode!=null&&i.callbackNode===o?Zb.bind(null,i):null)}function Jb(i,s){if(Oh())return null;Pb(i,s,!0)}function e2(){c2(function(){(nt&6)!==0?er(ml,JI):Xb()})}function Ap(){return ya===0&&(ya=vl()),ya}function eT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ka(""+i)}function tT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function t2(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var v=eT((m[It]||null).action),E=c.submitter;E&&(s=(s=E[It]||null)?eT(s.formAction):E.getAttribute("formAction"),s!==null&&(v=s,E=null));var A=new Ya("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ya!==0){var L=E?tT(m,E):new FormData(m);Gm(o,{pending:!0,data:L,method:m.method,action:v},null,L)}}else typeof v=="function"&&(A.preventDefault(),L=E?tT(m,E):new FormData(m),Gm(o,{pending:!0,data:L,method:m.method,action:v},v,L))},currentTarget:m}]})}}for(var Rp=0;Rp<cm.length;Rp++){var Cp=cm[Rp],n2=Cp.toLowerCase(),i2=Cp[0].toUpperCase()+Cp.slice(1);hi(n2,"on"+i2)}hi(P0,"onAnimationEnd"),hi(N0,"onAnimationIteration"),hi(L0,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(bI,"onTransitionRun"),hi(TI,"onTransitionStart"),hi(EI,"onTransitionCancel"),hi(k0,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function nT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var v=void 0;if(s)for(var E=c.length-1;0<=E;E--){var A=c[E],L=A.instance,Y=A.currentTarget;if(A=A.listener,L!==v&&m.isPropagationStopped())break e;v=A,m.currentTarget=Y;try{v(m)}catch(te){bh(te)}m.currentTarget=null,v=L}else for(E=0;E<c.length;E++){if(A=c[E],L=A.instance,Y=A.currentTarget,A=A.listener,L!==v&&m.isPropagationStopped())break e;v=A,m.currentTarget=Y;try{v(m)}catch(te){bh(te)}m.currentTarget=null,v=L}}}}function je(i,s){var o=s[Tl];o===void 0&&(o=s[Tl]=new Set);var c=i+"__bubble";o.has(c)||(iT(s,i,2,!1),o.add(c))}function xp(i,s,o){var c=0;s&&(c|=4),iT(o,i,c,s)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function Ip(i){if(!i[Ph]){i[Ph]=!0,El.forEach(function(o){o!=="selectionchange"&&(r2.has(o)||xp(o,!1,i),xp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ph]||(s[Ph]=!0,xp("selectionchange",!1,s))}}function iT(i,s,o,c){switch(CT(s)){case 2:var m=O2;break;case 8:m=M2;break;default:m=Hp}o=m.bind(null,s,o,i),m=void 0,!Yn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function Dp(i,s,o,c,m){var v=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===m)break;if(E===4)for(E=c.return;E!==null;){var L=E.tag;if((L===3||L===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;A!==null;){if(E=ir(A),E===null)return;if(L=E.tag,L===5||L===6||L===26||L===27){c=v=E;continue e}A=A.parentNode}}c=c.return}Lc(function(){var Y=v,te=Kn(o),ie=[];e:{var Q=U0.get(i);if(Q!==void 0){var X=Ya,Ae=i;switch(i){case"keypress":if(Ii(o)===0)break e;case"keydown":case"keyup":X=eo;break;case"focusin":Ae="focus",X=Wa;break;case"focusout":Ae="blur",X=Wa;break;case"beforeblur":case"afterblur":X=Wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=qc;break;case P0:case N0:case L0:X=Za;break;case k0:X=$c;break;case"scroll":case"scrollend":X=kc;break;case"wheel":X=to;break;case"copy":case"cut":case"paste":X=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Pl;break;case"toggle":case"beforetoggle":X=Yc}var Te=(s&4)!==0,lt=!Te&&(i==="scroll"||i==="scrollend"),q=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var F=Y,K;F!==null;){var ne=F;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||q===null||(ne=Ws(F,q),ne!=null&&Te.push(hu(F,ne,K))),lt)break;F=F.return}0<Te.length&&(Q=new X(Q,Ae,null,o,te),ie.push({event:Q,listeners:Te}))}}if((s&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Q&&o!==or&&(Ae=o.relatedTarget||o.fromElement)&&(ir(Ae)||Ae[Gn]))break e;if((X||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Ae=o.relatedTarget||o.toElement,X=Y,Ae=Ae?ir(Ae):null,Ae!==null&&(lt=l(Ae),Te=Ae.tag,Ae!==lt||Te!==5&&Te!==27&&Te!==6)&&(Ae=null)):(X=null,Ae=Y),X!==Ae)){if(Te=Qn,ne="onMouseLeave",q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Te=Pl,ne="onPointerLeave",q="onPointerEnter",F="pointer"),lt=X==null?Q:Ai(X),K=Ae==null?Q:Ai(Ae),Q=new Te(ne,F+"leave",X,o,te),Q.target=lt,Q.relatedTarget=K,ne=null,ir(te)===Y&&(Te=new Te(q,F+"enter",Ae,o,te),Te.target=K,Te.relatedTarget=lt,ne=Te),lt=ne,X&&Ae)t:{for(Te=X,q=Ae,F=0,K=Te;K;K=Co(K))F++;for(K=0,ne=q;ne;ne=Co(ne))K++;for(;0<F-K;)Te=Co(Te),F--;for(;0<K-F;)q=Co(q),K--;for(;F--;){if(Te===q||q!==null&&Te===q.alternate)break t;Te=Co(Te),q=Co(q)}Te=null}else Te=null;X!==null&&rT(ie,Q,X,Te,!1),Ae!==null&&lt!==null&&rT(ie,lt,Ae,Te,!0)}}e:{if(Q=Y?Ai(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var me=S0;else if(Ut(Q))if(w0)me=vI;else{me=pI;var ke=mI}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Cl(Y.elementType)&&(me=S0):me=gI;if(me&&(me=me(i,Y))){fr(ie,me,o,te);break e}ke&&ke(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Gr(Q,"number",Q.value)}switch(ke=Y?Ai(Y):window,i){case"focusin":(Ut(ke)||ke.contentEditable==="true")&&(no=ke,om=Y,kl=null);break;case"focusout":kl=om=no=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,M0(ie,o,te);break;case"selectionchange":if(_I)break;case"keydown":case"keyup":M0(ie,o,te)}var ve;if(Mi)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else qe?J(i,o)&&(Ee="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(b&&o.locale!=="ko"&&(qe||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&qe&&(ve=Il()):(xi=te,$r="value"in xi?xi.value:xi.textContent,qe=!0)),ke=Nh(Y,Ee),0<ke.length&&(Ee=new Ml(Ee,i,null,o,te),ie.push({event:Ee,listeners:ke}),ve?Ee.data=ve:(ve=ce(o),ve!==null&&(Ee.data=ve)))),(ve=y?kt(i,o):Ge(i,o))&&(Ee=Nh(Y,"onBeforeInput"),0<Ee.length&&(ke=new Ml("onBeforeInput","beforeinput",null,o,te),ie.push({event:ke,listeners:Ee}),ke.data=ve)),t2(ie,i,Y,o,te)}nT(ie,s)})}function hu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Nh(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Ws(i,o),m!=null&&c.unshift(hu(i,m,v)),m=Ws(i,s),m!=null&&c.push(hu(i,m,v))),i.tag===3)return c;i=i.return}return[]}function Co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rT(i,s,o,c,m){for(var v=s._reactName,E=[];o!==null&&o!==c;){var A=o,L=A.alternate,Y=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||Y===null||(L=Y,m?(Y=Ws(o,v),Y!=null&&E.unshift(hu(o,Y,L))):m||(Y=Ws(o,v),Y!=null&&E.push(hu(o,Y,L)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var s2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function sT(i){return(typeof i=="string"?i:""+i).replace(s2,`
`).replace(a2,"")}function aT(i,s){return s=sT(s),sT(i)===s}function Lh(){}function ot(i,s,o,c,m,v){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||$n(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&$n(i,""+c);break;case"className":Ri(i,"class",c);break;case"tabIndex":Ri(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(i,o,c);break;case"style":Rl(i,c,v);break;case"data":if(s!=="object"){Ri(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ka(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&ot(i,s,"name",m.name,m,null),ot(i,s,"formEncType",m.formEncType,m,null),ot(i,s,"formMethod",m.formMethod,m,null),ot(i,s,"formTarget",m.formTarget,m,null)):(ot(i,s,"encType",m.encType,m,null),ot(i,s,"method",m.method,m,null),ot(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ka(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Lh);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ka(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":je("beforetoggle",i),je("toggle",i),qr(i,"popover",c);break;case"xlinkActuate":Wt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qr(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=em.get(o)||o,qr(i,o,c))}}function Op(i,s,o,c,m,v){switch(o){case"style":Rl(i,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?$n(i,c):(typeof c=="number"||typeof c=="bigint")&&$n(i,""+c);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),v=i[It]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(s,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):qr(i,o,c)}}}function tn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var c=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var E=o[v];if(E!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(i,s,v,E,o,null)}}m&&ot(i,s,"srcSet",o.srcSet,o,null),c&&ot(i,s,"src",o.src,o,null);return;case"input":je("invalid",i);var A=v=E=m=null,L=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":m=te;break;case"type":E=te;break;case"checked":L=te;break;case"defaultChecked":Y=te;break;case"value":v=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:ot(i,s,c,te,o,null)}}Ys(i,v,A,L,Y,E,m,!1),$a(i);return;case"select":je("invalid",i),c=E=v=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":v=A;break;case"defaultValue":E=A;break;case"multiple":c=A;default:ot(i,s,m,A,o,null)}s=v,o=E,i.multiple=!!c,s!=null?ar(i,!!c,s,!1):o!=null&&ar(i,!!c,o,!0);return;case"textarea":je("invalid",i),v=m=c=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":c=A;break;case"defaultValue":m=A;break;case"children":v=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ot(i,s,E,A,o,null)}Qs(i,c,m,v),$a(i);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ot(i,s,L,c,o,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(c=0;c<cu.length;c++)je(cu[c],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(i,s,Y,c,o,null)}return;default:if(Cl(s)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&Op(i,s,te,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&ot(i,s,A,c,o,null))}function o2(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,E=null,A=null,L=null,Y=null,te=null;for(X in o){var ie=o[X];if(o.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=ie;default:c.hasOwnProperty(X)||ot(i,s,X,null,c,ie)}}for(var Q in c){var X=c[Q];if(ie=o[Q],c.hasOwnProperty(Q)&&(X!=null||ie!=null))switch(Q){case"type":v=X;break;case"name":m=X;break;case"checked":Y=X;break;case"defaultChecked":te=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==ie&&ot(i,s,Q,X,c,ie)}}Vn(i,E,A,L,Y,te,v,m);return;case"select":X=E=A=Q=null;for(v in o)if(L=o[v],o.hasOwnProperty(v)&&L!=null)switch(v){case"value":break;case"multiple":X=L;default:c.hasOwnProperty(v)||ot(i,s,v,null,c,L)}for(m in c)if(v=c[m],L=o[m],c.hasOwnProperty(m)&&(v!=null||L!=null))switch(m){case"value":Q=v;break;case"defaultValue":A=v;break;case"multiple":E=v;default:v!==L&&ot(i,s,m,v,c,L)}s=A,o=E,c=X,Q!=null?ar(i,!!o,Q,!1):!!c!=!!o&&(s!=null?ar(i,!!o,s,!0):ar(i,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(i,s,A,null,c,m)}for(E in c)if(m=c[E],v=o[E],c.hasOwnProperty(E)&&(m!=null||v!=null))switch(E){case"value":Q=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==v&&ot(i,s,E,m,c,v)}st(i,Q,X);return;case"option":for(var Ae in o)if(Q=o[Ae],o.hasOwnProperty(Ae)&&Q!=null&&!c.hasOwnProperty(Ae))switch(Ae){case"selected":i.selected=!1;break;default:ot(i,s,Ae,null,c,Q)}for(L in c)if(Q=c[L],X=o[L],c.hasOwnProperty(L)&&Q!==X&&(Q!=null||X!=null))switch(L){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ot(i,s,L,Q,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!c.hasOwnProperty(Te)&&ot(i,s,Te,null,c,Q);for(Y in c)if(Q=c[Y],X=o[Y],c.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:ot(i,s,Y,Q,c,X)}return;default:if(Cl(s)){for(var lt in o)Q=o[lt],o.hasOwnProperty(lt)&&Q!==void 0&&!c.hasOwnProperty(lt)&&Op(i,s,lt,void 0,c,Q);for(te in c)Q=c[te],X=o[te],!c.hasOwnProperty(te)||Q===X||Q===void 0&&X===void 0||Op(i,s,te,Q,c,X);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!c.hasOwnProperty(q)&&ot(i,s,q,null,c,Q);for(ie in c)Q=c[ie],X=o[ie],!c.hasOwnProperty(ie)||Q===X||Q==null&&X==null||ot(i,s,ie,Q,c,X)}var Mp=null,Vp=null;function kh(i){return i.nodeType===9?i:i.ownerDocument}function oT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Pp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Np=null;function l2(){var i=window.event;return i&&i.type==="popstate"?i===Np?!1:(Np=i,!0):(Np=null,!1)}var uT=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,cT=typeof Promise=="function"?Promise:void 0,c2=typeof queueMicrotask=="function"?queueMicrotask:typeof cT<"u"?function(i){return cT.resolve(null).then(i).catch(h2)}:uT;function h2(i){setTimeout(function(){throw i})}function ls(i){return i==="head"}function hT(i,s){var o=s,c=0,m=0;do{var v=o.nextSibling;if(i.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<c&&8>c){o=c;var E=i.ownerDocument;if(o&1&&fu(E.documentElement),o&2&&fu(E.body),o&4)for(o=E.head,fu(o),E=o.firstChild;E;){var A=E.nextSibling,L=E.nodeName;E[qs]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(m===0){i.removeChild(v),bu(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=v}while(o);bu(s)}function Lp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lp(o),Hr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function f2(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[qs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function d2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=di(i.nextSibling),i===null))return null;return i}function kp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function m2(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function di(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Up=null;function fT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function dT(i,s,o){switch(s=kh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Hr(i)}var ni=new Map,mT=new Set;function Uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ar=oe.d;oe.d={f:p2,r:g2,D:v2,C:y2,L:_2,m:b2,X:E2,S:T2,M:S2};function p2(){var i=Ar.f(),s=Ih();return i||s}function g2(i){var s=wi(i);s!==null&&s.tag===5&&s.type==="form"?P_(s):Ar.r(i)}var xo=typeof document>"u"?null:document;function pT(i,s,o){var c=xo;if(c&&typeof s=="string"&&s){var m=Dt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),mT.has(m)||(mT.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),tn(s,"link",i),wt(s),c.head.appendChild(s)))}}function v2(i){Ar.D(i),pT("dns-prefetch",i,null)}function y2(i,s){Ar.C(i,s),pT("preconnect",i,s)}function _2(i,s,o){Ar.L(i,s,o);var c=xo;if(c&&i&&s){var m='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dt(o.imageSizes)+'"]')):m+='[href="'+Dt(i)+'"]';var v=m;switch(s){case"style":v=Io(i);break;case"script":v=Do(i)}ni.has(v)||(i=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ni.set(v,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(du(v))||s==="script"&&c.querySelector(mu(v))||(s=c.createElement("link"),tn(s,"link",i),wt(s),c.head.appendChild(s)))}}function b2(i,s){Ar.m(i,s);var o=xo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(i)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Do(i)}if(!ni.has(v)&&(i=g({rel:"modulepreload",href:i},s),ni.set(v,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mu(v)))return}c=o.createElement("link"),tn(c,"link",i),wt(c),o.head.appendChild(c)}}}function T2(i,s,o){Ar.S(i,s,o);var c=xo;if(c&&i){var m=Tn(c).hoistableStyles,v=Io(i);s=s||"default";var E=m.get(v);if(!E){var A={loading:0,preload:null};if(E=c.querySelector(du(v)))A.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ni.get(v))&&jp(i,o);var L=E=c.createElement("link");wt(L),tn(L,"link",i),L._p=new Promise(function(Y,te){L.onload=Y,L.onerror=te}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,jh(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:A},m.set(v,E)}}}function E2(i,s){Ar.X(i,s);var o=xo;if(o&&i){var c=Tn(o).hoistableScripts,m=Do(i),v=c.get(m);v||(v=o.querySelector(mu(m)),v||(i=g({src:i,async:!0},s),(s=ni.get(m))&&Bp(i,s),v=o.createElement("script"),wt(v),tn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function S2(i,s){Ar.M(i,s);var o=xo;if(o&&i){var c=Tn(o).hoistableScripts,m=Do(i),v=c.get(m);v||(v=o.querySelector(mu(m)),v||(i=g({src:i,async:!0,type:"module"},s),(s=ni.get(m))&&Bp(i,s),v=o.createElement("script"),wt(v),tn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function gT(i,s,o,c){var m=(m=ge.current)?Uh(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Io(o.href),o=Tn(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Io(o.href);var v=Tn(m).hoistableStyles,E=v.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,E),(v=m.querySelector(du(i)))&&!v._p&&(E.instance=v,E.state.loading=5),ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(i,o),v||w2(m,i,o,E.state))),s&&c===null)throw Error(r(528,""));return E}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Do(o),o=Tn(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Io(i){return'href="'+Dt(i)+'"'}function du(i){return'link[rel="stylesheet"]['+i+"]"}function vT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function w2(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),tn(s,"link",o),wt(s),i.head.appendChild(s))}function Do(i){return'[src="'+Dt(i)+'"]'}function mu(i){return"script[async]"+i}function yT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(c)return s.instance=c,wt(c),c;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),wt(c),tn(c,"style",m),jh(c,o.precedence,i),s.instance=c;case"stylesheet":m=Io(o.href);var v=i.querySelector(du(m));if(v)return s.state.loading|=4,s.instance=v,wt(v),v;c=vT(o),(m=ni.get(m))&&jp(c,m),v=(i.ownerDocument||i).createElement("link"),wt(v);var E=v;return E._p=new Promise(function(A,L){E.onload=A,E.onerror=L}),tn(v,"link",c),s.state.loading|=4,jh(v,o.precedence,i),s.instance=v;case"script":return v=Do(o.src),(m=i.querySelector(mu(v)))?(s.instance=m,wt(m),m):(c=o,(m=ni.get(v))&&(c=g({},o),Bp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),wt(m),tn(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,jh(c,o.precedence,i));return s.instance}function jh(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,E=0;E<c.length;E++){var A=c[E];if(A.dataset.precedence===s)v=A;else if(v!==m)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function jp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Bp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Bh=null;function _T(i,s,o){if(Bh===null){var c=new Map,m=Bh=new Map;m.set(o,c)}else m=Bh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var v=o[m];if(!(v[qs]||v[Lt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(s)||"";E=i+E;var A=c.get(E);A?A.push(v):c.set(E,[v])}}return c}function bT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function A2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function TT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var pu=null;function R2(){}function C2(i,s,o){if(pu===null)throw Error(r(475));var c=pu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Io(o.href),v=i.querySelector(du(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=zh.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=v,wt(v);return}v=i.ownerDocument||i,o=vT(o),(m=ni.get(m))&&jp(o,m),v=v.createElement("link"),wt(v);var E=v;E._p=new Promise(function(A,L){E.onload=A,E.onerror=L}),tn(v,"link",o),s.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=zh.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function x2(){if(pu===null)throw Error(r(475));var i=pu;return i.stylesheets&&i.count===0&&zp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&zp(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)zp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fh=null;function zp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fh=new Map,s.forEach(I2,i),Fh=null,zh.call(i))}function I2(i,s){if(!(s.state.loading&4)){var o=Fh.get(i);if(o)var c=o.get(null);else{o=new Map,Fh.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var E=m[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}m=s.instance,E=m.getAttribute("data-precedence"),v=o.get(E)||c,v===c&&o.set(null,m),o.set(E,m),this.count++,c=zh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var gu={$$typeof:H,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function D2(i,s,o,c,m,v,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function ET(i,s,o,c,m,v,E,A,L,Y,te,ie){return i=new D2(i,s,o,E,A,L,Y,ie),s=1,v===!0&&(s|=24),v=Nn(3,null,null,s),i.current=v,v.stateNode=i,s=Em(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:s},Rm(v),i}function ST(i){return i?(i=ao,i):ao}function wT(i,s,o,c,m,v){m=ST(m),c.context===null?c.context=m:c.pendingContext=m,c=Qr(s),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=Xr(i,c,s),o!==null&&(Bn(o,i,s),$l(o,i,s))}function AT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Fp(i,s){AT(i,s),(i=i.alternate)&&AT(i,s)}function RT(i){if(i.tag===13){var s=so(i,67108864);s!==null&&Bn(s,i,67108864),Fp(i,67108864)}}var Hh=!0;function O2(i,s,o,c){var m=W.T;W.T=null;var v=oe.p;try{oe.p=2,Hp(i,s,o,c)}finally{oe.p=v,W.T=m}}function M2(i,s,o,c){var m=W.T;W.T=null;var v=oe.p;try{oe.p=8,Hp(i,s,o,c)}finally{oe.p=v,W.T=m}}function Hp(i,s,o,c){if(Hh){var m=qp(c);if(m===null)Dp(i,s,c,qh,o),xT(i,c);else if(P2(m,i,s,o,c))c.stopPropagation();else if(xT(i,c),s&4&&-1<V2.indexOf(i)){for(;m!==null;){var v=wi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=li(v.pendingLanes);if(E!==0){var A=v;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var L=1<<31-un(E);A.entanglements[1]|=L,E&=~L}Ui(v),(nt&6)===0&&(Ch=qn()+500,uu(0))}}break;case 13:A=so(v,2),A!==null&&Bn(A,v,2),Ih(),Fp(v,2)}if(v=qp(c),v===null&&Dp(i,s,c,qh,o),v===m)break;m=v}m!==null&&c.stopPropagation()}else Dp(i,s,c,null,o)}}function qp(i){return i=Kn(i),Gp(i)}var qh=null;function Gp(i){if(qh=null,i=ir(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return qh=i,null}function CT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yd()){case ml:return 2;case Ua:return 8;case js:case Qd:return 32;case ja:return 268435456;default:return 32}default:return 32}}var $p=!1,us=null,cs=null,hs=null,vu=new Map,yu=new Map,fs=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xT(i,s){switch(i){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":vu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(s.pointerId)}}function _u(i,s,o,c,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},s!==null&&(s=wi(s),s!==null&&RT(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function P2(i,s,o,c,m){switch(s){case"focusin":return us=_u(us,i,s,o,c,m),!0;case"dragenter":return cs=_u(cs,i,s,o,c,m),!0;case"mouseover":return hs=_u(hs,i,s,o,c,m),!0;case"pointerover":var v=m.pointerId;return vu.set(v,_u(vu.get(v)||null,i,s,o,c,m)),!0;case"gotpointercapture":return v=m.pointerId,yu.set(v,_u(yu.get(v)||null,i,s,o,c,m)),!0}return!1}function IT(i){var s=ir(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){if(o.tag===13){var c=jn();c=Br(c);var m=so(o,c);m!==null&&Bn(m,o,c),Fp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=qp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);or=c,o.target.dispatchEvent(c),or=null}else return s=wi(o),s!==null&&RT(s),i.blockedOn=o,!1;s.shift()}return!0}function DT(i,s,o){Gh(i)&&o.delete(s)}function N2(){$p=!1,us!==null&&Gh(us)&&(us=null),cs!==null&&Gh(cs)&&(cs=null),hs!==null&&Gh(hs)&&(hs=null),vu.forEach(DT),yu.forEach(DT)}function $h(i,s){i.blockedOn===s&&(i.blockedOn=null,$p||($p=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,N2)))}var Kh=null;function OT(i){Kh!==i&&(Kh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kh===i&&(Kh=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(Gp(c||o)===null)continue;break}var v=wi(o);v!==null&&(i.splice(s,3),s-=3,Gm(v,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function bu(i){function s(L){return $h(L,i)}us!==null&&$h(us,i),cs!==null&&$h(cs,i),hs!==null&&$h(hs,i),vu.forEach(s),yu.forEach(s);for(var o=0;o<fs.length;o++){var c=fs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<fs.length&&(o=fs[0],o.blockedOn===null);)IT(o),o.blockedOn===null&&fs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],v=o[c+1],E=m[It]||null;if(typeof v=="function")E||OT(o);else if(E){var A=null;if(v&&v.hasAttribute("formAction")){if(m=v,E=v[It]||null)A=E.formAction;else if(Gp(m)!==null)continue}else A=E.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),OT(o)}}}function Kp(i){this._internalRoot=i}Yh.prototype.render=Kp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=jn();wT(o,c,i,s,null,null)},Yh.prototype.unmount=Kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;wT(i.current,2,null,i,null,null),Ih(),s[Gn]=null}};function Yh(i){this._internalRoot=i}Yh.prototype.unstable_scheduleHydration=function(i){if(i){var s=zr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<fs.length&&s!==0&&s<fs[o].priority;o++);fs.splice(o,0,i),o===0&&IT(i)}};var MT=e.version;if(MT!=="19.1.0")throw Error(r(527,MT,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var L2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{_t=Qh.inject(L2),tt=Qh}catch{}}return Eu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=Y_,v=Q_,E=X_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=ET(i,1,!1,null,null,o,c,m,v,E,A,null),i[Gn]=s.current,Ip(i),new Kp(s)},Eu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",v=Y_,E=Q_,A=X_,L=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=ET(i,1,!0,s,o??null,c,m,v,E,A,L,Y),s.context=ST(null),o=s.current,c=jn(),c=Br(c),m=Qr(c),m.callback=null,Xr(o,m,c),o=c,s.current.lanes=o,nr(s,o),Ui(s),i[Gn]=s.current,Ip(i),new Yh(s)},Eu.version="19.1.0",Eu}var HT;function Y2(){if(HT)return Xp.exports;HT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xp.exports=K2(),Xp.exports}var Q2=Y2();const X2=()=>{};var qT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},W2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},TA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,g=l>>2,_=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(T=64)),r.push(n[g],n[_],n[T],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new Z2;const T=l<<2|h>>4;if(r.push(T),p!==64){const S=h<<4&240|p>>2;if(r.push(S),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J2=function(t){const e=bA(t);return TA.encodeByteArray(e,!0)},Df=function(t){return J2(t).replace(/\./g,"")},EA=function(t){try{return TA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=()=>eD().__FIREBASE_DEFAULTS__,nD=()=>{if(typeof process>"u"||typeof qT>"u")return;const t=qT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EA(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return X2()||tD()||nD()||iD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SA=t=>{var e,n;return(n=(e=dd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rD=t=>{const e=SA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wA=()=>{var t;return(t=dd())===null||t===void 0?void 0:t.config},AA=t=>{var e;return(e=dd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Df(JSON.stringify(n)),Df(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function lD(){var t;const e=(t=dd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fD(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dD(){return!lD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mD(){try{return typeof indexedDB=="object"}catch{return!1}}function pD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gD,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?vD(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new kr(a,h,r)}}function vD(t,e){return t.replace(yD,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const yD=/\{\$([^}]+)}/g;function _D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ia(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(GT(l)&&GT(u)){if(!Ia(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function GT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bD(t,e){const n=new TD(t,e);return n.subscribe.bind(n)}class TD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=eg),a.error===void 0&&(a.error=eg),a.complete===void 0&&(a.complete=eg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ED(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AD(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wD(t){return t===Ta?void 0:t}function AD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const CD={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},xD=Fe.INFO,ID={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},DD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=ID[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vv{constructor(e){this.name=e,this._logLevel=xD,this._logHandler=DD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const OD=(t,e)=>e.some(n=>t instanceof n);let $T,KT;function MD(){return $T||($T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VD(){return KT||(KT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RA=new WeakMap,Mg=new WeakMap,CA=new WeakMap,tg=new WeakMap,Pv=new WeakMap;function PD(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(bs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&RA.set(n,t)}).catch(()=>{}),Pv.set(e,t),e}function ND(t){if(Mg.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Mg.set(t,e)}let Vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LD(t){Vg=t(Vg)}function kD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return CA.set(r,e.sort?e.sort():[e]),bs(r)}:VD().includes(t)?function(...e){return t.apply(ng(this),e),bs(RA.get(this))}:function(...e){return bs(t.apply(ng(this),e))}}function UD(t){return typeof t=="function"?kD(t):(t instanceof IDBTransaction&&ND(t),OD(t,MD())?new Proxy(t,Vg):t)}function bs(t){if(t instanceof IDBRequest)return PD(t);if(tg.has(t))return tg.get(t);const e=UD(t);return e!==t&&(tg.set(t,e),Pv.set(e,t)),e}const ng=t=>Pv.get(t);function jD(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=bs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(bs(u.result),d.oldVersion,d.newVersion,bs(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const BD=["get","getKey","getAll","getAllKeys","count"],zD=["put","add","delete","clear"],ig=new Map;function YT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=zD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||BD.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return ig.set(e,l),l}LD(t=>({...t,get:(e,n,r)=>YT(e,n)||t.get(e,n,r),has:(e,n)=>!!YT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pg="@firebase/app",QT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Vv("@firebase/app"),qD="@firebase/app-compat",GD="@firebase/analytics-compat",$D="@firebase/analytics",KD="@firebase/app-check-compat",YD="@firebase/app-check",QD="@firebase/auth",XD="@firebase/auth-compat",WD="@firebase/database",ZD="@firebase/data-connect",JD="@firebase/database-compat",eO="@firebase/functions",tO="@firebase/functions-compat",nO="@firebase/installations",iO="@firebase/installations-compat",rO="@firebase/messaging",sO="@firebase/messaging-compat",aO="@firebase/performance",oO="@firebase/performance-compat",lO="@firebase/remote-config",uO="@firebase/remote-config-compat",cO="@firebase/storage",hO="@firebase/storage-compat",fO="@firebase/firestore",dO="@firebase/vertexai",mO="@firebase/firestore-compat",pO="firebase",gO="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",vO={[Pg]:"fire-core",[qD]:"fire-core-compat",[$D]:"fire-analytics",[GD]:"fire-analytics-compat",[YD]:"fire-app-check",[KD]:"fire-app-check-compat",[QD]:"fire-auth",[XD]:"fire-auth-compat",[WD]:"fire-rtdb",[ZD]:"fire-data-connect",[JD]:"fire-rtdb-compat",[eO]:"fire-fn",[tO]:"fire-fn-compat",[nO]:"fire-iid",[iO]:"fire-iid-compat",[rO]:"fire-fcm",[sO]:"fire-fcm-compat",[aO]:"fire-perf",[oO]:"fire-perf-compat",[lO]:"fire-rc",[uO]:"fire-rc-compat",[cO]:"fire-gcs",[hO]:"fire-gcs-compat",[fO]:"fire-fst",[mO]:"fire-fst-compat",[dO]:"fire-vertex","fire-js":"fire-js",[pO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,yO=new Map,Lg=new Map;function XT(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(Lg.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,t);for(const n of Of.values())XT(n,t);for(const n of yO.values())XT(n,t);return!0}function Nv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new uc("app","Firebase",_O);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=gO;function xA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Ts.create("bad-app-name",{appName:String(a)});if(n||(n=wA()),!n)throw Ts.create("no-options");const l=Of.get(a);if(l){if(Ia(n,l.options)&&Ia(r,l.config))return l;throw Ts.create("duplicate-app",{appName:a})}const u=new RD(a);for(const d of Lg.values())u.addComponent(d);const h=new bO(n,r,u);return Of.set(a,h),h}function IA(t=Ng){const e=Of.get(t);if(!e&&t===Ng&&wA())return xA();if(!e)throw Ts.create("no-app",{appName:t});return e}function Es(t,e,n){var r;let a=(r=vO[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(h.join(" "));return}$o(new Da(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firebase-heartbeat-database",EO=1,Fu="firebase-heartbeat-store";let rg=null;function DA(){return rg||(rg=jD(TO,EO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),rg}async function SO(t){try{const n=(await DA()).transaction(Fu),r=await n.objectStore(Fu).get(OA(t));return await n.done,r}catch(e){if(e instanceof kr)Dr.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function WT(t,e){try{const r=(await DA()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,OA(t)),await r.done}catch(n){if(n instanceof kr)Dr.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function OA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=1024,AO=30;class RO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ZT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>AO){const u=IO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZT(),{heartbeatsToSend:r,unsentEntries:a}=CO(this._heartbeatsCache.heartbeats),l=Df(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Dr.warn(n),""}}}function ZT(){return new Date().toISOString().substring(0,10)}function CO(t,e=wO){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),JT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),JT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mD()?pD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return WT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return WT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function JT(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}function IO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){$o(new Da("platform-logger",e=>new FD(e),"PRIVATE")),$o(new Da("heartbeat",e=>new RO(e),"PRIVATE")),Es(Pg,QT,t),Es(Pg,QT,"esm2017"),Es("fire-js","")}DO("");function Lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function MA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OO=MA,VA=new uc("auth","Firebase",MA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Vv("@firebase/auth");function MO(t,...e){Mf.logLevel<=Fe.WARN&&Mf.warn(`Auth (${rl}): ${t}`,...e)}function df(t,...e){Mf.logLevel<=Fe.ERROR&&Mf.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,...e){throw Uv(t,...e)}function vi(t,...e){return Uv(t,...e)}function kv(t,e,n){const r=Object.assign(Object.assign({},OO()),{[e]:n});return new uc("auth","Firebase",r).create(e,{appName:t.name})}function Ca(t){return kv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wi(t,"argument-error"),kv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VA.create(t,...e)}function xe(t,e,...n){if(!t)throw Uv(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw df(e),new Error(e)}function Or(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PO(){return eE()==="http:"||eE()==="https:"}function eE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PO()||cD()||"connection"in navigator)?navigator.onLine:!0}function LO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=oD()||hD()}get(){return NO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jO=new hc(3e4,6e4);function Bv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sl(t,e,n,r,a={}){return NA(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=cc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return uD()||(p.referrerPolicy="no-referrer"),PA.fetch()(await LA(t,t.config.apiHost,n,h),p)})}async function NA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kO),e);try{const a=new zO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Xh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Xh(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Xh(t,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kv(t,g,p);Wi(t,g)}}catch(a){if(a instanceof kr)throw a;Wi(t,"network-request-failed",{message:String(a)})}}async function BO(t,e,n,r,a={}){const l=await sl(t,e,n,r,a);return"mfaPendingCredential"in l&&Wi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function LA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?jv(t.config,a):`${t.config.apiScheme}://${a}`;return UO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class zO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),jO.get())})}}function Xh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=vi(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function Vf(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HO(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),a=zv(r);xe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Vu(sg(a.auth_time)),issuedAtTime:Vu(sg(a.iat)),expirationTime:Vu(sg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function sg(t){return Number(t)*1e3}function zv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const a=EA(n);return a?JSON.parse(a):(df("Failed to decode base64 JWT payload"),null)}catch(a){return df("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function tE(t){const e=zv(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&qO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Hu(t,Vf(n,{idToken:r}));xe(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?kA(l.providerUserInfo):[],h=KO(t.providerData,u),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Ug(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function $O(t){const e=Xt(t);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KO(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function kA(t){return t.map(e=>{var{providerId:n}=e,r=Lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){const n=await NA(t,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await LA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",PA.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QO(t,e){return sl(t,"POST","/v2/accounts:revokeToken",Bv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=tE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await YO(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new zo;return r&&(xe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(xe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=Lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ug(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Hu(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HO(this,e)}reload(){return $O(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await Hu(this,FO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,u,h,d,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,T=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,V=(h=n.tenantId)!==null&&h!==void 0?h:void 0,x=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,M=(p=n.createdAt)!==null&&p!==void 0?p:void 0,G=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:H,emailVerified:ee,isAnonymous:j,providerData:Z,stsTokenManager:D}=n;xe(H&&D,e,"internal-error");const w=zo.fromJSON(this.name,D);xe(typeof H=="string",e,"internal-error"),ms(_,e.name),ms(T,e.name),xe(typeof ee=="boolean",e,"internal-error"),xe(typeof j=="boolean",e,"internal-error"),ms(S,e.name),ms(C,e.name),ms(V,e.name),ms(x,e.name),ms(M,e.name),ms(G,e.name);const I=new gi({uid:H,auth:e,email:T,emailVerified:ee,displayName:_,isAnonymous:j,photoURL:C,phoneNumber:S,tenantId:V,stsTokenManager:w,createdAt:M,lastLoginAt:G});return Z&&Array.isArray(Z)&&(I.providerData=Z.map(N=>Object.assign({},N))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new zo;a.updateFromServerResponse(n);const l=new gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Pf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new zo;h.updateFromIdToken(r);const d=new gi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function xr(t){Or(t instanceof Function,"Expected a class definition");let e=nE.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UA.type="NONE";const iE=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=mf(this.userKey,a.apiKey,l),this.fullPersistenceKey=mf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vf(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fo(xr(iE),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||xr(iE);const u=mf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(u);if(g){let _;if(typeof g=="string"){const T=await Vf(e,{idToken:g}).catch(()=>{});if(!T)break;_=await gi._fromGetAccountInfoResponse(e,T,g)}else _=gi._fromJSON(e,g);p!==l&&(h=_),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Fo(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Fo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qA(e))return"Blackberry";if(GA(e))return"Webos";if(BA(e))return"Safari";if((e.includes("chrome/")||zA(e))&&!e.includes("edge/"))return"Chrome";if(HA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jA(t=_n()){return/firefox\//i.test(t)}function BA(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zA(t=_n()){return/crios\//i.test(t)}function FA(t=_n()){return/iemobile/i.test(t)}function HA(t=_n()){return/android/i.test(t)}function qA(t=_n()){return/blackberry/i.test(t)}function GA(t=_n()){return/webos/i.test(t)}function Fv(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XO(t=_n()){var e;return Fv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WO(){return fD()&&document.documentMode===10}function $A(t=_n()){return Fv(t)||HA(t)||GA(t)||qA(t)||/windows phone/i.test(t)||FA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e=[]){let n;switch(t){case"Browser":n=rE(_n());break;case"Worker":n=`${rE(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e={}){return sl(t,"GET","/v2/passwordPolicy",Bv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=6;class tM{constructor(e){var n,r,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:eM,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new ZO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vf(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(Ca(this));const n=e?Xt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JO(this),n=new tM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function md(t){return Xt(t)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bD(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iM(t){Hv=t}function rM(t){return Hv.loadJS(t)}function sM(){return Hv.gapiScript}function aM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e){const n=Nv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ia(l,e??{}))return a;Wi(a,"already-initialized")}return n.initialize({options:e})}function lM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uM(t,e,n){const r=md(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=YA(e),{host:u,port:h}=cM(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Ia(p,r.config.emulator)&&Ia(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,hM()}function YA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cM(t){const e=YA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:aE(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:aE(u)}}}function aE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e){return BO(t,"POST","/v1/accounts:signInWithIdp",Bv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="http://localhost";class Oa extends QA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=Lv(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Oa(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:fM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends qv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends fc{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends fc{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends fc{constructor(){super("twitter.com")}static credential(e,n){return Oa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await gi._fromIdTokenResponse(e,r,a),u=oE(r);return new Ko({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=oE(r);return new Ko({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function oE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends kr{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Nf(e,n,r,a)}}function XA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(t,l,e,r):l})}async function dM(t,e,n=!1){const r=await Hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e,n=!1){const{auth:r}=t;if(pi(r.app))return Promise.reject(Ca(r));const a="reauthenticate";try{const l=await Hu(t,XA(r,a,e,t),n);xe(l.idToken,r,"internal-error");const u=zv(l.idToken);xe(u,r,"internal-error");const{sub:h}=u;return xe(t.uid===h,r,"user-mismatch"),Ko._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Wi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e,n=!1){if(pi(t.app))return Promise.reject(Ca(t));const r="signIn",a=await XA(t,r,e),l=await Ko._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}function gM(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function vM(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}function yM(t,e,n,r){return Xt(t).onAuthStateChanged(e,n,r)}function _M(t){return Xt(t).signOut()}const Lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=1e3,TM=10;class ZA extends WA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$A(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);WO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TM):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZA.type="LOCAL";const EM=ZA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends WA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JA.type="SESSION";const e1=JA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await SM(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=Gv("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function AM(t){Fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function RM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xM(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",IM=1,kf="firebaseLocalStorage",i1="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(t,e){return t.transaction([kf],e?"readwrite":"readonly").objectStore(kf)}function DM(){const t=indexedDB.deleteDatabase(n1);return new dc(t).toPromise()}function jg(){const t=indexedDB.open(n1,IM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kf,{keyPath:i1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kf)?e(r):(r.close(),await DM(),e(await jg()))})})}async function lE(t,e,n){const r=gd(t,!0).put({[i1]:e,value:n});return new dc(r).toPromise()}async function OM(t,e){const n=gd(t,!1).get(e),r=await new dc(n).toPromise();return r===void 0?null:r.value}function uE(t,e){const n=gd(t,!0).delete(e);return new dc(n).toPromise()}const MM=800,VM=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pd._getInstance(xM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RM(),!this.activeServiceWorker)return;this.sender=new wM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await lE(e,Lf,"1"),await uE(e,Lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=gd(a,!1).getAll();return new dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const PM=r1;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e){return e?xr(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends QA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NM(t){return pM(t.auth,new $v(t),t.bypassAuthState)}function LM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),mM(n,new $v(t),t.bypassAuthState)}async function kM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),dM(n,new $v(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NM;case"linkViaPopup":case"linkViaRedirect":return kM;case"reauthViaPopup":case"reauthViaRedirect":return LM;default:Wi(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new hc(2e3,1e4);async function jM(t,e,n){if(pi(t.app))return Promise.reject(vi(t,"operation-not-supported-in-this-environment"));const r=md(t);VO(t,e,qv);const a=s1(r,n);return new Sa(r,"signInViaPopup",e,a).executeNotNull()}class Sa extends a1{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UM.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="pendingRedirect",pf=new Map;class zM extends a1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await FM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FM(t,e){const n=GM(e),r=qM(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function HM(t,e){pf.set(t._key(),e)}function qM(t){return xr(t._redirectPersistence)}function GM(t){return mf(BM,t.config.apiKey,t.name)}async function $M(t,e,n=!1){if(pi(t.app))return Promise.reject(Ca(t));const r=md(t),a=s1(r,e),u=await new zM(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=10*60*1e3;class YM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KM&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZM=/^https?/;async function JM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XM(t);for(const n of e)try{if(eV(n))return}catch{}Wi(t,"unauthorized-domain")}function eV(t){const e=kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!ZM.test(n))return!1;if(WM.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=new hc(3e4,6e4);function hE(){const t=Fi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nV(t){return new Promise((e,n)=>{var r,a,l;function u(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),n(vi(t,"network-request-failed"))},timeout:tV.get()})}if(!((a=(r=Fi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Fi().gapi)===null||l===void 0)&&l.load)u();else{const h=aM("iframefcb");return Fi()[h]=()=>{gapi.load?u():n(vi(t,"network-request-failed"))},rM(`${sM()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw gf=null,e})}let gf=null;function iV(t){return gf=gf||nV(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new hc(5e3,15e3),sV="__/auth/iframe",aV="emulator/auth/iframe",oV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uV(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jv(e,aV):`https://${t.config.authDomain}/${sV}`,r={apiKey:e.apiKey,appName:t.name,v:rl},a=lV.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${cc(r).slice(1)}`}async function cV(t){const e=await iV(t),n=Fi().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:uV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=vi(t,"network-request-failed"),h=Fi().setTimeout(()=>{l(u)},rV.get());function d(){Fi().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fV=500,dV=600,mV="_blank",pV="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gV(t,e,n,r=fV,a=dV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},hV),{width:r.toString(),height:a.toString(),top:l,left:u}),p=_n().toLowerCase();n&&(h=zA(p)?mV:n),jA(p)&&(e=e||pV,d.scrollbars="yes");const g=Object.entries(d).reduce((T,[S,C])=>`${T}${S}=${C},`,"");if(XO(p)&&h!=="_self")return vV(e||"",h),new fE(null);const _=window.open(e||"",h,g);xe(_,t,"popup-blocked");try{_.focus()}catch{}return new fE(_)}function vV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="__/auth/handler",_V="emulator/auth/handler",bV=encodeURIComponent("fac");async function dE(t,e,n,r,a,l){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:a};if(e instanceof qv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",_D(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof fc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${bV}=${encodeURIComponent(d)}`:"";return`${TV(t)}?${cc(h).slice(1)}${p}`}function TV({config:t}){return t.emulator?jv(t,_V):`https://${t.authDomain}/${yV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class EV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=$M,this._overrideRedirectResult=HM}async _openPopup(e,n,r,a){var l;Or((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await dE(e,n,r,kg(),a);return gV(e,u,Gv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await dE(e,n,r,kg(),a);return AM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Or(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cV(e),r=new YM(e);return n.register("authEvent",a=>(xe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ag,{type:ag},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[ag];u!==void 0&&n(!!u),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $A()||BA()||Fv()}}const SV=EV;var mE="@firebase/auth",pE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RV(t){$o(new Da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KA(t)},p=new nM(r,a,l,d);return lM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new Da("auth-internal",e=>{const n=md(e.getProvider("auth").getImmediate());return(r=>new wV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(mE,pE,AV(t)),Es(mE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=5*60,xV=AA("authIdTokenMaxAge")||CV;let gE=null;const IV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xV)return;const a=n==null?void 0:n.token;gE!==a&&(gE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function DV(t=IA()){const e=Nv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oM(t,{popupRedirectResolver:SV,persistence:[PM,EM,e1]}),r=AA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=IV(l.toString());vM(n,u,()=>u(n.currentUser)),gM(n,h=>u(h))}}const a=SA("auth");return a&&uM(n,`http://${a}`),n}function OV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=vi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",OV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RV("Browser");var MV="firebase",VV="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(MV,VV,"app");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,l1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function I(){}I.prototype=w.prototype,D.D=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(N,B,z){for(var P=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)P[Pe-2]=arguments[Pe];return w.prototype[B].apply(N,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,w,I){I||(I=0);var N=Array(16);if(typeof w=="string")for(var B=0;16>B;++B)N[B]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(B=0;16>B;++B)N[B]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],B=D.g[2];var z=D.g[3],P=w+(z^I&(B^z))+N[0]+3614090360&4294967295;w=I+(P<<7&4294967295|P>>>25),P=z+(B^w&(I^B))+N[1]+3905402710&4294967295,z=w+(P<<12&4294967295|P>>>20),P=B+(I^z&(w^I))+N[2]+606105819&4294967295,B=z+(P<<17&4294967295|P>>>15),P=I+(w^B&(z^w))+N[3]+3250441966&4294967295,I=B+(P<<22&4294967295|P>>>10),P=w+(z^I&(B^z))+N[4]+4118548399&4294967295,w=I+(P<<7&4294967295|P>>>25),P=z+(B^w&(I^B))+N[5]+1200080426&4294967295,z=w+(P<<12&4294967295|P>>>20),P=B+(I^z&(w^I))+N[6]+2821735955&4294967295,B=z+(P<<17&4294967295|P>>>15),P=I+(w^B&(z^w))+N[7]+4249261313&4294967295,I=B+(P<<22&4294967295|P>>>10),P=w+(z^I&(B^z))+N[8]+1770035416&4294967295,w=I+(P<<7&4294967295|P>>>25),P=z+(B^w&(I^B))+N[9]+2336552879&4294967295,z=w+(P<<12&4294967295|P>>>20),P=B+(I^z&(w^I))+N[10]+4294925233&4294967295,B=z+(P<<17&4294967295|P>>>15),P=I+(w^B&(z^w))+N[11]+2304563134&4294967295,I=B+(P<<22&4294967295|P>>>10),P=w+(z^I&(B^z))+N[12]+1804603682&4294967295,w=I+(P<<7&4294967295|P>>>25),P=z+(B^w&(I^B))+N[13]+4254626195&4294967295,z=w+(P<<12&4294967295|P>>>20),P=B+(I^z&(w^I))+N[14]+2792965006&4294967295,B=z+(P<<17&4294967295|P>>>15),P=I+(w^B&(z^w))+N[15]+1236535329&4294967295,I=B+(P<<22&4294967295|P>>>10),P=w+(B^z&(I^B))+N[1]+4129170786&4294967295,w=I+(P<<5&4294967295|P>>>27),P=z+(I^B&(w^I))+N[6]+3225465664&4294967295,z=w+(P<<9&4294967295|P>>>23),P=B+(w^I&(z^w))+N[11]+643717713&4294967295,B=z+(P<<14&4294967295|P>>>18),P=I+(z^w&(B^z))+N[0]+3921069994&4294967295,I=B+(P<<20&4294967295|P>>>12),P=w+(B^z&(I^B))+N[5]+3593408605&4294967295,w=I+(P<<5&4294967295|P>>>27),P=z+(I^B&(w^I))+N[10]+38016083&4294967295,z=w+(P<<9&4294967295|P>>>23),P=B+(w^I&(z^w))+N[15]+3634488961&4294967295,B=z+(P<<14&4294967295|P>>>18),P=I+(z^w&(B^z))+N[4]+3889429448&4294967295,I=B+(P<<20&4294967295|P>>>12),P=w+(B^z&(I^B))+N[9]+568446438&4294967295,w=I+(P<<5&4294967295|P>>>27),P=z+(I^B&(w^I))+N[14]+3275163606&4294967295,z=w+(P<<9&4294967295|P>>>23),P=B+(w^I&(z^w))+N[3]+4107603335&4294967295,B=z+(P<<14&4294967295|P>>>18),P=I+(z^w&(B^z))+N[8]+1163531501&4294967295,I=B+(P<<20&4294967295|P>>>12),P=w+(B^z&(I^B))+N[13]+2850285829&4294967295,w=I+(P<<5&4294967295|P>>>27),P=z+(I^B&(w^I))+N[2]+4243563512&4294967295,z=w+(P<<9&4294967295|P>>>23),P=B+(w^I&(z^w))+N[7]+1735328473&4294967295,B=z+(P<<14&4294967295|P>>>18),P=I+(z^w&(B^z))+N[12]+2368359562&4294967295,I=B+(P<<20&4294967295|P>>>12),P=w+(I^B^z)+N[5]+4294588738&4294967295,w=I+(P<<4&4294967295|P>>>28),P=z+(w^I^B)+N[8]+2272392833&4294967295,z=w+(P<<11&4294967295|P>>>21),P=B+(z^w^I)+N[11]+1839030562&4294967295,B=z+(P<<16&4294967295|P>>>16),P=I+(B^z^w)+N[14]+4259657740&4294967295,I=B+(P<<23&4294967295|P>>>9),P=w+(I^B^z)+N[1]+2763975236&4294967295,w=I+(P<<4&4294967295|P>>>28),P=z+(w^I^B)+N[4]+1272893353&4294967295,z=w+(P<<11&4294967295|P>>>21),P=B+(z^w^I)+N[7]+4139469664&4294967295,B=z+(P<<16&4294967295|P>>>16),P=I+(B^z^w)+N[10]+3200236656&4294967295,I=B+(P<<23&4294967295|P>>>9),P=w+(I^B^z)+N[13]+681279174&4294967295,w=I+(P<<4&4294967295|P>>>28),P=z+(w^I^B)+N[0]+3936430074&4294967295,z=w+(P<<11&4294967295|P>>>21),P=B+(z^w^I)+N[3]+3572445317&4294967295,B=z+(P<<16&4294967295|P>>>16),P=I+(B^z^w)+N[6]+76029189&4294967295,I=B+(P<<23&4294967295|P>>>9),P=w+(I^B^z)+N[9]+3654602809&4294967295,w=I+(P<<4&4294967295|P>>>28),P=z+(w^I^B)+N[12]+3873151461&4294967295,z=w+(P<<11&4294967295|P>>>21),P=B+(z^w^I)+N[15]+530742520&4294967295,B=z+(P<<16&4294967295|P>>>16),P=I+(B^z^w)+N[2]+3299628645&4294967295,I=B+(P<<23&4294967295|P>>>9),P=w+(B^(I|~z))+N[0]+4096336452&4294967295,w=I+(P<<6&4294967295|P>>>26),P=z+(I^(w|~B))+N[7]+1126891415&4294967295,z=w+(P<<10&4294967295|P>>>22),P=B+(w^(z|~I))+N[14]+2878612391&4294967295,B=z+(P<<15&4294967295|P>>>17),P=I+(z^(B|~w))+N[5]+4237533241&4294967295,I=B+(P<<21&4294967295|P>>>11),P=w+(B^(I|~z))+N[12]+1700485571&4294967295,w=I+(P<<6&4294967295|P>>>26),P=z+(I^(w|~B))+N[3]+2399980690&4294967295,z=w+(P<<10&4294967295|P>>>22),P=B+(w^(z|~I))+N[10]+4293915773&4294967295,B=z+(P<<15&4294967295|P>>>17),P=I+(z^(B|~w))+N[1]+2240044497&4294967295,I=B+(P<<21&4294967295|P>>>11),P=w+(B^(I|~z))+N[8]+1873313359&4294967295,w=I+(P<<6&4294967295|P>>>26),P=z+(I^(w|~B))+N[15]+4264355552&4294967295,z=w+(P<<10&4294967295|P>>>22),P=B+(w^(z|~I))+N[6]+2734768916&4294967295,B=z+(P<<15&4294967295|P>>>17),P=I+(z^(B|~w))+N[13]+1309151649&4294967295,I=B+(P<<21&4294967295|P>>>11),P=w+(B^(I|~z))+N[4]+4149444226&4294967295,w=I+(P<<6&4294967295|P>>>26),P=z+(I^(w|~B))+N[11]+3174756917&4294967295,z=w+(P<<10&4294967295|P>>>22),P=B+(w^(z|~I))+N[2]+718787259&4294967295,B=z+(P<<15&4294967295|P>>>17),P=I+(z^(B|~w))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(B+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+B&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var I=w-this.blockSize,N=this.B,B=this.h,z=0;z<w;){if(B==0)for(;z<=I;)a(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<w;)if(N[B++]=D.charCodeAt(z++),B==this.blockSize){a(this,N),B=0;break}}else for(;z<w;)if(N[B++]=D[z++],B==this.blockSize){a(this,N),B=0;break}}this.h=B,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var I=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=I&255,I/=256;for(this.u(D),D=Array(16),w=I=0;4>w;++w)for(var N=0;32>N;N+=8)D[I++]=this.g[w]>>>N&255;return D};function l(D,w){var I=h;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function u(D,w){this.h=w;for(var I=[],N=!0,B=D.length-1;0<=B;B--){var z=D[B]|0;N&&z==w||(I[B]=z,N=!1)}this.g=I}var h={};function d(D){return-128<=D&&128>D?l(D,function(w){return new u([w|0],0>w?-1:0)}):new u([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return x(p(-D));for(var w=[],I=1,N=0;D>=I;N++)w[N]=D/I|0,I*=4294967296;return new u(w,0)}function g(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return x(g(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(w,8)),N=_,B=0;B<D.length;B+=8){var z=Math.min(8,D.length-B),P=parseInt(D.substring(B,B+z),w);8>z?(z=p(Math.pow(w,z)),N=N.j(z).add(p(P))):(N=N.j(I),N=N.add(p(P)))}return N}var _=d(0),T=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(V(this))return-x(this).m();for(var D=0,w=1,I=0;I<this.g.length;I++){var N=this.i(I);D+=(0<=N?N:4294967296+N)*w,w*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(V(this))return"-"+x(this).toString(D);for(var w=p(Math.pow(D,6)),I=this,N="";;){var B=ee(I,w).g;I=M(I,B.j(w));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=B,C(I))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function V(D){return D.h==-1}t.l=function(D){return D=M(this,D),V(D)?-1:C(D)?0:1};function x(D){for(var w=D.g.length,I=[],N=0;N<w;N++)I[N]=~D.g[N];return new u(I,~D.h).add(T)}t.abs=function(){return V(this)?x(this):this},t.add=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],N=0,B=0;B<=w;B++){var z=N+(this.i(B)&65535)+(D.i(B)&65535),P=(z>>>16)+(this.i(B)>>>16)+(D.i(B)>>>16);N=P>>>16,z&=65535,P&=65535,I[B]=P<<16|z}return new u(I,I[I.length-1]&-2147483648?-1:0)};function M(D,w){return D.add(x(w))}t.j=function(D){if(C(this)||C(D))return _;if(V(this))return V(D)?x(this).j(x(D)):x(x(this).j(D));if(V(D))return x(this.j(x(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var w=this.g.length+D.g.length,I=[],N=0;N<2*w;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var B=0;B<D.g.length;B++){var z=this.i(N)>>>16,P=this.i(N)&65535,Pe=D.i(B)>>>16,Ie=D.i(B)&65535;I[2*N+2*B]+=P*Ie,G(I,2*N+2*B),I[2*N+2*B+1]+=z*Ie,G(I,2*N+2*B+1),I[2*N+2*B+1]+=P*Pe,G(I,2*N+2*B+1),I[2*N+2*B+2]+=z*Pe,G(I,2*N+2*B+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new u(I,0)};function G(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function H(D,w){this.g=D,this.h=w}function ee(D,w){if(C(w))throw Error("division by zero");if(C(D))return new H(_,_);if(V(D))return w=ee(x(D),w),new H(x(w.g),x(w.h));if(V(w))return w=ee(D,x(w)),new H(x(w.g),w.h);if(30<D.g.length){if(V(D)||V(w))throw Error("slowDivide_ only works with positive integers.");for(var I=T,N=w;0>=N.l(D);)I=j(I),N=j(N);var B=Z(I,1),z=Z(N,1);for(N=Z(N,2),I=Z(I,2);!C(N);){var P=z.add(N);0>=P.l(D)&&(B=B.add(I),z=P),N=Z(N,1),I=Z(I,1)}return w=M(D,B.j(w)),new H(B,w)}for(B=_;0<=D.l(w);){for(I=Math.max(1,Math.floor(D.m()/w.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=p(I),P=z.j(w);V(P)||0<P.l(D);)I-=N,z=p(I),P=z.j(w);C(z)&&(z=T),B=B.add(z),D=M(D,P)}return new H(B,D)}t.A=function(D){return ee(this,D).h},t.and=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],N=0;N<w;N++)I[N]=this.i(N)&D.i(N);return new u(I,this.h&D.h)},t.or=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],N=0;N<w;N++)I[N]=this.i(N)|D.i(N);return new u(I,this.h|D.h)},t.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),I=[],N=0;N<w;N++)I[N]=this.i(N)^D.i(N);return new u(I,this.h^D.h)};function j(D){for(var w=D.g.length+1,I=[],N=0;N<w;N++)I[N]=D.i(N)<<1|D.i(N-1)>>>31;return new u(I,D.h)}function Z(D,w){var I=w>>5;w%=32;for(var N=D.g.length-I,B=[],z=0;z<N;z++)B[z]=0<w?D.i(z+I)>>>w|D.i(z+I+1)<<32-w:D.i(z+I);return new u(B,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Ss=u}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u1,Ru,c1,vf,Bg,h1,f1,d1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,b){return f==Array.prototype||f==Object.prototype||(f[y]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var y=0;y<f.length;++y){var b=f[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(f,y){if(y)e:{var b=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var $=f[R];if(!($ in b))break e;b=b[$]}f=f[f.length-1],R=b[f],y=y(R),y!=R&&y!=null&&e(b,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var b=0,R=!1,$={next:function(){if(!R&&b<f.length){var J=b++;return{value:y(J,f[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function g(f,y,b){return f.call.apply(f.bind,arguments)}function _(f,y,b){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),f.apply(y,$)}}return function(){return f.apply(y,arguments)}}function T(f,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function S(f,y){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function C(f,y){function b(){}b.prototype=y.prototype,f.aa=y.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(R,$,J){for(var ce=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ce[qe-2]=arguments[qe];return y.prototype[$].apply(R,ce)}}function V(f){const y=f.length;if(0<y){const b=Array(y);for(let R=0;R<y;R++)b[R]=f[R];return b}return[]}function x(f,y){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(d(R)){const $=f.length||0,J=R.length||0;f.length=$+J;for(let ce=0;ce<J;ce++)f[$+ce]=R[ce]}else f.push(R)}}class M{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ee(f){return ee[" "](f),f}ee[" "]=function(){};var j=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Z(f,y,b){for(const R in f)y.call(b,f[R],R,f)}function D(f,y){for(const b in f)y.call(void 0,f[b],b,f)}function w(f){const y={};for(const b in f)y[b]=f[b];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let b,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(b in R)f[b]=R[b];for(let J=0;J<I.length;J++)b=I[J],Object.prototype.hasOwnProperty.call(R,b)&&(f[b]=R[b])}}function B(f){var y=1;f=f.split(":");const b=[];for(;0<y&&f.length;)b.push(f.shift()),y--;return f.length&&b.push(f.join(":")),b}function z(f){h.setTimeout(()=>{throw f},0)}function P(){var f=Oe;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Pe{constructor(){this.h=this.g=null}add(y,b){const R=Ie.get();R.set(y,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Ie=new M(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,he=!1,Oe=new Pe,U=()=>{const f=h.Promise.resolve(void 0);oe=()=>{f.then(se)}};var se=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(b){z(b)}var y=Ie;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}he=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};h.addEventListener("test",b,y),h.removeEventListener("test",b,y)}catch{}return f}();function Ce(f,y){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(j){e:{try{ee(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else b=="mouseover"?y=f.fromElement:b=="mouseout"&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ce.aa.h.call(this)}}C(Ce,le);var ge={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),ze=0;function bn(f,y,b,R,$){this.listener=f,this.proxy=null,this.src=y,this.type=b,this.capture=!!R,this.ha=$,this.key=++ze,this.da=this.fa=!1}function bi(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Hn(f){this.src=f,this.g={},this.h=0}Hn.prototype.add=function(f,y,b,R,$){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var ce=er(f,y,R,$);return-1<ce?(y=f[ce],b||(y.fa=!1)):(y=new bn(y,this.src,J,!!R,$),y.fa=b,f.push(y)),y};function Ti(f,y){var b=y.type;if(b in f.g){var R=f.g[b],$=Array.prototype.indexOf.call(R,y,void 0),J;(J=0<=$)&&Array.prototype.splice.call(R,$,1),J&&(bi(y),f.g[b].length==0&&(delete f.g[b],f.h--))}}function er(f,y,b,R){for(var $=0;$<f.length;++$){var J=f[$];if(!J.da&&J.listener==y&&J.capture==!!b&&J.ha==R)return $}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),Us={};function Rc(f,y,b,R,$){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Rc(f,y[J],b,R,$);return null}return b=Cc(b),f&&f[ut]?f.K(y,b,p(R)?!!R.capture:!1,$):qn(f,y,b,!1,R,$)}function qn(f,y,b,R,$,J){if(!y)throw Error("Invalid event type");var ce=p($)?!!$.capture:!!$,qe=ja(f);if(qe||(f[Ei]=qe=new Hn(f)),b=qe.add(y,b,R,ce,J),b.proxy)return b;if(R=Yd(),b.proxy=R,R.src=f,R.listener=b,f.addEventListener)pe||($=ce),$===void 0&&($=!1),f.addEventListener(y.toString(),R,$);else if(f.attachEvent)f.attachEvent(js(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Yd(){function f(b){return y.call(f.src,f.listener,b)}const y=Qd;return f}function ml(f,y,b,R,$){if(Array.isArray(y))for(var J=0;J<y.length;J++)ml(f,y[J],b,R,$);else R=p(R)?!!R.capture:!!R,b=Cc(b),f&&f[ut]?(f=f.i,y=String(y).toString(),y in f.g&&(J=f.g[y],b=er(J,b,R,$),-1<b&&(bi(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete f.g[y],f.h--)))):f&&(f=ja(f))&&(y=f.g[y.toString()],f=-1,y&&(f=er(y,b,R,$)),(b=-1<f?y[f]:null)&&Ua(b))}function Ua(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ut])Ti(y.i,f);else{var b=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(b,R,f.capture):y.detachEvent?y.detachEvent(js(b),R):y.addListener&&y.removeListener&&y.removeListener(R),(b=ja(y))?(Ti(b,f),b.h==0&&(b.src=null,y[Ei]=null)):bi(f)}}}function js(f){return f in Us?Us[f]:Us[f]="on"+f}function Qd(f,y){if(f.da)f=!0;else{y=new Ce(y,this);var b=f.listener,R=f.ha||f.src;f.fa&&Ua(f),f=b.call(R,y)}return f}function ja(f){return f=f[Ei],f instanceof Hn?f:null}var pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cc(f){return typeof f=="function"?f:(f[pl]||(f[pl]=function(y){return f.handleEvent(y)}),f[pl])}function _t(){ue.call(this),this.i=new Hn(this),this.M=this,this.F=null}C(_t,ue),_t.prototype[ut]=!0,_t.prototype.removeEventListener=function(f,y,b,R){ml(this,f,y,b,R)};function tt(f,y){var b,R=f.F;if(R)for(b=[];R;R=R.F)b.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new le(y,f);else if(y instanceof le)y.target=y.target||f;else{var $=y;y=new le(R,f),N(y,$)}if($=!0,b)for(var J=b.length-1;0<=J;J--){var ce=y.g=b[J];$=Mn(ce,R,!0,y)&&$}if(ce=y.g=f,$=Mn(ce,R,!0,y)&&$,$=Mn(ce,R,!1,y)&&$,b)for(J=0;J<b.length;J++)ce=y.g=b[J],$=Mn(ce,R,!1,y)&&$}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var b=f.g[y],R=0;R<b.length;R++)bi(b[R]);delete f.g[y],f.h--}}this.F=null},_t.prototype.K=function(f,y,b,R){return this.i.add(String(f),y,!1,b,R)},_t.prototype.L=function(f,y,b,R){return this.i.add(String(f),y,!0,b,R)};function Mn(f,y,b,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,J=0;J<y.length;++J){var ce=y[J];if(ce&&!ce.da&&ce.capture==b){var qe=ce.listener,kt=ce.ha||ce.src;ce.fa&&Ti(f.i,ce),$=qe.call(kt,R)!==!1&&$}}return $&&!R.defaultPrevented}function un(f,y,b){if(typeof f=="function")b&&(f=T(f,b));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function xc(f){f.g=un(()=>{f.g=null,f.i&&(f.i=!1,xc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Xd extends ue{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(f){ue.call(this),this.h=f,this.g={}}C(Bs,ue);var zs=[];function Fs(f){Z(f.g,function(y,b){this.g.hasOwnProperty(b)&&Ua(y)},f),f.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),Fs(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=h.JSON.stringify,Ba=h.JSON.parse,Hs=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function gl(){}gl.prototype.h=null;function vl(f){return f.h||(f.h=f.i())}function yl(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){le.call(this,"d")}C(nr,le);function _l(){le.call(this,"c")}C(_l,le);var Si={},bl=null;function Br(){return bl=bl||new _t}Si.La="serverreachability";function za(f){le.call(this,Si.La,f)}C(za,le);function zr(f){const y=Br();tt(y,new za(y))}Si.STAT_EVENT="statevent";function Ic(f,y){le.call(this,Si.STAT_EVENT,f),this.stat=y}C(Ic,le);function mt(f){const y=Br();tt(y,new Ic(y,f))}Si.Ma="timingevent";function Lt(f,y){le.call(this,Si.Ma,f),this.size=y}C(Lt,le);function It(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function Tl(f,y,b,R,$,J){f.info(function(){if(f.g)if(J)for(var ce="",qe=J.split("&"),kt=0;kt<qe.length;kt++){var Ge=qe[kt].split("=");if(1<Ge.length){var qt=Ge[0];Ge=Ge[1];var Ut=qt.split("_");ce=2<=Ut.length&&Ut[1]=="type"?ce+(qt+"="+Ge+"&"):ce+(qt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+y+`
`+b+`
`+ce})}function Wd(f,y,b,R,$,J,ce){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+y+`
`+b+`
`+J+" "+ce})}function Fr(f,y,b,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+qs(f,b)+(R?" "+R:"")})}function Dc(f,y){f.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function qs(f,y){if(!f.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var R=b[f];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return li(b)}catch{return y}}var Hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wi;function Ai(){}C(Ai,gl),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},wi=new Ai;function Tn(f,y,b,R){this.j=f,this.i=y,this.l=b,this.R=R||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var El={},Fa={};function ui(f,y,b){f.L=1,f.v=Qs(Vn(y)),f.m=b,f.P=!0,rr(f,null)}function rr(f,y){f.F=Date.now(),Gs(f),f.A=Vn(f.v);var b=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),xl(b.i,"t",R),f.C=0,b=f.j.J,f.h=new wt,f.g=$c(f.j,b?y:null,!f.m),0<f.O&&(f.M=new Xd(T(f.Y,f,f.g),f.O)),y=f.U,b=f.g,R=f.ca;var $="readystatechange";Array.isArray($)||($&&(zs[0]=$.toString()),$=zs);for(var J=0;J<$.length;J++){var ce=Rc(b,$[J],R||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),zr(),Tl(f.i,f.u,f.A,f.l,f.R,f.m)}Tn.prototype.ca=function(f){f=f.target;const y=this.M;y&&Qn(f)==3?y.j():this.Y(f)},Tn.prototype.Y=function(f){try{if(f==this.g)e:{const Ut=Qn(this.g);var y=this.g.Ba();const fr=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Uc(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=fr?zr(3):zr(2)),qr(this);var b=this.g.Z();this.X=b;t:if(Oc(this)){var R=Uc(this.g);f="";var $=R.length,J=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),Ri(this);var ce="";break t}this.h.i=new h.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(J&&y==$-1)});R.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=b==200,Wd(this.i,this.u,this.A,this.l,this.R,Ut,b),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,kt=this.g;if((qe=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qe)){var Ge=qe;break t}}Ge=null}if(b=Ge)Fr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,b);else{this.o=!1,this.s=3,mt(12),Wt(this),Ri(this);break e}}if(this.P){b=!0;let Zt;for(;!this.J&&this.C<ce.length;)if(Zt=Mc(this,ce),Zt==Fa){Ut==4&&(this.s=4,mt(14),b=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==El){this.s=4,mt(15),Fr(this.i,this.l,ce,"[Invalid Chunk]"),b=!1;break}else Fr(this.i,this.l,Zt,null),$s(this,Zt);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ce.length!=0||this.h.h||(this.s=1,mt(16),b=!1),this.o=this.o&&b,!b)Fr(this.i,this.l,ce,"[Invalid Chunked Response]"),Wt(this),Ri(this);else if(0<ce.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ia(qt),qt.M=!0,mt(11))}}else Fr(this.i,this.l,ce,null),$s(this,ce);Ut==4&&Wt(this),this.o&&!this.J&&(Ut==4?Hc(this.j,this):(this.o=!1,Gs(this)))}else nm(this.g),b==400&&0<ce.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Wt(this),Ri(this)}}}catch{}finally{}};function Oc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Mc(f,y){var b=f.C,R=y.indexOf(`
`,b);return R==-1?Fa:(b=Number(y.substring(b,R)),isNaN(b)?El:(R+=1,R+b>y.length?Fa:(y=y.slice(R,R+b),f.C=R+b,y)))}Tn.prototype.cancel=function(){this.J=!0,Wt(this)};function Gs(f){f.S=Date.now()+f.I,Vc(f,f.I)}function Vc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=It(T(f.ba,f),y)}function qr(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Tn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Dc(this.i,this.A),this.L!=2&&(zr(),mt(17)),Wt(this),this.s=2,Ri(this)):Vc(this,this.S-f)};function Ri(f){f.j.G==0||f.J||Hc(f.j,f)}function Wt(f){qr(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Fs(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function $s(f,y){try{var b=f.j;if(b.G!=0&&(b.g==f||Sl(b.h,f))){if(!f.K&&Sl(b.h,f)&&b.G==3){try{var R=b.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)eo(b),Za(b);else break e;Vl(b),mt(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=It(T(b.Za,b),6e3));if(1>=qa(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else hr(b,11)}else if((f.K||b.g==f)&&eo(b),!G(y))for($=b.Da.g.parse(y),y=0;y<$.length;y++){let Ge=$[y];if(b.T=Ge[0],Ge=Ge[1],b.G==2)if(Ge[0]=="c"){b.K=Ge[1],b.ia=Ge[2];const qt=Ge[3];qt!=null&&(b.la=qt,b.j.info("VER="+b.la));const Ut=Ge[4];Ut!=null&&(b.Aa=Ut,b.j.info("SVER="+b.Aa));const fr=Ge[5];fr!=null&&typeof fr=="number"&&0<fr&&(R=1.5*fr,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Zt=f.g;if(Zt){const Vi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var J=R.h;J.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ga(J,J.h),J.h=null))}if(R.D){const Nl=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(R.ya=Nl,st(R.I,R.D,Nl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ce=f;if(R.qa=Gc(R,R.J?R.ia:null,R.W),ce.K){En(R.h,ce);var qe=ce,kt=R.L;kt&&(qe.I=kt),qe.B&&(qr(qe),Gs(qe)),R.g=ce}else zc(R);0<b.i.length&&Ja(b)}else Ge[0]!="stop"&&Ge[0]!="close"||hr(b,7);else b.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?hr(b,7):Ol(b):Ge[0]!="noop"&&b.l&&b.l.ta(Ge),b.v=0)}}zr(4)}catch{}}var Pc=class{constructor(f,y){this.g=f,this.map=y}};function sr(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ha(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function qa(f){return f.h?1:f.g?f.g.size:0}function Sl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ga(f,y){f.g?f.g.add(y):f.h=y}function En(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}sr.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function wl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const b of f.g.values())y=y.concat(b.D);return y}return V(f.i)}function Zd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],b=f.length,R=0;R<b;R++)y.push(f[R]);return y}y=[],b=0;for(R in f)y[b++]=f[R];return y}function $a(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var b=0;b<f;b++)y.push(b);return y}y=[],b=0;for(const R in f)y[b++]=R;return y}}}function Al(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var b=$a(f),R=Zd(f),$=R.length,J=0;J<$;J++)y.call(void 0,R[J],b&&b[J],f)}var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jd(f,y){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var R=f[b].indexOf("="),$=null;if(0<=R){var J=f[b].substring(0,R);$=f[b].substring(R+1)}else J=f[b];y(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Dt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Dt){this.h=f.h,Ys(this,f.j),this.o=f.o,this.g=f.g,Gr(this,f.s),this.l=f.l;var y=f.i,b=new or;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),ar(this,b),this.m=f.m}else f&&(y=String(f).match(Ks))?(this.h=!1,Ys(this,y[1]||"",!0),this.o=$n(y[2]||""),this.g=$n(y[3]||"",!0),Gr(this,y[4]),this.l=$n(y[5]||"",!0),ar(this,y[6]||"",!0),this.m=$n(y[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Dt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Xs(y,Rl,!0),":");var b=this.g;return(b||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Xs(y,Rl,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Xs(b,b.charAt(0)=="/"?em:Cl,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Xs(b,Ka)),f.join("")};function Vn(f){return new Dt(f)}function Ys(f,y,b){f.j=b?$n(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Gr(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ar(f,y,b){y instanceof or?(f.i=y,Lc(f.i,f.h)):(b||(y=Xs(y,tm)),f.i=new or(y,f.h))}function st(f,y,b){f.i.set(y,b)}function Qs(f){return st(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $n(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xs(f,y,b){return typeof f=="string"?(f=encodeURI(f).replace(y,Nc),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Nc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Rl=/[#\/\?@]/g,Cl=/[#\?:]/g,em=/[#\?]/g,tm=/[#\?@]/g,Ka=/#/g;function or(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Kn(f){f.g||(f.g=new Map,f.h=0,f.i&&Jd(f.i,function(y,b){f.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}t=or.prototype,t.add=function(f,y){Kn(this),this.i=null,f=Ci(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(y),this.h+=1,this};function lr(f,y){Kn(f),y=Ci(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function ur(f,y){return Kn(f),y=Ci(f,y),f.g.has(y)}t.forEach=function(f,y){Kn(this),this.g.forEach(function(b,R){b.forEach(function($){f.call(y,$,R,this)},this)},this)},t.na=function(){Kn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let R=0;R<y.length;R++){const $=f[R];for(let J=0;J<$.length;J++)b.push(y[R])}return b},t.V=function(f){Kn(this);let y=[];if(typeof f=="string")ur(this,f)&&(y=y.concat(this.g.get(Ci(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)y=y.concat(f[b])}return y},t.set=function(f,y){return Kn(this),this.i=null,f=Ci(this,f),ur(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function xl(f,y,b){lr(f,y),0<b.length&&(f.i=null,f.g.set(Ci(f,y),V(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var R=y[b];const J=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var $=J;ce[R]!==""&&($+="="+encodeURIComponent(String(ce[R]))),f.push($)}}return this.i=f.join("&")};function Ci(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Lc(f,y){y&&!f.j&&(Kn(f),f.i=null,f.g.forEach(function(b,R){var $=R.toLowerCase();R!=$&&(lr(this,R),xl(this,$,b))},f)),f.j=y}function Ws(f,y){const b=new Gn;if(h.Image){const R=new Image;R.onload=S(Yn,b,"TestLoadImage: loaded",!0,y,R),R.onerror=S(Yn,b,"TestLoadImage: error",!1,y,R),R.onabort=S(Yn,b,"TestLoadImage: abort",!1,y,R),R.ontimeout=S(Yn,b,"TestLoadImage: timeout",!1,y,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function ci(f,y){const b=new Gn,R=new AbortController,$=setTimeout(()=>{R.abort(),Yn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout($),J.ok?Yn(b,"TestPingServer: ok",!0,y):Yn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),Yn(b,"TestPingServer: error",!1,y)})}function Yn(f,y,b,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(b)}catch{}}function Zs(){this.g=new Hs}function xi(f,y,b){const R=b||"";try{Al(f,function($,J){let ce=$;p($)&&(ce=li($)),y.push(R+J+"="+encodeURIComponent(ce))})}catch($){throw y.push(R+"type="+encodeURIComponent("_badmap")),$}}function $r(f){this.l=f.Ub||null,this.j=f.eb||!1}C($r,gl),$r.prototype.g=function(){return new cr(this.l,this.j)},$r.prototype.i=function(f){return function(){return f}}({});function cr(f,y){_t.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(cr,_t),t=cr.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Di(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Ii(this):Di(this),this.readyState==3&&Il(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ii(this))},t.Qa=function(f){this.g&&(this.response=f,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Di(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=y.next();return f.join(`\r
`)};function Di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Dl(f){let y="";return Z(f,function(b,R){y+=R,y+=":",y+=b,y+=`\r
`}),y}function Ht(f,y,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Dl(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):st(f,y,b))}function Ze(f){_t.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ze,_t);var Ya=/^https?$/i,Js=["POST","PUT"];t=Ze.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wi.g(),this.v=this.o?vl(this.o):vl(wi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){kc(this,J);return}if(f=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)b.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),$=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Js,y,void 0))||R||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of b)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){kc(this,J)}};function kc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Qa(f),Oi(f)}function Qa(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,tt(this,"complete"),tt(this,"abort"),Oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},t.bb=function(){Xa(this)};function Xa(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Qn(f)!=4||f.Z()!=2)){if(f.u&&Qn(f)==4)un(f.Ea,0,f);else if(tt(f,"readystatechange"),Qn(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var R;if(R=ce===0){var $=String(f.D).match(Ks)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),R=!Ya.test($?$.toLowerCase():"")}b=R}if(b)tt(f,"complete"),tt(f,"success");else{f.m=6;try{var J=2<Qn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Qa(f)}}finally{Oi(f)}}}}function Oi(f,y){if(f.g){ea(f);const b=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||tt(f,"ready");try{b.onreadystatechange=R}catch{}}}function ea(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Qn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ba(y)}};function Uc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function nm(f){const y={};f=(f.g&&2<=Qn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(G(f[R]))continue;var b=B(f[R]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=y[$]||[];y[$]=J,J.push(b)}D(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(f,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||y}function Wa(f){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,f),this.cb=ta("retryDelaySeedMs",1e4,f),this.Wa=ta("forwardChannelMaxRetries",2,f),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new sr(f&&f.concurrentRequestLimit),this.Da=new Zs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wa.prototype,t.la=8,t.G=1,t.connect=function(f,y,b,R){mt(0),this.W=f,this.H=y||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=Gc(this,null,this.W),Ja(this)};function Ol(f){if(jc(f),f.G==3){var y=f.U++,b=Vn(f.I);if(st(b,"SID",f.K),st(b,"RID",y),st(b,"TYPE","terminate"),na(f,b),y=new Tn(f,f.j,y),y.L=2,y.v=Qs(Vn(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&h.Image&&(new Image().src=y.v,b=!0),b||(y.g=$c(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Gs(y)}qc(f)}function Za(f){f.g&&(ia(f),f.g.cancel(),f.g=null)}function jc(f){Za(f),f.u&&(h.clearTimeout(f.u),f.u=null),eo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ja(f){if(!Ha(f.h)&&!f.s){f.s=!0;var y=f.Ga;oe||U(),he||(oe(),he=!0),Oe.add(y,f),f.B=0}}function im(f,y){return qa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=It(T(f.Ga,f,y),Pl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Tn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=w(J),N(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Bc(this,$,y),b=Vn(this.I),st(b,"RID",f),st(b,"CVER",22),this.D&&st(b,"X-HTTP-Session-Id",this.D),na(this,b),J&&(this.O?y="headers="+encodeURIComponent(String(Dl(J)))+"&"+y:this.m&&Ht(b,this.m,J)),Ga(this.h,$),this.Ua&&st(b,"TYPE","init"),this.P?(st(b,"$req",y),st(b,"SID","null"),$.T=!0,ui($,b,null)):ui($,b,y),this.G=2}}else this.G==3&&(f?Ml(this,f):this.i.length==0||Ha(this.h)||Ml(this))};function Ml(f,y){var b;y?b=y.l:b=f.U++;const R=Vn(f.I);st(R,"SID",f.K),st(R,"RID",b),st(R,"AID",f.T),na(f,R),f.m&&f.o&&Ht(R,f.m,f.o),b=new Tn(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Bc(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ga(f.h,b),ui(b,R,y)}function na(f,y){f.H&&Z(f.H,function(b,R){st(y,R,b)}),f.l&&Al({},function(b,R){st(y,R,b)})}function Bc(f,y,b){b=Math.min(f.i.length,b);var R=f.l?T(f.l.Na,f.l,f):null;e:{var $=f.i;let J=-1;for(;;){const ce=["count="+b];J==-1?0<b?(J=$[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let qe=!0;for(let kt=0;kt<b;kt++){let Ge=$[kt].g;const qt=$[kt].map;if(Ge-=J,0>Ge)J=Math.max(0,$[kt].g-100),qe=!1;else try{xi(qt,ce,"req"+Ge+"_")}catch{R&&R(qt)}}if(qe){R=ce.join("&");break e}}}return f=f.i.splice(0,b),y.D=f,R}function zc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;oe||U(),he||(oe(),he=!0),Oe.add(y,f),f.v=0}}function Vl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=It(T(f.Fa,f),Pl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=It(T(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Za(this),Fc(this))};function ia(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Fc(f){f.g=new Tn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Vn(f.qa);st(y,"RID","rpc"),st(y,"SID",f.K),st(y,"AID",f.T),st(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&st(y,"TO",f.ja),st(y,"TYPE","xmlhttp"),na(f,y),f.m&&f.o&&Ht(y,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Qs(Vn(y)),b.m=null,b.P=!0,rr(b,f)}t.Za=function(){this.C!=null&&(this.C=null,Za(this),Vl(this),mt(19))};function eo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Hc(f,y){var b=null;if(f.g==y){eo(f),ia(f),f.g=null;var R=2}else if(Sl(f.h,y))b=y.D,En(f.h,y),R=1;else return;if(f.G!=0){if(y.o)if(R==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var $=f.B;R=Br(),tt(R,new Lt(R,b)),Ja(f)}else zc(f);else if($=y.s,$==3||$==0&&0<y.X||!(R==1&&im(f,y)||R==2&&Vl(f)))switch(b&&0<b.length&&(y=f.h,y.i=y.i.concat(b)),$){case 1:hr(f,5);break;case 4:hr(f,10);break;case 3:hr(f,6);break;default:hr(f,2)}}}function Pl(f,y){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*y}function hr(f,y){if(f.j.info("Error code "+y),y==2){var b=T(f.fb,f),R=f.Xa;const $=!R;R=new Dt(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ys(R,"https"),Qs(R),$?Ws(R.toString(),b):ci(R.toString(),b)}else mt(2);f.G=0,f.l&&f.l.sa(y),qc(f),jc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function qc(f){if(f.G=0,f.ka=[],f.l){const y=wl(f.h);(y.length!=0||f.i.length!=0)&&(x(f.ka,y),x(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function Gc(f,y,b){var R=b instanceof Dt?Vn(b):new Dt(b);if(R.g!="")y&&(R.g=y+"."+R.g),Gr(R,R.s);else{var $=h.location;R=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var J=new Dt(null);R&&Ys(J,R),y&&(J.g=y),$&&Gr(J,$),b&&(J.l=b),R=J}return b=f.D,y=f.ya,b&&y&&st(R,b,y),st(R,"VER",f.la),na(f,R),R}function $c(f,y,b){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ze(new $r({eb:b})):new Ze(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}t=Kc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function to(){}to.prototype.g=function(f,y){return new Sn(f,y)};function Sn(f,y){_t.call(this),this.g=new Wa(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!G(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Mi(this)}C(Sn,_t),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Ol(this.g)},Sn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=li(f),f=b);y.i.push(new Pc(y.Ya++,f)),y.G==3&&Ja(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,Sn.aa.N.call(this)};function Yc(f){nr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const b in y){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}C(Yc,nr);function Qc(){_l.call(this),this.status=1}C(Qc,_l);function Mi(f){this.g=f}C(Mi,Kc),Mi.prototype.ua=function(){tt(this.g,"a")},Mi.prototype.ta=function(f){tt(this.g,new Yc(f))},Mi.prototype.sa=function(f){tt(this.g,new Qc)},Mi.prototype.ra=function(){tt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,d1=function(){return new to},f1=function(){return Br()},h1=Si,Bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,vf=Hr,ir.COMPLETE="complete",c1=ir,yl.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Ru=yl,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,u1=Ze}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",_E="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Vv("@firebase/firestore");function Mo(){return Ma.logLevel}function fe(t,...e){if(Ma.logLevel<=Fe.DEBUG){const n=e.map(Kv);Ma.debug(`Firestore (${al}): ${t}`,...n)}}function Mr(t,...e){if(Ma.logLevel<=Fe.ERROR){const n=e.map(Kv);Ma.error(`Firestore (${al}): ${t}`,...n)}}function Yo(t,...e){if(Ma.logLevel<=Fe.WARN){const n=e.map(Kv);Ma.warn(`Firestore (${al}): ${t}`,...n)}}function Kv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function et(t,e){t||Re()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class NV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LV{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ws,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ws)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new m1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new pn(e)}}class kV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jV{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){et(this.o===void 0);const r=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=BV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function zg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Le(r,a);{const l=p1(),u=zV(l.encode(TE(t,n)),l.encode(TE(e,n)));return u!==0?u:Le(r,a)}}n+=r>65535?2:1}return Le(t.length,e.length)}function TE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function zV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function Qo(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=-62135596800,SE=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SE);return new zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EE)throw new de(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new zt(0,0))}static max(){return new De(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__name__";class ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=ji.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const r=ji.isNumericId(e),a=ji.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ji.extractNumericId(e).compare(ji.extractNumericId(n)):zg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class dt extends ji{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const FV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends ji{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return FV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new an([wE])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new de(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new de(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(dt.fromString(e))}static fromName(e){return new _e(dt.fromString(e).popFirst(5))}static empty(){return new _e(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function HV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=De.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new Rs(a,_e.empty(),e)}function qV(t){return new Rs(t.readTime,t.key,qu)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(De.min(),_e.empty(),qu)}static max(){return new Rs(De.max(),_e.empty(),qu)}}function GV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==$V)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},d=>r(d))}),u=!0,l===a&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(a=>a?re.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new re((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next(g=>{u[p]=g,++h,h===l&&r(u)},g=>a(g))}})}static doWhile(e,n){return new re((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function YV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}vd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-1;function yd(t){return t==null}function Uf(t){return t===0&&1/t==-1/0}function QV(t){return typeof t=="number"&&Number.isInteger(t)&&!Uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="";function XV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AE(e)),e=WV(t.get(n),e);return AE(e)}function WV(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case v1:n+="";break;default:n+=l}}return n}function AE(t){return t+v1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new rn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,a,l){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ft(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _1("Invalid base64 string: "+l):l}}(e);return new ln(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const ZV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(et(!!t),typeof t=="string"){let e=0;const n=ZV.exec(t);if(et(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xs(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="server_timestamp",T1="__type__",E1="__previous_value__",S1="__local_write_time__";function Qv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[T1])===null||n===void 0?void 0:n.stringValue)===b1}function _d(t){const e=t.mapValue.fields[E1];return Qv(e)?_d(e):e}function Gu(t){const e=Cs(t.mapValue.fields[S1].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,a,l,u,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const jf="(default)";class $u{constructor(e,n){this.projectId=e,this.database=n||jf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===jf}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="__type__",eP="__max__",Jh={mapValue:{}},A1="__vector__",Bf="value";function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:nP(t)?9007199254740991:tP(t)?10:11:Re()}function Zi(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Cs(a.timestampValue),h=Cs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return xs(a.bytesValue).isEqual(xs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return xt(a.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return xt(a.integerValue)===xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=xt(a.doubleValue),h=xt(l.doubleValue);return u===h?Uf(u)===Uf(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(RE(u)!==RE(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Zi(u[d],h[d])))return!1;return!0}(t,e);default:return Re()}}function Ku(t,e){return(t.values||[]).find(n=>Zi(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=xt(l.integerValue||l.doubleValue),d=xt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return xE(t.timestampValue,e.timestampValue);case 4:return xE(Gu(t),Gu(e));case 5:return zg(t.stringValue,e.stringValue);case 6:return function(l,u){const h=xs(l),d=xs(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=Le(h[p],d[p]);if(g!==0)return g}return Le(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=Le(xt(l.latitude),xt(u.latitude));return h!==0?h:Le(xt(l.longitude),xt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IE(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,p,g;const _=l.fields||{},T=u.fields||{},S=(h=_[Bf])===null||h===void 0?void 0:h.arrayValue,C=(d=T[Bf])===null||d===void 0?void 0:d.arrayValue,V=Le(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return V!==0?V:IE(S,C)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===Jh.mapValue&&u===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(u===Jh.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const T=zg(d[_],g[_]);if(T!==0)return T;const S=Xo(h[d[_]],p[g[_]]);if(S!==0)return S}return Le(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Re()}}function xE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Cs(t),r=Cs(e),a=Le(n.seconds,r.seconds);return a!==0?a:Le(n.nanos,r.nanos)}function IE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Xo(n[a],r[a]);if(l)return l}return Le(n.length,r.length)}function Wo(t){return Fg(t)}function Fg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Fg(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Fg(n.fields[u])}`;return a+"}"}(t.mapValue):Re()}function yf(t){switch(Is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(t);return e?16+yf(e):16;case 5:return 2*t.stringValue.length;case 6:return xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+yf(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Ns(r.fields,(l,u)=>{a+=l.length+yf(u)}),a}(t.mapValue);default:throw Re()}}function DE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hg(t){return!!t&&"integerValue"in t}function Xv(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _f(t){return!!t&&"mapValue"in t}function tP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[w1])===null||n===void 0?void 0:n.stringValue)===A1}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=an.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=Pu(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];_f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Dn(Pu(this.value))}}function R1(t){const e=[];return Ns(t.fields,(n,r)=>{const a=new an([n]);if(_f(r)){const l=R1(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,De.min(),De.min(),De.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,a){return new gn(e,1,n,De.min(),r,a,0)}static newNoDocument(e,n){return new gn(e,2,n,De.min(),De.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,De.min(),De.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.position=e,this.inclusive=n}}function VE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),n.key):r=Xo(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function PE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n="asc"){this.field=e,this.dir=n}}function iP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class Nt extends C1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sP(e,n,r):n==="array-contains"?new lP(e,r):n==="in"?new uP(e,r):n==="not-in"?new cP(e,r):n==="array-contains-any"?new hP(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aP(e,r):new oP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xo(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends C1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new yi(e,n)}matches(e){return x1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function x1(t){return t.op==="and"}function I1(t){return rP(t)&&x1(t)}function rP(t){for(const e of t.filters)if(e instanceof yi)return!1;return!0}function qg(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if(I1(t))return t.filters.map(e=>qg(e)).join(",");{const e=t.filters.map(n=>qg(n)).join(",");return`${t.op}(${e})`}}function D1(t,e){return t instanceof Nt?function(r,a){return a instanceof Nt&&r.op===a.op&&r.field.isEqual(a.field)&&Zi(r.value,a.value)}(t,e):t instanceof yi?function(r,a){return a instanceof yi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,u,h)=>l&&D1(u,a.filters[h]),!0):!1}(t,e):void Re()}function O1(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`}(t):t instanceof yi?function(n){return n.op.toString()+" {"+n.getFilters().map(O1).join(" ,")+"}"}(t):"Filter"}class sP extends Nt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class aP extends Nt{constructor(e,n){super(e,"in",n),this.keys=M1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oP extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=M1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class lP extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xv(n)&&Ku(n.arrayValue,this.value)}}class uP extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class cP extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ku(this.value.arrayValue,n)}}class hP extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.le=null}}function NE(t,e=null,n=[],r=[],a=null,l=null,u=null){return new fP(t,e,n,r,a,l,u)}function Wv(t){const e=Me(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.le=n}return e.le}function Zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PE(t.startAt,e.startAt)&&PE(t.endAt,e.endAt)}function Gg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function dP(t,e,n,r,a,l,u,h){return new mc(t,e,n,r,a,l,u,h)}function bd(t){return new mc(t)}function LE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V1(t){return t.collectionGroup!==null}function Nu(t){const e=Me(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ft(an.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Ff(l,r))}),n.has(an.keyField().canonicalString())||e.he.push(new Ff(an.keyField(),r))}return e.he}function Hi(t){const e=Me(t);return e.Pe||(e.Pe=mP(e,Nu(t))),e.Pe}function mP(t,e){if(t.limitType==="F")return NE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Ff(a.field,l)});const n=t.endAt?new zf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zf(t.startAt.position,t.startAt.inclusive):null;return NE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $g(t,e){const n=t.filters.concat([e]);return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kg(t,e,n){return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Td(t,e){return Zv(Hi(t),Hi(e))&&t.limitType===e.limitType}function P1(t){return`${Wv(Hi(t))}|lt:${t.limitType}`}function Vo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>O1(a)).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Wo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Wo(a)).join(",")),`Target(${r})`}(Hi(t))}; limitType=${t.limitType})`}function Ed(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_e.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of Nu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,h,d){const p=VE(u,h,d);return u.inclusive?p<=0:p<0}(r.startAt,Nu(r),a)||r.endAt&&!function(u,h,d){const p=VE(u,h,d);return u.inclusive?p>=0:p>0}(r.endAt,Nu(r),a))}(t,e)}function pP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function N1(t){return(e,n)=>{let r=!1;for(const a of Nu(t)){const l=gP(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function gP(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Xo(d,p):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new yt(_e.comparator);function Vr(){return vP}const L1=new yt(_e.comparator);function Cu(...t){let e=L1;for(const n of t)e=e.insert(n.key,n);return e}function k1(t){let e=L1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wa(){return Lu()}function U1(){return Lu()}function Lu(){return new Na(t=>t.toString(),(t,e)=>t.isEqual(e))}const yP=new yt(_e.comparator),_P=new Ft(_e.comparator);function He(...t){let e=_P;for(const n of t)e=e.add(n);return e}const bP=new Ft(Le);function TP(){return bP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(e)?"-0":e}}function j1(t){return{integerValue:""+t}}function EP(t,e){return QV(e)?j1(e):Jv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function SP(t,e,n){return t instanceof Yu?function(a,l){const u={fields:{[T1]:{stringValue:b1},[S1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Qv(l)&&(l=_d(l)),l&&(u.fields[E1]=l),{mapValue:u}}(n,e):t instanceof Qu?z1(t,e):t instanceof Xu?F1(t,e):function(a,l){const u=B1(a,l),h=kE(u)+kE(a.Ie);return Hg(u)&&Hg(a.Ie)?j1(h):Jv(a.serializer,h)}(t,e)}function wP(t,e,n){return t instanceof Qu?z1(t,e):t instanceof Xu?F1(t,e):n}function B1(t,e){return t instanceof Hf?function(r){return Hg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Yu extends Sd{}class Qu extends Sd{constructor(e){super(),this.elements=e}}function z1(t,e){const n=H1(e);for(const r of t.elements)n.some(a=>Zi(a,r))||n.push(r);return{arrayValue:{values:n}}}class Xu extends Sd{constructor(e){super(),this.elements=e}}function F1(t,e){let n=H1(e);for(const r of t.elements)n=n.filter(a=>!Zi(a,r));return{arrayValue:{values:n}}}class Hf extends Sd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function kE(t){return xt(t.integerValue||t.doubleValue)}function H1(t){return Xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.field=e,this.transform=n}}function RP(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Qu&&a instanceof Qu||r instanceof Xu&&a instanceof Xu?Qo(r.elements,a.elements,Zi):r instanceof Hf&&a instanceof Hf?Zi(r.Ie,a.Ie):r instanceof Yu&&a instanceof Yu}(t.transform,e.transform)}class CP{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function q1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ey(t.key,si.none()):new pc(t.key,t.data,si.none());{const n=t.data,r=Dn.empty();let a=new Ft(an.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Ls(t.key,r,new zn(a.toArray()),si.none())}}function xP(t,e,n){t instanceof pc?function(a,l,u){const h=a.value.clone(),d=jE(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(a,l,u){if(!bf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=jE(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(G1(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function ku(t,e,n,r){return t instanceof pc?function(l,u,h,d){if(!bf(l.precondition,u))return h;const p=l.value.clone(),g=BE(l.fieldTransforms,d,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ls?function(l,u,h,d){if(!bf(l.precondition,u))return h;const p=BE(l.fieldTransforms,d,u),g=u.data;return g.setAll(G1(l)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,u,h){return bf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function IP(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=B1(r.transform,a||null);l!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,l))}return n||null}function UE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Qo(r,a,(l,u)=>RP(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends wd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ls extends wd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function G1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jE(t,e,n){const r=new Map;et(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,wP(u,h,n[a]))}return r}function BE(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,SP(l,u,e))}return r}class ey extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DP extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&xP(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ku(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U1();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=q1(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>UE(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>UE(n,r))}}class ty{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){et(e.mutations.length===r.length);let a=function(){return yP}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new ty(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Ke;function PP(t){switch(t){case ae.OK:return Re();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Re()}}function $1(t){if(t===void 0)return Mr("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Vt.OK:return ae.OK;case Vt.CANCELLED:return ae.CANCELLED;case Vt.UNKNOWN:return ae.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ae.INTERNAL;case Vt.UNAVAILABLE:return ae.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ae.NOT_FOUND;case Vt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Vt.ABORTED:return ae.ABORTED;case Vt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Vt.DATA_LOSS:return ae.DATA_LOSS;default:return Re()}}(Ke=Vt||(Vt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new Ss([4294967295,4294967295],0);function zE(t){const e=p1().encode(t),n=new l1;return n.update(e),new Uint8Array(n.digest())}function FE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ss([n,r],0),new Ss([a,l],0)]}class ny{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(r<0)throw new xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ss.fromNumber(this.Ee)}Ae(e,n,r){let a=e.add(n.multiply(Ss.fromNumber(r)));return a.compare(NP)===1&&(a=new Ss([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=zE(e),[r,a]=FE(n);for(let l=0;l<this.hashCount;l++){const u=this.Ae(r,a,l);if(!this.Re(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new ny(l,a,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const n=zE(e),[r,a]=FE(n);for(let l=0;l<this.hashCount;l++){const u=this.Ae(r,a,l);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ad(De.min(),a,new yt(Le),Vr(),He())}}class gc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gc(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,a){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=a}}class K1{constructor(e,n){this.targetId=e,this.ge=n}}class Y1{constructor(e,n,r=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class HE{constructor(){this.pe=0,this.ye=qE(),this.we=ln.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=He(),n=He(),r=He();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Re()}}),new gc(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=qE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class LP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Vr(),this.$e=ef(),this.Ue=ef(),this.Ke=new yt(Le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,r=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Gg(l))if(r===0){const u=new _e(l.path);this.ze(n,u,gn.newNoDocument(u,De.min()))}else et(r===1);else{const u=this.et(n);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=xs(r).toUint8Array()}catch(d){if(d instanceof _1)return Yo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new ny(u,a,l)}catch(d){return Yo(d instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,u)=>{const h=this.Xe(u);if(h){if(l.current&&Gg(h.target)){const d=new _e(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,gn.newNoDocument(d,e))}l.ve&&(n.set(u,l.Fe()),l.Me())}});let r=He();this.Ue.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const a=new Ad(e,n,this.Ke,this.Qe,r);return this.Qe=Vr(),this.$e=ef(),this.Ue=ef(),this.Ke=new yt(Le),a}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new HE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ft(Le),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ft(Le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new HE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ef(){return new yt(_e.comparator)}function qE(){return new yt(_e.comparator)}const kP={asc:"ASCENDING",desc:"DESCENDING"},UP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jP={and:"AND",or:"OR"};class BP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yg(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zP(t,e){return qf(t,e.toTimestamp())}function qi(t){return et(!!t),De.fromTimestamp(function(n){const r=Cs(n);return new zt(r.seconds,r.nanos)}(t))}function iy(t,e){return Qg(t,e).canonicalString()}function Qg(t,e){const n=function(a){return new dt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function X1(t){const e=dt.fromString(t);return et(tR(e)),e}function Xg(t,e){return iy(t.databaseId,e.path)}function og(t,e){const n=X1(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Z1(n))}function W1(t,e){return iy(t.databaseId,e)}function FP(t){const e=X1(t);return e.length===4?dt.emptyPath():Z1(e)}function Wg(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z1(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GE(t,e,n){return{name:Xg(t,e),fields:n.value.mapValue.fields}}function HP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,g){return p.useProto3Json?(et(g===void 0||typeof g=="string"),ln.fromBase64String(g||"")):(et(g===void 0||g instanceof Buffer||g instanceof Uint8Array),ln.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const g=p.code===void 0?ae.UNKNOWN:$1(p.code);return new de(g,p.message||"")}(u);n=new Y1(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=og(t,r.document.name),l=qi(r.document.updateTime),u=r.document.createTime?qi(r.document.createTime):De.min(),h=new Dn({mapValue:{fields:r.document.fields}}),d=gn.newFoundDocument(a,l,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Tf(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=og(t,r.document),l=r.readTime?qi(r.readTime):De.min(),u=gn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Tf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=og(t,r.document),l=r.removedTargetIds||[];n=new Tf([],l,a,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new VP(a,l),h=r.targetId;n=new K1(h,u)}}return n}function qP(t,e){let n;if(e instanceof pc)n={update:GE(t,e.key,e.value)};else if(e instanceof ey)n={delete:Xg(t,e.key)};else if(e instanceof Ls)n={update:GE(t,e.key,e.data),updateMask:JP(e.fieldMask)};else{if(!(e instanceof DP))return Re();n={verify:Xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const h=u.transform;if(h instanceof Yu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Qu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Hf)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:zP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re()}(t,e.precondition)),n}function GP(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(a,l){let u=a.updateTime?qi(a.updateTime):qi(l);return u.isEqual(De.min())&&(u=qi(l)),new CP(u,a.transformResults||[])}(n,e))):[]}function $P(t,e){return{documents:[W1(t,e.path)]}}function KP(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W1(t,a);const l=function(p){if(p.length!==0)return eR(yi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:Po(T.field),direction:XP(T.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Yg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:a}}function YP(t){let e=FP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){et(r===1);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=function(_){const T=J1(_);return T instanceof yi&&I1(T)?T.getFilters():[T]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(T=>function(C){return new Ff(No(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(n.orderBy));let h=null;n.limit&&(h=function(_){let T;return T=typeof _=="object"?_.value:_,yd(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(_){const T=!!_.before,S=_.values||[];return new zf(S,T)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const T=!_.before,S=_.values||[];return new zf(S,T)}(n.endAt)),dP(e,a,u,l,h,"F",d,p)}function QP(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=No(n.unaryFilter.field);return Nt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(n.unaryFilter.field);return Nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=No(n.unaryFilter.field);return Nt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(No(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yi.create(n.compositeFilter.filters.map(r=>J1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function XP(t){return kP[t]}function WP(t){return UP[t]}function ZP(t){return jP[t]}function Po(t){return{fieldPath:t.canonicalString()}}function No(t){return an.fromServerFormat(t.fieldPath)}function eR(t){return t instanceof Nt?function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:WP(n.op),value:n.value}}}(t):t instanceof yi?function(n){const r=n.getFilters().map(a=>eR(a));return r.length===1?r[0]:{compositeFilter:{op:ZP(n.op),filters:r}}}(t):Re()}function JP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,a,l=De.min(),u=De.min(),h=ln.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.Tt=e}}function tN(t){const e=YP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Tn=new iN}addToCollectionParentIndex(e,n){return this.Tn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Rs.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class iN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Ft(dt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ft(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nR=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(nR,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Zo(0)}static Kn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="LruGarbageCollector",rN=1048576;function YE([t,e],[n,r]){const a=Le(t,n);return a===0?Le(e,r):a}class sN{constructor(e){this.Hn=e,this.buffer=new Ft(YE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(KE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?fe(KE,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.er(3e5)})}}class oN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(vd.ae);const r=new sN(n);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve($E)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,a,l,u,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(l=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Mo()<=Fe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function lN(t,e){return new oN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.changes=new Na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&ku(r.mutation,a,zn.empty(),zt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){const a=wa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let u=Cu();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=wa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,a){let l=Vr();const u=Lu(),h=function(){return Lu()}();return n.forEach((d,p)=>{const g=r.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof Ls)?l=l.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),ku(g.mutation,p,g.mutation.getFieldMask(),zt.now())):u.set(p.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var _;return h.set(p,new cN(g,(_=u.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Lu();let a=new yt((u,h)=>u-h),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||zn.empty();g=h.applyToLocalView(p,g),r.set(d,g);const _=(a.get(h.batchId)||He()).add(d);a=a.insert(h.batchId,_)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,_=U1();g.forEach(T=>{if(!l.has(T)){const S=q1(n.get(T),r.get(T));S!==null&&_.set(T,S),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):re.resolve(wa());let h=qu,d=l;return u.next(p=>re.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{d=d.insert(g,T)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,He())).next(g=>({batchId:h,changes:k1(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let a=Cu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=Cu();return this.indexManager.getCollectionParents(e,l).next(h=>re.forEach(h,d=>{const p=function(_,T){return new mc(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(g=>{g.forEach((_,T)=>{u=u.insert(_,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(u=>{l.forEach((d,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,gn.newInvalidDocument(g)))});let h=Cu();return u.forEach((d,p)=>{const g=l.get(d);g!==void 0&&ku(g.mutation,p,zn.empty(),zt.now()),Ed(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qi(a.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:tN(a.bundledQuery),readTime:qi(a.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.overlays=new yt(_e.comparator),this.Rr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wa();return re.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.Et(e,n,l)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const a=wa(),l=n.length+1,u=new _e(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new yt((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=wa(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=wa(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=a)););return re.resolve(h)}Et(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new MP(n,r));let l=this.Rr.get(n);l===void 0&&(l=He(),this.Rr.set(n,l)),this.Rr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.Vr=new Ft(Yt.mr),this.gr=new Ft(Yt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Yt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Yt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new _e(new dt([])),r=new Yt(n,e),a=new Yt(n,e+1),l=[];return this.gr.forEachInRange([r,a],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new dt([])),r=new Yt(n,e),a=new Yt(n,e+1);let l=He();return this.gr.forEachInRange([r,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Yt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Le(e.Cr,n.Cr)}static pr(e,n){return Le(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ft(Yt.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new OP(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new Yt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Nr(r),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Yv:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yt(n,0),a=new Yt(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],u=>{const h=this.Or(u.Cr);l.push(h)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Le);return n.forEach(a=>{const l=new Yt(a,0),u=new Yt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],h=>{r=r.add(h.Cr)})}),re.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;_e.isDocumentKey(l)||(l=l.child(""));const u=new Yt(new _e(l),0);let h=new Ft(Le);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Cr)),!0)},u),re.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){et(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return re.forEach(n.mutations,a=>{const l=new Yt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Yt(n,0),a=this.Mr.firstAfterOrEqual(r);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.kr=e,this.docs=function(){return new yt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():gn.newInvalidDocument(a))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Vr();const u=n.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||GV(qV(g),r)<=0||(a.has(g.key)||Ed(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Re()}qr(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vN(this)}getSize(e){return re.resolve(this.size)}}class vN extends uN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.persistence=e,this.Qr=new Na(n=>Wv(n),Zv),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ry,this.targetCount=0,this.Kr=Zo.Un()}forEachTarget(e,n){return this.Qr.forEach((r,a)=>n(a)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.zn(n),re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),re.waitFor(l).next(()=>a)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new vd(0),this.zr=!1,this.zr=!0,this.jr=new mN,this.referenceDelegate=e(this),this.Hr=new yN(this),this.indexManager=new nN,this.remoteDocumentCache=function(a){return new gN(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new eN(n),this.Yr=new fN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new pN(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const a=new _N(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return re.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class _N extends KV{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.ti=new ry,this.ni=null}static ri(e){return new sy(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),re.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,r=>{const a=_e.fromPath(r);return this.si(e,a).next(l=>{l||n.removeEntry(a,De.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return re.or([()=>re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Gf{constructor(e,n){this.persistence=e,this.oi=new Na(r=>XV(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=lN(this,n)}static ri(e,n){return new Gf(e,n)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return re.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(l=>l?re.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,n).next(h=>{h||(r++,l.removeEntry(u,De.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yf(e.data.value)),n}ar(e,n,r){return re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return re.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(e,n){let r=He(),a=He();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ay(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dD()?8:YV(_n())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.rs(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,n,a,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new bN;return this._s(e,n,u).next(h=>{if(l.result=h,this.Xi)return this.us(e,n,u,h.size)})}).next(()=>l.result)}us(e,n,r,a){return r.documentReadCount<this.es?(Mo()<=Fe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Mo()<=Fe.DEBUG&&fe("QueryEngine","Query:",Vo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Mo()<=Fe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):re.resolve())}rs(e,n){if(LE(n))return re.resolve(null);let r=Hi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Kg(n,null,"F"),r=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=He(...l);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,h);return this.ls(n,p,u,d.readTime)?this.rs(e,Kg(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,a){return LE(n)||a.isEqual(De.min())?re.resolve(null):this.ns.getDocuments(e,r).next(l=>{const u=this.cs(n,l);return this.ls(n,u,r,a)?re.resolve(null):(Mo()<=Fe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vo(n)),this.hs(e,u,n,HV(a,qu)).next(h=>h))})}cs(e,n){let r=new Ft(N1(e));return n.forEach((a,l)=>{Ed(e,l)&&(r=r.add(l))}),r}ls(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,r){return Mo()<=Fe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Vo(n)),this.ns.getDocumentsMatchingQuery(e,n,Rs.min(),r)}hs(e,n,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="LocalStore",EN=3e8;class SN{constructor(e,n,r,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new yt(Le),this.Is=new Na(l=>Wv(l),Zv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function wN(t,e,n,r){return new SN(t,e,n,r)}async function rR(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],h=[];let d=He();for(const p of a){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of l){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function AN(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,g){const _=p.batch,T=_.keys();let S=re.resolve();return T.forEach(C=>{S=S.next(()=>g.getEntry(d,C)).next(V=>{const x=p.docVersions.get(C);et(x!==null),V.version.compareTo(x)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),g.addEntry(V)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=He();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function sR(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function RN(t,e){const n=Me(t),r=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const T=a.get(_);if(!T)return;h.push(n.Hr.removeMatchingKeys(l,g.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,g.addedDocuments,_)));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(ln.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),a=a.insert(_,S),function(V,x,M){return V.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=EN?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(T,S,g)&&h.push(n.Hr.updateTargetData(l,S))});let d=Vr(),p=He();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))}),h.push(CN(l,u,e.documentUpdates).next(g=>{d=g.Vs,p=g.fs})),!r.isEqual(De.min())){const g=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));h.push(g)}return re.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(n.Ts=a,l))}function CN(t,e,n){let r=He(),a=He();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let u=Vr();return n.forEach((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):fe(oy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:u,fs:a}})}function xN(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Yv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IN(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,e).next(l=>l?(a=l,re.resolve(a)):n.Hr.allocateTargetId(r).next(u=>(a=new _s(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Zg(t,e,n){const r=Me(t),a=r.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!ll(u))throw u;fe(oy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function QE(t,e,n){const r=Me(t);let a=De.min(),l=He();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,g){const _=Me(d),T=_.Is.get(g);return T!==void 0?re.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,u,Hi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,n?a:De.min(),n?l:He())).next(h=>(DN(r,pP(e),h),{documents:h,gs:l})))}function DN(t,e,n){let r=t.Es.get(e)||De.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Es.set(e,r)}class XE{constructor(){this.activeTargetIds=TP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ON{constructor(){this.ho=new XE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new XE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="ConnectivityMonitor";class ZE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(WE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(WE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function Jg(){return tf===null?tf=function(){return 268435456+Math.round(2147483648*Math.random())}():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",VN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===jf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,n,r,a,l){const u=Jg(),h=this.bo(e,n.toUriEncodedString());fe(lg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,a,l),this.vo(e,h,d,r).then(p=>(fe(lg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Yo(lg,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,n,r,a,l,u){return this.So(e,n,r,a,l)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}bo(e,n){const r=VN[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class LN extends PN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,a){const l=Jg();return new Promise((u,h)=>{const d=new u1;d.setWithCredentials(!0),d.listenOnce(c1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case vf.NO_ERROR:const g=d.getResponseJson();fe(fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case vf.TIMEOUT:fe(fn,`RPC '${e}' ${l} timed out`),h(new de(ae.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const _=d.getStatus();if(fe(fn,`RPC '${e}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const C=function(x){const M=x.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(M)>=0?M:ae.UNKNOWN}(S.status);h(new de(C,S.message))}else h(new de(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(ae.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{fe(fn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);fe(fn,`RPC '${e}' ${l} sending request:`,a),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const a=Jg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=d1(),h=f1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=l.join("");fe(fn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const _=u.createWebChannel(g,d);let T=!1,S=!1;const C=new NN({Fo:x=>{S?fe(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(T||(fe(fn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),fe(fn,`RPC '${e}' stream ${a} sending:`,x),_.send(x))},Mo:()=>_.close()}),V=(x,M,G)=>{x.listen(M,H=>{try{G(H)}catch(ee){setTimeout(()=>{throw ee},0)}})};return V(_,Ru.EventType.OPEN,()=>{S||(fe(fn,`RPC '${e}' stream ${a} transport opened.`),C.Qo())}),V(_,Ru.EventType.CLOSE,()=>{S||(S=!0,fe(fn,`RPC '${e}' stream ${a} transport closed`),C.Uo())}),V(_,Ru.EventType.ERROR,x=>{S||(S=!0,Yo(fn,`RPC '${e}' stream ${a} transport errored:`,x),C.Uo(new de(ae.UNAVAILABLE,"The operation could not be completed")))}),V(_,Ru.EventType.MESSAGE,x=>{var M;if(!S){const G=x.data[0];et(!!G);const H=G,ee=(H==null?void 0:H.error)||((M=H[0])===null||M===void 0?void 0:M.error);if(ee){fe(fn,`RPC '${e}' stream ${a} received error:`,ee);const j=ee.status;let Z=function(I){const N=Vt[I];if(N!==void 0)return $1(N)}(j),D=ee.message;Z===void 0&&(Z=ae.INTERNAL,D="Unknown error status: "+j+" with message "+ee.message),S=!0,C.Uo(new de(Z,D)),_.close()}else fe(fn,`RPC '${e}' stream ${a} received:`,G),C.Ko(G)}}),V(h,h1.STAT_EVENT,x=>{x.stat===Bg.PROXY?fe(fn,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===Bg.NOPROXY&&fe(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new BP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="PersistentStream";class oR{constructor(e,n,r,a,l,u,h,d){this.Ti=e,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new aR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{e(()=>{const a=new de(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(fe(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kN extends oR{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=HP(this.serializer,e),r=function(l){if(!("targetChange"in l))return De.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?qi(u.readTime):De.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Wg(this.serializer),n.addTarget=function(l,u){let h;const d=u.target;if(h=Gg(d)?{documents:$P(l,d)}:{query:KP(l,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Q1(l,u.resumeToken);const p=Yg(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(De.min())>0){h.readTime=qf(l,u.snapshotVersion.toTimestamp());const p=Yg(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=QP(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Wg(this.serializer),n.removeTarget=e,this.I_(n)}}class UN extends oR{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=GP(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Wg(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qP(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{}class BN extends jN{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new de(ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.So(e,Qg(n,r),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ae.UNKNOWN,l.toString())})}Co(e,n,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,Qg(n,r),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ae.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mr(n),this.N_=!1):fe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class FN{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{r.enqueueAndForget(async()=>{La(this)&&(fe(Va,"Restarting streams for network reachability change."),await async function(d){const p=Me(d);p.W_.add(4),await vc(p),p.j_.set("Unknown"),p.W_.delete(4),await Cd(p)}(this))})}),this.j_=new zN(r,a)}}async function Cd(t){if(La(t))for(const e of t.G_)await e(!0)}async function vc(t){for(const e of t.G_)await e(!1)}function lR(t,e){const n=Me(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),hy(n)?cy(n):ul(n).c_()&&uy(n,e))}function ly(t,e){const n=Me(t),r=ul(n);n.K_.delete(e),r.c_()&&uR(n,e),n.K_.size===0&&(r.c_()?r.P_():La(n)&&n.j_.set("Unknown"))}function uy(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).y_(e)}function uR(t,e){t.H_.Ne(e),ul(t).w_(e)}function cy(t){t.H_=new LP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.j_.B_()}function hy(t){return La(t)&&!ul(t).u_()&&t.K_.size>0}function La(t){return Me(t).W_.size===0}function cR(t){t.H_=void 0}async function HN(t){t.j_.set("Online")}async function qN(t){t.K_.forEach((e,n)=>{uy(t,e)})}async function GN(t,e){cR(t),hy(t)?(t.j_.q_(e),cy(t)):t.j_.set("Unknown")}async function $N(t,e,n){if(t.j_.set("Online"),e instanceof Y1&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.K_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.K_.delete(h),a.H_.removeTarget(h))}(t,e)}catch(r){fe(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(t,r)}else if(e instanceof Tf?t.H_.We(e):e instanceof K1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(De.min()))try{const r=await sR(t.localStore);n.compareTo(r)>=0&&await function(l,u){const h=l.H_.ot(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.K_.get(p);g&&l.K_.set(p,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const g=l.K_.get(d);if(!g)return;l.K_.set(d,g.withResumeToken(ln.EMPTY_BYTE_STRING,g.snapshotVersion)),uR(l,d);const _=new _s(g.target,d,p,g.sequenceNumber);uy(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){fe(Va,"Failed to raise snapshot:",r),await $f(t,r)}}async function $f(t,e,n){if(!ll(e))throw e;t.W_.add(1),await vc(t),t.j_.set("Offline"),n||(n=()=>sR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Va,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Cd(t)})}function hR(t,e){return e().catch(n=>$f(t,n,e))}async function xd(t){const e=Me(t),n=Ds(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Yv;for(;KN(e);)try{const a=await xN(e.localStore,r);if(a===null){e.U_.length===0&&n.P_();break}r=a.batchId,YN(e,a)}catch(a){await $f(e,a)}fR(e)&&dR(e)}function KN(t){return La(t)&&t.U_.length<10}function YN(t,e){t.U_.push(e);const n=Ds(t);n.c_()&&n.S_&&n.b_(e.mutations)}function fR(t){return La(t)&&!Ds(t).u_()&&t.U_.length>0}function dR(t){Ds(t).start()}async function QN(t){Ds(t).C_()}async function XN(t){const e=Ds(t);for(const n of t.U_)e.b_(n.mutations)}async function WN(t,e,n){const r=t.U_.shift(),a=ty.from(r,e,n);await hR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await xd(t)}async function ZN(t,e){e&&Ds(t).S_&&await async function(r,a){if(function(u){return PP(u)&&u!==ae.ABORTED}(a.code)){const l=r.U_.shift();Ds(r).h_(),await hR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await xd(r)}}(t,e),fR(t)&&dR(t)}async function eS(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),fe(Va,"RemoteStore received new credentials");const r=La(n);n.W_.add(3),await vc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Cd(n)}async function JN(t,e){const n=Me(t);e?(n.W_.delete(2),await Cd(n)):e||(n.W_.add(2),await vc(n),n.j_.set("Unknown"))}function ul(t){return t.J_||(t.J_=function(n,r,a){const l=Me(n);return l.M_(),new kN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:HN.bind(null,t),No:qN.bind(null,t),Lo:GN.bind(null,t),p_:$N.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),hy(t)?cy(t):t.j_.set("Unknown")):(await t.J_.stop(),cR(t))})),t.J_}function Ds(t){return t.Y_||(t.Y_=function(n,r,a){const l=Me(n);return l.M_(),new UN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:QN.bind(null,t),Lo:ZN.bind(null,t),D_:XN.bind(null,t),v_:WN.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await xd(t)):(await t.Y_.stop(),t.U_.length>0&&(fe(Va,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new fy(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),ll(t))return new de(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.Z_=new yt(_e.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jo{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Jo(e,n,qo.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class tL{constructor(){this.queries=nS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=Me(n),l=a.queries;a.queries=nS(),l.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new de(ae.ABORTED,"Firestore shutting down"))}}function nS(){return new Na(t=>P1(t),Td)}async function mR(t,e){const n=Me(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(r=2):(l=new eL,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=dy(u,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&my(n)}async function pR(t,e){const n=Me(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nL(t,e){const n=Me(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.ta)h.oa(a)&&(r=!0);u.ea=a}}r&&my(n)}function iL(t,e,n){const r=Me(t),a=r.queries.get(e);if(a)for(const l of a.ta)l.onError(n);r.queries.delete(e)}function my(t){t.ia.forEach(e=>{e.next()})}var ev,iS;(iS=ev||(ev={}))._a="default",iS.Cache="cache";class gR{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ev.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.key=e}}class yR{constructor(e){this.key=e}}class rL{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=He(),this.mutatedKeys=He(),this.ya=N1(e),this.wa=new qo(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new tS,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,_)=>{const T=a.get(g),S=Ed(this.query,_)?_:null,C=!!T&&this.mutatedKeys.has(T.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;T&&S?T.data.isEqual(S.data)?C!==V&&(r.track({type:3,doc:S}),x=!0):this.va(T,S)||(r.track({type:2,doc:S}),x=!0,(d&&this.ya(S,d)>0||p&&this.ya(S,p)<0)&&(h=!0)):!T&&S?(r.track({type:0,doc:S}),x=!0):T&&!S&&(r.track({type:1,doc:T}),x=!0,(d||p)&&(h=!0)),x&&(S?(u=u.add(S),l=V?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(S,C){const V=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return V(S)-V(C)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),a=a!=null&&a;const h=n&&!a?this.Fa():[],d=this.pa.size===0&&this.current&&!a?1:0,p=d!==this.ga;return this.ga=d,u.length!==0||p?{snapshot:new Jo(this.query,e.wa,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=He(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new yR(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new vR(r))}),n}Oa(e){this.fa=e.gs,this.pa=He();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Jo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const py="SyncEngine";class sL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aL{constructor(e){this.key=e,this.Ba=!1}}class oL{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Na(h=>P1(h),Td),this.qa=new Map,this.Qa=new Set,this.$a=new yt(_e.comparator),this.Ua=new Map,this.Ka=new ry,this.Wa={},this.Ga=new Map,this.za=Zo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function lL(t,e,n=!0){const r=wR(t);let a;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await _R(r,e,n,!0),a}async function uL(t,e){const n=wR(t);await _R(n,e,!0,!1)}async function _R(t,e,n,r){const a=await IN(t.localStore,Hi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await cL(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&lR(t.remoteStore,a),h}async function cL(t,e,n,r,a){t.Ha=(_,T,S)=>async function(V,x,M,G){let H=x.view.ba(M);H.ls&&(H=await QE(V.localStore,x.query,!1).then(({documents:D})=>x.view.ba(D,H)));const ee=G&&G.targetChanges.get(x.targetId),j=G&&G.targetMismatches.get(x.targetId)!=null,Z=x.view.applyChanges(H,V.isPrimaryClient,ee,j);return sS(V,x.targetId,Z.Ma),Z.snapshot}(t,_,T,S);const l=await QE(t.localStore,e,!0),u=new rL(e,l.gs),h=u.ba(l.documents),d=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);sS(t,n,p.Ma);const g=new sL(e,n,u);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function hL(t,e,n){const r=Me(t),a=r.ka.get(e),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(u=>!Td(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Zg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ly(r.remoteStore,a.targetId),tv(r,a.targetId)}).catch(ol)):(tv(r,a.targetId),await Zg(r.localStore,a.targetId,!0))}async function fL(t,e){const n=Me(t),r=n.ka.get(e),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ly(n.remoteStore,r.targetId))}async function dL(t,e,n){const r=bL(t);try{const a=await function(u,h){const d=Me(u),p=zt.now(),g=h.reduce((S,C)=>S.add(C.key),He());let _,T;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=Vr(),V=He();return d.ds.getEntries(S,g).next(x=>{C=x,C.forEach((M,G)=>{G.isValidDocument()||(V=V.add(M))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,C)).next(x=>{_=x;const M=[];for(const G of h){const H=IP(G,_.get(G.key).overlayedDocument);H!=null&&M.push(new Ls(G.key,H,R1(H.value.mapValue),si.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,M,h)}).next(x=>{T=x;const M=x.applyToLocalDocumentSet(_,V);return d.documentOverlayCache.saveOverlays(S,x.batchId,M)})}).then(()=>({batchId:T.batchId,changes:k1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let p=u.Wa[u.currentUser.toKey()];p||(p=new yt(Le)),p=p.insert(h,d),u.Wa[u.currentUser.toKey()]=p}(r,a.batchId,n),await yc(r,a.changes),await xd(r.remoteStore)}catch(a){const l=dy(a,"Failed to persist write");n.reject(l)}}async function bR(t,e){const n=Me(t);try{const r=await RN(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Ua.get(l);u&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?et(u.Ba):a.removedDocuments.size>0&&(et(u.Ba),u.Ba=!1))}),await yc(n,r,e)}catch(r){await ol(r)}}function rS(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((l,u)=>{const h=u.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=Me(u);d.onlineState=h;let p=!1;d.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(h)&&(p=!0)}),p&&my(d)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mL(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Ua.get(e),l=a&&a.key;if(l){let u=new yt(_e.comparator);u=u.insert(l,gn.newNoDocument(l,De.min()));const h=He().add(l),d=new Ad(De.min(),new Map,new yt(Le),u,h);await bR(r,d),r.$a=r.$a.remove(l),r.Ua.delete(e),gy(r)}else await Zg(r.localStore,e,!1).then(()=>tv(r,e,n)).catch(ol)}async function pL(t,e){const n=Me(t),r=e.batch.batchId;try{const a=await AN(n.localStore,e);ER(n,r,null),TR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yc(n,a)}catch(a){await ol(a)}}async function gL(t,e,n){const r=Me(t);try{const a=await function(u,h){const d=Me(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next(_=>(et(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(r.localStore,e);ER(r,e,n),TR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yc(r,a)}catch(a){await ol(a)}}function TR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function ER(t,e,n){const r=Me(t);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function tv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||SR(t,r)})}function SR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(ly(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),gy(t))}function sS(t,e,n){for(const r of n)r instanceof vR?(t.Ka.addReference(r.key,e),vL(t,r)):r instanceof yR?(fe(py,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||SR(t,r.key)):Re()}function vL(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(fe(py,"New document in limbo: "+n),t.Qa.add(r),gy(t))}function gy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new _e(dt.fromString(e)),r=t.za.next();t.Ua.set(r,new aL(n)),t.$a=t.$a.insert(n,r),lR(t.remoteStore,new _s(Hi(bd(n.path)),r,"TargetPurposeLimboResolution",vd.ae))}}async function yc(t,e,n){const r=Me(t),a=[],l=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){a.push(p);const _=ay.Yi(d.targetId,p);l.push(_)}}))}),await Promise.all(u),r.La.p_(a),await async function(d,p){const g=Me(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>re.forEach(p,T=>re.forEach(T.Hi,S=>g.persistence.referenceDelegate.addReference(_,T.targetId,S)).next(()=>re.forEach(T.Ji,S=>g.persistence.referenceDelegate.removeReference(_,T.targetId,S)))))}catch(_){if(!ll(_))throw _;fe(oy,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const S=g.Ts.get(T),C=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(C);g.Ts=g.Ts.insert(T,V)}}}(r.localStore,l))}async function yL(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){fe(py,"User change. New user:",e.toKey());const r=await rR(n.localStore,e);n.currentUser=e,function(l,u){l.Ga.forEach(h=>{h.forEach(d=>{d.reject(new de(ae.CANCELLED,u))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yc(n,r.Rs)}}function _L(t,e){const n=Me(t),r=n.Ua.get(e);if(r&&r.Ba)return He().add(r.key);{let a=He();const l=n.qa.get(e);if(!l)return a;for(const u of l){const h=n.ka.get(u);a=a.unionWith(h.view.Sa)}return a}}function wR(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_L.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mL.bind(null,e),e.La.p_=nL.bind(null,e.eventManager),e.La.Ja=iL.bind(null,e.eventManager),e}function bL(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gL.bind(null,e),e}class Kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return wN(this.persistence,new TN,e.initialUser,this.serializer)}Xa(e){return new iR(sy.ri,this.serializer)}Za(e){return new ON}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kf.provider={build:()=>new Kf};class TL extends Kf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){et(this.persistence.referenceDelegate instanceof Gf);const r=this.persistence.referenceDelegate.garbageCollector;return new aN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new iR(r=>Gf.ri(r,n),this.serializer)}}class nv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yL.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tL}()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),r=function(l){return new LN(l)}(e.databaseInfo);return function(l,u,h,d){return new BN(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,u,h){return new FN(r,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>rS(this.syncEngine,n,0),function(){return ZE.D()?new ZE:new MN}())}createSyncEngine(e,n){return function(a,l,u,h,d,p,g){const _=new oL(a,l,u,h,d,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Me(a);fe(Va,"RemoteStore shutting down."),l.W_.add(5),await vc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nv.provider={build:()=>new nv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class EL{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=g1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{fe(Os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(fe(Os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await rR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SL(t);fe(Os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>eS(e.remoteStore,a)),t._onlineComponents=e}async function SL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Os,"Using user provided OfflineComponentProvider");try{await cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await cg(t,new Kf)}}else fe(Os,"Using default OfflineComponentProvider"),await cg(t,new TL(void 0));return t._offlineComponents}async function RR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Os,"Using user provided OnlineComponentProvider"),await aS(t,t._uninitializedComponentsProvider._online)):(fe(Os,"Using default OnlineComponentProvider"),await aS(t,new nv))),t._onlineComponents}function wL(t){return RR(t).then(e=>e.syncEngine)}async function iv(t){const e=await RR(t),n=e.eventManager;return n.onListen=lL.bind(null,e.syncEngine),n.onUnlisten=hL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fL.bind(null,e.syncEngine),n}function AL(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const g=new AR({next:T=>{g.su(),u.enqueueAndForget(()=>pR(l,_));const S=T.docs.has(h);!S&&T.fromCache?p.reject(new de(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&d&&d.source==="server"?p.reject(new de(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new gR(bd(h.path),g,{includeMetadataChanges:!0,Ta:!0});return mR(l,_)}(await iv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t,e,n){if(!n)throw new de(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RL(t,e,n,r){if(e===!0&&r===!0)throw new de(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lS(t){if(!_e.isDocumentKey(t))throw new de(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uS(t){if(_e.isDocumentKey(t))throw new de(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(t);throw new de(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firestore.googleapis.com",cS=!0;class hS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IR,this.ssl=cS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:cS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rN)throw new de(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PV;switch(r.type){case"firstParty":return new UV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=oS.get(n);r&&(fe("ComponentProvider","Removing Datastore"),oS.delete(n),r.terminate())}(this),Promise.resolve()}}function CL(t,e,n,r={}){var a;const l=(t=ai(t,Dd))._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;l.host!==IR&&l.host!==h&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:r});if(!Ia(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=pn.MOCK_USER;else{p=aD(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pn(_)}t._authCredentials=new NV(new m1(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cl(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class As extends cl{constructor(e,n,r){super(e,n,bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new _e(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function DR(t,e,...n){if(t=Xt(t),xR("collection","path",e),t instanceof Dd){const r=dt.fromString(e,...n);return uS(r),new As(t,null,r)}{if(!(t instanceof yn||t instanceof As))throw new de(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return uS(r),new As(t.firestore,null,r)}}function on(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=g1.newId()),xR("doc","path",e),t instanceof Dd){const r=dt.fromString(e,...n);return lS(r),new yn(t,null,new _e(r))}{if(!(t instanceof yn||t instanceof As))throw new de(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return lS(r),new yn(t.firestore,t instanceof As?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="AsyncQueue";class dS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new aR(this,"async_queue_retry"),this.Su=()=>{const r=ug();r&&fe(fS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ws;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ll(e))throw e;fe(fS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=fy.createAndSchedule(this,e,n,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function mS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Ms extends Dd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new dS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dS(e),this._firestoreClient=void 0,await e}}}function xL(t,e){const n=typeof t=="object"?t:IA(),r=typeof t=="string"?t:jf,a=Nv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=rD("firestore");l&&CL(a,...l)}return a}function vy(t){if(t._terminated)throw new de(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IL(t),t._firestoreClient}function IL(t){var e,n,r;const a=t._freezeSettings(),l=function(h,d,p,g){return new JV(h,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,CR(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new EL(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._byteString=e}static fromBase64String(e){try{return new el(ln.fromBase64String(e))}catch(n){throw new de(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new el(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=/^__.*__$/;class OL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class OR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class by{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new by(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(MR(this.Lu)&&DL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ML{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rd(e)}ju(e,n,r,a=!1){return new by({Lu:e,methodName:n,zu:r,path:an.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vd(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new ML(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VR(t,e,n,r,a,l={}){const u=t.ju(l.merge||l.mergeFields?2:0,e,n,a);Ey("Data must be an object, but it was:",u,r);const h=PR(r,u);let d,p;if(l.merge)d=new zn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const _ of l.mergeFields){const T=rv(e,_,n);if(!u.contains(T))throw new de(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);LR(g,T)||g.push(T)}d=new zn(g),p=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=u.fieldTransforms;return new OL(new Dn(h),d,p)}class Pd extends Md{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}class Ty extends Md{_toFieldTransform(e){return new AP(e.path,new Yu)}isEqual(e){return e instanceof Ty}}function VL(t,e,n,r){const a=t.ju(1,e,n);Ey("Data must be an object, but it was:",a,r);const l=[],u=Dn.empty();Ns(r,(d,p)=>{const g=Sy(e,d,n);p=Xt(p);const _=a.Uu(g);if(p instanceof Pd)l.push(g);else{const T=_c(p,_);T!=null&&(l.push(g),u.set(g,T))}});const h=new zn(l);return new OR(u,h,a.fieldTransforms)}function PL(t,e,n,r,a,l){const u=t.ju(1,e,n),h=[rv(e,r,n)],d=[a];if(l.length%2!=0)throw new de(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(rv(e,l[T])),d.push(l[T+1]);const p=[],g=Dn.empty();for(let T=h.length-1;T>=0;--T)if(!LR(p,h[T])){const S=h[T];let C=d[T];C=Xt(C);const V=u.Uu(S);if(C instanceof Pd)p.push(S);else{const x=_c(C,V);x!=null&&(p.push(S),g.set(S,x))}}const _=new zn(p);return new OR(g,_,u.fieldTransforms)}function NL(t,e,n,r=!1){return _c(n,t.ju(r?4:3,e))}function _c(t,e){if(NR(t=Xt(t)))return Ey("Unsupported field value:",e,t),PR(t,e);if(t instanceof Md)return function(r,a){if(!MR(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const l=[];let u=0;for(const h of r){let d=_c(h,a.Ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=zt.fromDate(r);return{timestampValue:qf(a.serializer,l)}}if(r instanceof zt){const l=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qf(a.serializer,l)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof el)return{bytesValue:Q1(a.serializer,r._byteString)};if(r instanceof yn){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:iy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof _y)return function(u,h){return{mapValue:{fields:{[w1]:{stringValue:A1},[Bf]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return Jv(h.serializer,p)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${Id(r)}`)}(t,e)}function PR(t,e){const n={};return y1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,a)=>{const l=_c(a,e.qu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function NR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof yy||t instanceof el||t instanceof yn||t instanceof Md||t instanceof _y)}function Ey(t,e,n){if(!NR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Id(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function rv(t,e,n){if((e=Xt(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Sy(t,e);throw Yf("Field path arguments must be of type string or ",t,!1,void 0,n)}const LL=new RegExp("[~\\*/\\[\\]]");function Sy(t,e,n){if(e.search(LL)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Od(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yf(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new de(ae.INVALID_ARGUMENT,h+t+d)}function LR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kL extends kR{data(){return super.data()}}function wy(t,e){return typeof e=="string"?Sy(t,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ay{}class jL extends Ay{}function BL(t,e,...n){let r=[];e instanceof Ay&&r.push(e),r=r.concat(n),function(l){const u=l.filter(d=>d instanceof Ry).length,h=l.filter(d=>d instanceof Nd).length;if(u>1||u>0&&h>0)throw new de(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Nd extends jL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nd(e,n,r)}_apply(e){const n=this._parse(e);return UR(e._query,n),new cl(e.firestore,e.converter,$g(e._query,n))}_parse(e){const n=Vd(e.firestore);return function(l,u,h,d,p,g,_){let T;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){gS(_,g);const C=[];for(const V of _)C.push(pS(d,l,V));T={arrayValue:{values:C}}}else T=pS(d,l,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||gS(_,g),T=NL(h,u,_,g==="in"||g==="not-in");return Nt.create(p,g,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zL(t,e,n){const r=e,a=wy("where",t);return Nd._create(a,r,n)}class Ry extends Ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ry(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)UR(u,d),u=$g(u,d)}(e._query,n),new cl(e.firestore,e.converter,$g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pS(t,e,n){if(typeof(n=Xt(n))=="string"){if(n==="")throw new de(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V1(e)&&n.indexOf("/")!==-1)throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!_e.isDocumentKey(r))throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DE(t,new _e(r))}if(n instanceof yn)return DE(t,n._key);throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function gS(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UR(t,e){const n=function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FL{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Bf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>xt(u.doubleValue));return new _y(l)}convertGeoPoint(e){return new yy(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_d(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);et(tR(r));const a=new $u(r.get(1),r.get(3)),l=new _e(r.popFirst(5));return a.isEqual(n)||Mr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BR extends kR{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ef extends BR{data(e={}){return super.data(e)}}class HL{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Iu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ef(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Ef(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Iu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new Ef(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Iu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:qL(h.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){t=ai(t,yn);const e=ai(t.firestore,Ms);return AL(vy(e),t._key).then(n=>HR(e,t,n))}class zR extends FL{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function FR(t,e,n){t=ai(t,yn);const r=ai(t.firestore,Ms),a=jR(t.converter,e,n);return Ld(r,[VR(Vd(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,si.none())])}function bc(t,e,n,...r){t=ai(t,yn);const a=ai(t.firestore,Ms),l=Vd(a);let u;return u=typeof(e=Xt(e))=="string"||e instanceof Od?PL(l,"updateDoc",t._key,e,n,r):VL(l,"updateDoc",t._key,e),Ld(a,[u.toMutation(t._key,si.exists(!0))])}function vS(t){return Ld(ai(t.firestore,Ms),[new ey(t._key,si.none())])}function GL(t,e){const n=ai(t.firestore,Ms),r=on(t),a=jR(t.converter,e);return Ld(n,[VR(Vd(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then(()=>r)}function $L(t,...e){var n,r,a;t=Xt(t);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||mS(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(mS(e[u])){const _=e[u];e[u]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let d,p,g;if(t instanceof yn)p=ai(t.firestore,Ms),g=bd(t._key.path),d={next:_=>{e[u]&&e[u](HR(p,t,_))},error:e[u+1],complete:e[u+2]};else{const _=ai(t,cl);p=ai(_.firestore,Ms),g=_._query;const T=new zR(p);d={next:S=>{e[u]&&e[u](new HL(p,T,_,S))},error:e[u+1],complete:e[u+2]},UL(t._query)}return function(T,S,C,V){const x=new AR(V),M=new gR(S,x,C);return T.asyncQueue.enqueueAndForget(async()=>mR(await iv(T),M)),()=>{x.su(),T.asyncQueue.enqueueAndForget(async()=>pR(await iv(T),M))}}(vy(p),g,h,d)}function Ld(t,e){return function(r,a){const l=new ws;return r.asyncQueue.enqueueAndForget(async()=>dL(await wL(r),a,l)),l.promise}(vy(t),e)}function HR(t,e,n){const r=n.docs.get(e._key),a=new zR(t);return new BR(t,a,e._key,r,new Iu(n.hasPendingWrites,n.fromCache),e.converter)}function KL(){return new Ty("serverTimestamp")}(function(e,n=!0){(function(a){al=a})(rl),$o(new Da("firestore",(r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Ms(new LV(r.getProvider("auth-internal")),new jV(u,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(p.options.projectId,g)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Es(yE,_E,e),Es(yE,_E,"esm2017")})();const YL={apiKey:"AIzaSyBGc0NKCUuSHf3HQYpTZZv_eYz5zGAR_Js",authDomain:"todo-musume.firebaseapp.com",projectId:"todo-musume",storageBucket:"todo-musume.firebasestorage.app",messagingSenderId:"498014062713",appId:"1:498014062713:web:05aa842d399d4f7355aca8",measurementId:"G-TLFNCDFG5E"},qR=xA(YL),rt=DV(qR),Qt=xL(qR),QL=new Rr,XL=async()=>{try{const e=(await jM(rt,QL)).user;return console.log("ログイン成功:",e),e}catch(t){throw console.error("Googleログイン失敗:",t),t}},WL="/assets/title-D34EeaZk.jpg";let _a=null;const GR=t=>{_a&&(_a.pause(),_a=null),_a=new Audio(t),_a.loop=!0,_a.volume=.5,_a.play().catch(e=>console.warn("BGMの再生に失敗:",e))},Be=t=>{const e=new Audio(t);e.volume=.8,e.play().catch(n=>console.warn("SEの再生に失敗:",n))},ZL="/assets/title_bgm-DMmE3uBd.mp3",JL="/assets/app_bgm-PW0tQa02.mp3",ek="/assets/title_call-KPplPRkg.mp3",tk="/assets/chara_hover-B-Ueir4s.mp3",nk="/assets/click-3Jb9tsgP.mp3",ik="/assets/page_roll-Dt6S3YA4.mp3",rk="/assets/sort-DxVkmaMZ.mp3",sk="/assets/task_cmp-COR2Br2-.mp3",ak="/assets/close-xwS4tZYK.mp3",ok=ZL,lk=JL,uk=ek,Qf=tk,Pr=nk,nf=ik,yS=rk,kd=sk,_i=ak,ck=()=>{const t=async()=>{try{Be(uk),await XL();const e=rt.currentUser;if(!e)return;const n=on(Qt,"users",e.uid);(await Ji(n)).exists()||(await FR(n,{userId:e.uid,name:null,gender:"未設定",affectionLevel:null,characterId:null,loggedInFlg:!1,createdAt:new Date}),console.log("ユーザー初期データ作成"))}catch(e){console.error("ログイン失敗:",e)}};return k.useEffect(()=>{GR(ok)},[]),O.jsx("div",{className:"fixed top-0 left-0 h-screen w-screen overflow-hidden bg-no-repeat bg-center bg-cover animate-delayed-fadein",style:{backgroundImage:`url(${WL})`,backgroundSize:"cover"},children:O.jsx("div",{className:"absolute bottom-[15%] left-1/2 transform -translate-x-1/2",children:O.jsxs("button",{onClick:()=>{Be(Pr),t()},onMouseEnter:()=>Be(Qf),className:`flex items-center gap-3 bg-white text-gray-700 border border-gray-300 px-10 py-3 rounded-full 
          shadow-md hover:shadow-3lg transition duration-200 hover:bg-gray-100 hover:scale-105 text-base font-semibold cursor-pointer`,children:[O.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Googleアカウントでログイン"]})})})},hk="/assets/character1-BsMG2w83.png",fk="/assets/character2-DmtNjfxK.png",dk="/assets/character3-wyQhCDdf.png",mk="/assets/character_1-C2tLXKyj.jpg",pk="/assets/chara2-DHsqkzEN.jpg",gk="/assets/chara3-BCXiUGqW.jpg",vk="/assets/chara1-D3QVnrSy.jpg",yk="/assets/character2-O8Y2TEPi.jpg",_k="/assets/character3-BKrTtTxL.jpg",bk="/assets/pink-DDkdvlAL.png",Tk="/assets/blue-LtO_NOyi.png",Ek="/assets/yellow-DvRj4ZFC.png",Sk=[{id:1,name:"御影心愛",image:hk,message:"サボってないで！ほら、早く！"},{id:2,name:"白鷺ソフィア",image:fk,message:"次は何をするの？"},{id:3,name:"東雲懐季",image:dk,message:"がんばれ！がんばれ〜！"}],Cy=[{id:1,name:"御影 心愛",image:mk,description:{full_name:"名前: 御影 心愛",name_kana:"読み仮名: みかげ ここあ",age:"年齢: 20",grade:"学年: 大学２年生",height:"身長: 143.5cm",from:"出身地/国籍: 東京/日本",birth:"誕生日: 4月20日",star:"星座: 牡羊座",blood:"血液型: B型",hobby:"趣味・特技: コスメ、エゴサーチ",like:"好きなもの: 自分、マシュマロ",unlike:"嫌いなもの: 虫、高層ビル",three_size:"スリーサイズ: B74 / W54 / H77",feature:"低身長 × 貧乳設定 ＋ インフルエンサー志望の可愛らしいスタイル",coment:`一言メモ: 大学の後輩。小さくて可愛いと言われるが、本人は気にしている。
    インフルエンサーを目指し、SNSに力を入れているが、あまり成果は出ていない。`}},{id:2,name:"白鷺 ソフィア",image:pk,description:{full_name:"名前: 白鷺 ソフィア",name_kana:"読み仮名: しらさぎ そふぃあ",age:"年齢: 24",grade:"学年: 社会人２年目",height:"身長: 162cm",from:"出身地/国籍: ロシア/日本",birth:"誕生日: 12月23日",star:"星座: 山羊座",blood:"血液型: A型",hobby:"読書、スノースポーツ",like:"好きなもの: 辛い食べ物、イヤリング",unlike:"嫌いなもの: ブラックコーヒー、暑いところ",three_size:"スリーサイズ: B83 / W58 / H83",feature:"落ち着いた大人の女性らしいバランス型 ＋ 上品なスタイル感を意識",coment:`一言メモ: ロシアと日本のハーフ。だが、生まれがロシアなだけで、ほとんどロシア語は話せない。
      容姿から恋愛経験が豊富と思われがちだが、本人は恋愛経験はゼロ`}},{id:3,name:"東雲 懐季",image:gk,description:{full_name:"名前: 東雲 懐季",name_kana:"読み仮名: しののめ なつき",age:"年齢: 22",grade:"学年: 大学4年生",height:"身長: 157cm",from:"出身地/国籍: 東京/日本",birth:"誕生日: 8月20日",star:"星座: 獅子座",blood:"血液型: O型",hobby:"趣味・特技: ビーフシチュー、犬",like:"好きなもの: 自分、マシュマロ",unlike:"嫌いなもの: 高いところ、春菊",three_size:"スリーサイズ: B82 / W55 / H77",feature:"低身長×貧乳設定＋インフルエンサー志望の可愛らしいスタイル",coment:`一言メモ: 幼稚園からの幼馴染。しっかりしてると思われがちだが、案外ズボラ。
        最近、食べ過ぎにより、体重が増加。ダイエットを考えている。`}}],wk=[{id:1,name:"御影心愛",image:vk},{id:2,name:"白鷺ソフィア",image:yk},{id:3,name:"東雲懐季",image:_k}],Ak=[{id:1,image:bk},{id:2,image:Tk},{id:3,image:Ek}],xy=k.createContext({});function Iy(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dy=typeof window<"u",$R=Dy?k.useLayoutEffect:k.useEffect,Ud=k.createContext(null),Oy=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Rk extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ck({children:t,isPresent:e,anchorX:n}){const r=k.useId(),a=k.useRef(null),l=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=k.useContext(Oy);return k.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:_}=l.current;if(e||!a.current||!h||!d)return;const T=n==="left"?`left: ${g}`:`right: ${_}`;a.current.dataset.motionPopId=r;const S=document.createElement("style");return u&&(S.nonce=u),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${T}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),O.jsx(Rk,{isPresent:e,childRef:a,sizeRef:l,children:k.cloneElement(t,{ref:a})})}const xk=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h})=>{const d=Iy(Ik),p=k.useId();let g=!0,_=k.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:T=>{d.set(T,!0);for(const S of d.values())if(!S)return;r&&r()},register:T=>(d.set(T,!1),()=>d.delete(T))}),[n,d,r]);return l&&g&&(_={..._}),k.useMemo(()=>{d.forEach((T,S)=>d.set(S,!1))},[n]),k.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),u==="popLayout"&&(t=O.jsx(Ck,{isPresent:n,anchorX:h,children:t})),O.jsx(Ud.Provider,{value:_,children:t})};function Ik(){return new Map}function KR(t=!0){const e=k.useContext(Ud);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const u=k.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const rf=t=>t.key||"";function _S(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const My=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left"})=>{const[d,p]=KR(u),g=k.useMemo(()=>_S(t),[t]),_=u&&!d?[]:g.map(rf),T=k.useRef(!0),S=k.useRef(g),C=Iy(()=>new Map),[V,x]=k.useState(g),[M,G]=k.useState(g);$R(()=>{T.current=!1,S.current=g;for(let j=0;j<M.length;j++){const Z=rf(M[j]);_.includes(Z)?C.delete(Z):C.get(Z)!==!0&&C.set(Z,!1)}},[M,_.length,_.join("-")]);const H=[];if(g!==V){let j=[...g];for(let Z=0;Z<M.length;Z++){const D=M[Z],w=rf(D);_.includes(w)||(j.splice(Z,0,D),H.push(D))}return l==="wait"&&H.length&&(j=H),G(_S(j)),x(g),null}const{forceRender:ee}=k.useContext(xy);return O.jsx(O.Fragment,{children:M.map(j=>{const Z=rf(j),D=u&&!d?!1:g===M||_.includes(Z),w=()=>{if(C.has(Z))C.set(Z,!0);else return;let I=!0;C.forEach(N=>{N||(I=!1)}),I&&(ee==null||ee(),G(S.current),u&&(p==null||p()),r&&r())};return O.jsx(xk,{isPresent:D,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:D?void 0:w,anchorX:h,children:j},Z)})})};function Vy(t,e){t.indexOf(e)===-1&&t.push(e)}function Py(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let YR=()=>{};const sv={useManualTiming:!1};function Ny(t){let e;return()=>(e===void 0&&(e=t()),e)}const oi=t=>t,Wu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ly{constructor(){this.subscriptions=[]}add(e){return Vy(this.subscriptions,e),()=>Py(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gi=t=>t*1e3,$i=t=>t/1e3;function QR(t,e){return e?t*(1e3/e):0}const Dk=Ny(()=>window.ScrollTimeline!==void 0);class Ok{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(a=>{if(Dk()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Mk extends Ok{then(e,n){return this.finished.finally(e).then(()=>{})}}const bS={value:null},ky=t=>Array.isArray(t)&&typeof t[0]=="number",Vk={};function Pk(t,e){const n=Ny(t);return()=>Vk[e]??n()}const Zu=Pk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),XR=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=t(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Du=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,av={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Du([0,.65,.55,1]),circOut:Du([.55,0,1,.45]),backIn:Du([.31,.01,.66,-.59]),backOut:Du([.33,1.53,.69,.99])};function WR(t,e){if(t)return typeof t=="function"&&Zu()?XR(t,e):ky(t)?Du(t):Array.isArray(t)?t.map(n=>WR(n,e)||av.easeOut):av[t]}function Nk(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeInOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const _=WR(h,a);return Array.isArray(_)&&(g.easing=_),t.animate(g,{delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal",pseudoElement:p})}function Uy(t){return typeof t=="function"&&"applyToOptions"in t}function jy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Xf=2e4;function By(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xf;)e+=n,r=t.next(e);return e>=Xf?1/0:e}function Lk(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(By(r),Xf);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:$i(a)}}function ZR(t){return!!(typeof t=="function"&&Zu()||!t||typeof t=="string"&&(t in av||Zu())||ky(t)||Array.isArray(t)&&t.every(ZR))}function TS(t,e){t.timeline=e,t.onfinish=null}const sf=["read","resolveKeyframes","update","preRender","render","postRender"];function kk(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){u.has(_)&&(g.schedule(_),t()),d++,_(h)}const g={schedule:(_,T=!1,S=!1)=>{const V=S&&a?n:r;return T&&u.add(_),V.has(_)||V.add(_),_},cancel:_=>{r.delete(_),u.delete(_)},process:_=>{if(h=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),e&&bS.value&&bS.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,g.process(_))}};return g}const Uk=40;function JR(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=sf.reduce((M,G)=>(M[G]=kk(l,e?G:void 0),M),{}),{read:h,resolveKeyframes:d,update:p,preRender:g,render:_,postRender:T}=u,S=()=>{const M=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(M-a.timestamp,Uk),1),a.timestamp=M,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),g.process(a),_.process(a),T.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(S))},C=()=>{n=!0,r=!0,a.isProcessing||t(S)};return{schedule:sf.reduce((M,G)=>{const H=u[G];return M[G]=(ee,j=!1,Z=!1)=>(n||C(),H.schedule(ee,j,Z)),M},{}),cancel:M=>{for(let G=0;G<sf.length;G++)u[sf[G]].cancel(M)},state:a,steps:u}}const{schedule:zy}=JR(queueMicrotask,!1),{schedule:ft,cancel:Vs,state:nn,steps:hg}=JR(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Sf;function jk(){Sf=void 0}const Ki={now:()=>(Sf===void 0&&Ki.set(nn.isProcessing||sv.useManualTiming?nn.timestamp:performance.now()),Sf),set:t=>{Sf=t,queueMicrotask(jk)}},mi={x:!1,y:!1};function eC(){return mi.x||mi.y}function Bk(t){return t==="x"||t==="y"?mi[t]?null:(mi[t]=!0,()=>{mi[t]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function zk(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function tC(t,e){const n=zk(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function ES(t){return!(t.pointerType==="touch"||eC())}function Fk(t,e,n={}){const[r,a,l]=tC(t,n),u=h=>{if(!ES(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=_=>{ES(_)&&(p(_),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const nC=(t,e)=>e?t===e?!0:nC(t,e.parentElement):!1,Fy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Hk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qk(t){return Hk.has(t.tagName)||t.tabIndex!==-1}const Ou=new WeakSet;function SS(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Gk=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=SS(()=>{if(Ou.has(n))return;fg(n,"down");const a=SS(()=>{fg(n,"up")}),l=()=>fg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function wS(t){return Fy(t)&&!eC()}function $k(t,e,n={}){const[r,a,l]=tC(t,n),u=h=>{const d=h.currentTarget;if(!wS(h)||Ou.has(d))return;Ou.add(d);const p=e(d,h),g=(S,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),!(!wS(S)||!Ou.has(d))&&(Ou.delete(d),typeof p=="function"&&p(S,{success:C}))},_=S=>{g(S,d===window||d===document||n.useGlobalTarget||nC(d,S.target))},T=S=>{g(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),h instanceof HTMLElement&&(h.addEventListener("focus",p=>Gk(p,a)),!qk(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}const AS=30,Kk=t=>!isNaN(parseFloat(t));class Yk{constructor(e,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=Ki.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ki.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Kk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ly);const r=this.events[e].add(n);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ki.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AS);return QR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ju(t,e){return new Yk(t,e)}const iC=k.createContext({strict:!1}),RS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in RS)tl[t]={isEnabled:e=>RS[t].some(n=>!!e[n])};function Qk(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const Xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Xk.has(t)}let rC=t=>!Wf(t);function Wk(t){t&&(rC=e=>e.startsWith("on")?!Wf(e):t(e))}try{Wk(require("@emotion/is-prop-valid").default)}catch{}function Zk(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(rC(a)||n===!0&&Wf(a)||!e&&!Wf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function Jk(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const jd=k.createContext({});function Bd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ec(t){return typeof t=="string"||Array.isArray(t)}const Hy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qy=["initial",...Hy];function zd(t){return Bd(t.animate)||qy.some(e=>ec(t[e]))}function sC(t){return!!(zd(t)||t.variants)}function e4(t,e){if(zd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ec(n)?n:void 0,animate:ec(r)?r:void 0}}return t.inherit!==!1?e:{}}function t4(t){const{initial:e,animate:n}=e4(t,k.useContext(jd));return k.useMemo(()=>({initial:e,animate:n}),[CS(e),CS(n)])}function CS(t){return Array.isArray(t)?t.join(" "):t}const n4=Symbol.for("motionComponentSymbol");function Lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function i4(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Lo(n)&&(n.current=r))},[e])}const Gy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r4="framerAppearId",aC="data-"+Gy(r4),oC=k.createContext({});function s4(t,e,n,r,a){var V,x;const{visualElement:l}=k.useContext(jd),u=k.useContext(iC),h=k.useContext(Ud),d=k.useContext(Oy).reducedMotion,p=k.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,_=k.useContext(oC);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&a4(p.current,n,a,_);const T=k.useRef(!1);k.useInsertionEffect(()=>{g&&T.current&&g.update(n,h)});const S=n[aC],C=k.useRef(!!S&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,S))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,S)));return $R(()=>{g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),zy.render(g.render),C.current&&g.animationState&&g.animationState.animateChanges())}),k.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,S)}),C.current=!1))}),g}function a4(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Lo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function lC(t){if(t)return t.options.allowProjection!==!1?t.projection:lC(t.parent)}function o4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&Qk(t);function l(h,d){let p;const g={...k.useContext(Oy),...h,layoutId:l4(h)},{isStatic:_}=g,T=t4(h),S=r(h,_);if(!_&&Dy){u4();const C=c4(g);p=C.MeasureLayout,T.visualElement=s4(a,S,g,e,C.ProjectionNode)}return O.jsxs(jd.Provider,{value:T,children:[p&&T.visualElement?O.jsx(p,{visualElement:T.visualElement,...g}):null,n(a,h,i4(S,T.visualElement,d),S,_,T.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=k.forwardRef(l);return u[n4]=a,u}function l4({layoutId:t}){const e=k.useContext(xy).id;return e&&t!==void 0?e+"-"+t:t}function u4(t,e){k.useContext(iC).strict}function c4(t){const{drag:e,layout:n}=tl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const uC=t=>e=>typeof e=="string"&&e.startsWith(t),$y=uC("--"),h4=uC("var(--"),Ky=t=>h4(t)?f4.test(t.split("/*")[0].trim()):!1,f4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tc={};function d4(t){for(const e in t)tc[e]=t[e],$y(e)&&(tc[e].isCSSVariable=!0)}const hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ka=new Set(hl);function cC(t,{layout:e,layoutId:n}){return ka.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!tc[t]||t==="opacity")}const vn=t=>!!(t&&t.getVelocity),hC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nr=(t,e,n)=>n>e?e:n<t?t:n,fl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nc={...fl,transform:t=>Nr(0,1,t)},af={...fl,default:1},Tc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ps=Tc("deg"),Yi=Tc("%"),Se=Tc("px"),m4=Tc("vh"),p4=Tc("vw"),xS={...Yi,parse:t=>Yi.parse(t)/100,transform:t=>Yi.transform(t*100)},g4={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},v4={rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:ps,skewX:ps,skewY:ps,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:nc,originX:xS,originY:xS,originZ:Se},IS={...fl,transform:Math.round},Yy={...g4,...v4,zIndex:IS,size:Se,fillOpacity:nc,strokeOpacity:nc,numOctaves:IS},y4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_4=hl.length;function b4(t,e,n){let r="",a=!0;for(let l=0;l<_4;l++){const u=hl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=hC(h,Yy[u]);if(!d){a=!1;const g=y4[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Qy(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(ka.has(d)){u=!0;continue}else if($y(d)){a[d]=p;continue}else{const g=hC(p,Yy[d]);d.startsWith("origin")?(h=!0,l[d]=g):r[d]=g}}if(e.transform||(u||n?r.transform=b4(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=l;r.transformOrigin=`${d} ${p} ${g}`}}const Xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fC(t,e,n){for(const r in e)!vn(e[r])&&!cC(r,n)&&(t[r]=e[r])}function T4({transformTemplate:t},e){return k.useMemo(()=>{const n=Xy();return Qy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function E4(t,e){const n=t.style||{},r={};return fC(r,n,t),Object.assign(r,T4(t,e)),r}function S4(t,e){const n={},r=E4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const w4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wy(t){return typeof t!="string"||t.includes("-")?!1:!!(w4.indexOf(t)>-1||/[A-Z]/u.test(t))}const A4={offset:"stroke-dashoffset",array:"stroke-dasharray"},R4={offset:"strokeDashoffset",array:"strokeDasharray"};function C4(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?A4:R4;t[l.offset]=Se.transform(-r);const u=Se.transform(e),h=Se.transform(n);t[l.array]=`${u} ${h}`}function DS(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function x4(t,e,n){const r=DS(e,t.x,t.width),a=DS(n,t.y,t.height);return`${r} ${a}`}function Zy(t,{attrX:e,attrY:n,attrScale:r,originX:a,originY:l,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...p},g,_){if(Qy(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S,dimensions:C}=t;T.transform&&(C&&(S.transform=T.transform),delete T.transform),C&&(a!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=x4(C,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),u!==void 0&&C4(T,u,h,d,!1)}const dC=()=>({...Xy(),attrs:{}}),Jy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I4(t,e,n,r){const a=k.useMemo(()=>{const l=dC();return Zy(l,e,Jy(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};fC(l,t.style,t),a.style={...l,...a.style}}return a}function D4(t=!1){return(n,r,a,{latestValues:l},u)=>{const d=(Wy(n)?I4:S4)(r,l,u,n),p=Zk(r,typeof n=="string",t),g=n!==k.Fragment?{...p,...d,ref:a}:{},{children:_}=r,T=k.useMemo(()=>vn(_)?_.get():_,[_]);return k.createElement(n,{...g,children:T})}}function OS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function e0(t,e,n,r){if(typeof e=="function"){const[a,l]=OS(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=OS(r);e=e(n!==void 0?n:t.custom,a,l)}return e}const ov=t=>Array.isArray(t),O4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),M4=t=>ov(t)?t[t.length-1]||0:t;function wf(t){const e=vn(t)?t.get():t;return O4(e)?e.toValue():e}function V4({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,a,l){const u={latestValues:P4(r,a,l,t),renderState:e()};return n&&(u.onMount=h=>n({props:r,current:h,...u}),u.onUpdate=h=>n(h)),u}const mC=t=>(e,n)=>{const r=k.useContext(jd),a=k.useContext(Ud),l=()=>V4(t,e,r,a);return n?l():Iy(l)};function P4(t,e,n,r){const a={},l=r(t,{});for(const T in l)a[T]=wf(l[T]);let{initial:u,animate:h}=t;const d=zd(t),p=sC(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const _=g?h:u;if(_&&typeof _!="boolean"&&!Bd(_)){const T=Array.isArray(_)?_:[_];for(let S=0;S<T.length;S++){const C=e0(t,T[S]);if(C){const{transitionEnd:V,transition:x,...M}=C;for(const G in M){let H=M[G];if(Array.isArray(H)){const ee=g?H.length-1:0;H=H[ee]}H!==null&&(a[G]=H)}for(const G in V)a[G]=V[G]}}}return a}function t0(t,e,n){var l;const{style:r}=t,a={};for(const u in r)(vn(r[u])||e.style&&vn(e.style[u])||cC(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}const N4={useVisualState:mC({scrapeMotionValuesFromProps:t0,createRenderState:Xy})};function pC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function gC(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const vC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yC(t,e,n,r){gC(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(vC.has(a)?a:Gy(a),e.attrs[a])}function _C(t,e,n){const r=t0(t,e,n);for(const a in t)if(vn(t[a])||vn(e[a])){const l=hl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const MS=["x","y","width","height","cx","cy","r"],L4={useVisualState:mC({scrapeMotionValuesFromProps:_C,createRenderState:dC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in a)if(ka.has(h)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let h=0;h<MS.length;h++){const d=MS[h];t[d]!==e[d]&&(u=!0)}u&&ft.read(()=>{pC(n,r),ft.render(()=>{Zy(r,a,Jy(n.tagName),t.transformTemplate),yC(n,r)})})}})};function k4(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...Wy(r)?L4:N4,preloadedFeatures:t,useRender:D4(a),createVisualElement:e,Component:r};return o4(u)}}function ic(t,e,n){const r=t.getProps();return e0(r,e,n!==void 0?n:r.custom,t)}const bC=new Set(["width","height","top","left","right","bottom",...hl]);function U4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ju(n))}function j4(t,e){const n=ic(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=M4(l[u]);U4(t,u,h)}}function B4(t){return!!(vn(t)&&t.add)}function lv(t,e){const n=t.getValue("willChange");if(B4(n))return n.add(e);if(!n&&sv.WillChange){const r=new sv.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function TC(t){return t.props[aC]}const EC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,z4=1e-7,F4=12;function H4(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=EC(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>z4&&++h<F4);return u}function Ec(t,e,n,r){if(t===e&&n===r)return oi;const a=l=>H4(l,0,1,t,n);return l=>l===0||l===1?l:EC(a(l),e,r)}const SC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wC=t=>e=>1-t(1-e),AC=Ec(.33,1.53,.69,.99),n0=wC(AC),RC=SC(n0),CC=t=>(t*=2)<1?.5*n0(t):.5*(2-Math.pow(2,-10*(t-1))),i0=t=>1-Math.sin(Math.acos(t)),xC=wC(i0),IC=SC(i0),DC=t=>/^0[^.\s]+$/u.test(t);function q4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DC(t):!0}const Uu=t=>Math.round(t*1e5)/1e5,r0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G4(t){return t==null}const $4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s0=(t,e)=>n=>!!(typeof n=="string"&&$4.test(n)&&n.startsWith(t)||e&&!G4(n)&&Object.prototype.hasOwnProperty.call(n,e)),OC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(r0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},K4=t=>Nr(0,255,t),dg={...fl,transform:t=>Math.round(K4(t))},Aa={test:s0("rgb","red"),parse:OC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dg.transform(t)+", "+dg.transform(e)+", "+dg.transform(n)+", "+Uu(nc.transform(r))+")"};function Y4(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const uv={test:s0("#"),parse:Y4,transform:Aa.transform},ko={test:s0("hsl","hue"),parse:OC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yi.transform(Uu(e))+", "+Yi.transform(Uu(n))+", "+Uu(nc.transform(r))+")"},mn={test:t=>Aa.test(t)||uv.test(t)||ko.test(t),parse:t=>Aa.test(t)?Aa.parse(t):ko.test(t)?ko.parse(t):uv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Aa.transform(t):ko.transform(t)},Q4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(r0))==null?void 0:e.length)||0)+(((n=t.match(Q4))==null?void 0:n.length)||0)>0}const MC="number",VC="color",W4="var",Z4="var(",VS="${}",J4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(J4,d=>(mn.test(d)?(r.color.push(l),a.push(VC),n.push(mn.parse(d))):d.startsWith(Z4)?(r.var.push(l),a.push(W4),n.push(d)):(r.number.push(l),a.push(MC),n.push(parseFloat(d))),++l,VS)).split(VS);return{values:n,split:h,indexes:r,types:a}}function PC(t){return rc(t).values}function NC(t){const{split:e,types:n}=rc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===MC?l+=Uu(a[u]):h===VC?l+=mn.transform(a[u]):l+=a[u]}return l}}const e3=t=>typeof t=="number"?0:t;function t3(t){const e=PC(t);return NC(t)(e.map(e3))}const Ps={test:X4,parse:PC,createTransformer:NC,getAnimatableNone:t3},n3=new Set(["brightness","contrast","saturate","opacity"]);function i3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(r0)||[];if(!r)return t;const a=n.replace(r,"");let l=n3.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const r3=/\b([a-z-]*)\(.*?\)/gu,cv={...Ps,getAnimatableNone:t=>{const e=t.match(r3);return e?e.map(i3).join(" "):t}},s3={...Yy,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:cv,WebkitFilter:cv},LC=t=>s3[t];function kC(t,e){let n=LC(t);return n!==cv&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const a3=new Set(["auto","none","0"]);function o3(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!a3.has(l)&&rc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=kC(n,a)}const Ra=t=>t*180/Math.PI,hv=t=>{const e=Ra(Math.atan2(t[1],t[0]));return fv(e)},l3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hv,rotateZ:hv,skewX:t=>Ra(Math.atan(t[1])),skewY:t=>Ra(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},fv=t=>(t=t%360,t<0&&(t+=360),t),PS=hv,NS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),LS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),u3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NS,scaleY:LS,scale:t=>(NS(t)+LS(t))/2,rotateX:t=>fv(Ra(Math.atan2(t[6],t[5]))),rotateY:t=>fv(Ra(Math.atan2(-t[2],t[0]))),rotateZ:PS,rotate:PS,skewX:t=>Ra(Math.atan(t[4])),skewY:t=>Ra(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function kS(t){return t.includes("scale")?1:0}function dv(t,e){if(!t||t==="none")return kS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=u3,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=l3,a=h}if(!a)return kS(e);const l=r[e],u=a[1].split(",").map(h3);return typeof l=="function"?l(u):u[l]}const c3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dv(n,e)};function h3(t){return parseFloat(t.trim())}const US=t=>t===fl||t===Se,f3=new Set(["x","y","z"]),d3=hl.filter(t=>!f3.has(t));function m3(t){const e=[];return d3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dv(e,"x"),y:(t,{transform:e})=>dv(e,"y")};nl.translateX=nl.x;nl.translateY=nl.y;const xa=new Set;let mv=!1,pv=!1;function UC(){if(pv){const t=Array.from(xa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=m3(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{var h;(h=r.getValue(l))==null||h.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pv=!1,mv=!1,xa.forEach(t=>t.complete()),xa.clear()}function jC(){xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pv=!0)})}function p3(){jC(),UC()}class a0{constructor(e,n,r,a,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xa.add(this),mv||(mv=!0,ft.read(jC),ft.resolveKeyframes(UC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=a==null?void 0:a.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const d=r.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),a&&u===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const BC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),g3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function v3(t){const e=g3.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function zC(t,e,n=1){const[r,a]=v3(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return BC(u)?parseFloat(u):u}return Ky(a)?zC(a,e,n+1):a}const FC=t=>e=>e.test(t),y3={test:t=>t==="auto",parse:t=>t},HC=[fl,Se,Yi,ps,p4,m4,y3],jS=t=>HC.find(FC(t));class qC extends a0{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Ky(p))){const g=zC(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!bC.has(r)||e.length!==2)return;const[a,l]=e,u=jS(a),h=jS(l);if(u!==h)if(US(u)&&US(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)q4(e[a])&&r.push(a);r.length&&o3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=nl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const BS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ps.test(t)||t==="0")&&!t.startsWith("url("));function _3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function b3(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=BS(a,e),h=BS(l,e);return!u||!h?!1:_3(t)||(n==="spring"||Uy(n))&&r}const T3=t=>t!==null;function Fd(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(T3),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const E3=40;class GC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ki.now(),this.options={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>E3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&p3(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ki.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:u,onComplete:h,onUpdate:d,isGenerator:p}=this.options;if(!p&&!b3(e,r,a,l))if(u)this.options.duration=0;else{d&&d(Fd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const vt=(t,e,n)=>t+(e-t)*n;function mg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function S3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=mg(d,h,t+1/3),l=mg(d,h,t),u=mg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Zf(t,e){return n=>n>0?e:t}const pg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},w3=[uv,Aa,ko],A3=t=>w3.find(e=>e.test(t));function zS(t){const e=A3(t);if(!e)return!1;let n=e.parse(t);return e===ko&&(n=S3(n)),n}const FS=(t,e)=>{const n=zS(t),r=zS(e);if(!n||!r)return Zf(t,e);const a={...n};return l=>(a.red=pg(n.red,r.red,l),a.green=pg(n.green,r.green,l),a.blue=pg(n.blue,r.blue,l),a.alpha=vt(n.alpha,r.alpha,l),Aa.transform(a))},R3=(t,e)=>n=>e(t(n)),Sc=(...t)=>t.reduce(R3),gv=new Set(["none","hidden"]);function C3(t,e){return gv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function x3(t,e){return n=>vt(t,e,n)}function o0(t){return typeof t=="number"?x3:typeof t=="string"?Ky(t)?Zf:mn.test(t)?FS:O3:Array.isArray(t)?$C:typeof t=="object"?mn.test(t)?FS:I3:Zf}function $C(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>o0(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function I3(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=o0(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function D3(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const O3=(t,e)=>{const n=Ps.createTransformer(e),r=rc(t),a=rc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?gv.has(t)&&!a.values.length||gv.has(e)&&!r.values.length?C3(t,e):Sc($C(D3(r,a),a.values),n):Zf(t,e)};function KC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):o0(t)(t,e)}const M3=5;function YC(t,e,n){const r=Math.max(e-M3,0);return QR(n-t(r),e-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},HS=.001;function V3({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let a,l,u=1-e;u=Nr(Et.minDamping,Et.maxDamping,u),t=Nr(Et.minDuration,Et.maxDuration,$i(t)),u<1?(a=p=>{const g=p*u,_=g*t,T=g-n,S=vv(p,u),C=Math.exp(-_);return HS-T/S*C},l=p=>{const _=p*u*t,T=_*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,C=Math.exp(-_),V=vv(Math.pow(p,2),u);return(-a(p)+HS>0?-1:1)*((T-S)*C)/V}):(a=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},l=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,d=N3(a,l,h);if(t=Gi(t),isNaN(d))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const P3=12;function N3(t,e,n){let r=n;for(let a=1;a<P3;a++)r=r-t(r)/e(r);return r}function vv(t,e){return t*Math.sqrt(1-e*e)}const L3=["duration","bounce"],k3=["stiffness","damping","mass"];function qS(t,e){return e.some(n=>t[n]!==void 0)}function U3(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!qS(t,k3)&&qS(t,L3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Nr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Et.mass,stiffness:a,damping:l}}else{const n=V3(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function Jf(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:g,duration:_,velocity:T,isResolvedFromDuration:S}=U3({...n,velocity:-$i(n.velocity||0)}),C=T||0,V=p/(2*Math.sqrt(d*g)),x=u-l,M=$i(Math.sqrt(d/g)),G=Math.abs(x)<5;r||(r=G?Et.restSpeed.granular:Et.restSpeed.default),a||(a=G?Et.restDelta.granular:Et.restDelta.default);let H;if(V<1){const j=vv(M,V);H=Z=>{const D=Math.exp(-V*M*Z);return u-D*((C+V*M*x)/j*Math.sin(j*Z)+x*Math.cos(j*Z))}}else if(V===1)H=j=>u-Math.exp(-M*j)*(x+(C+M*x)*j);else{const j=M*Math.sqrt(V*V-1);H=Z=>{const D=Math.exp(-V*M*Z),w=Math.min(j*Z,300);return u-D*((C+V*M*x)*Math.sinh(w)+j*x*Math.cosh(w))/j}}const ee={calculatedDuration:S&&_||null,next:j=>{const Z=H(j);if(S)h.done=j>=_;else{let D=0;V<1&&(D=j===0?Gi(C):YC(H,j,Z));const w=Math.abs(D)<=r,I=Math.abs(u-Z)<=a;h.done=w&&I}return h.value=h.done?u:Z,h},toString:()=>{const j=Math.min(By(ee),Xf),Z=XR(D=>ee.next(j*D).value,j,30);return j+"ms "+Z},toTransition:()=>{}};return ee}Jf.applyToOptions=t=>{const e=Lk(t,100,Jf);return t.ease=Zu()?e.ease:"easeOut",t.duration=Gi(e.duration),t.type="keyframes",t};function GS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:g}){const _=t[0],T={done:!1,value:_},S=w=>h!==void 0&&w<h||d!==void 0&&w>d,C=w=>h===void 0?d:d===void 0||Math.abs(h-w)<Math.abs(d-w)?h:d;let V=n*e;const x=_+V,M=u===void 0?x:u(x);M!==x&&(V=M-_);const G=w=>-V*Math.exp(-w/r),H=w=>M+G(w),ee=w=>{const I=G(w),N=H(w);T.done=Math.abs(I)<=p,T.value=T.done?M:N};let j,Z;const D=w=>{S(T.value)&&(j=w,Z=Jf({keyframes:[T.value,C(T.value)],velocity:YC(H,w,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:w=>{let I=!1;return!Z&&j===void 0&&(I=!0,ee(w),D(w)),j!==void 0&&w>=j?Z.next(w-j):(!I&&ee(w),T)}}}const j3=Ec(.42,0,1,1),B3=Ec(0,0,.58,1),QC=Ec(.42,0,.58,1),z3=t=>Array.isArray(t)&&typeof t[0]!="number",F3={linear:oi,easeIn:j3,easeInOut:QC,easeOut:B3,circIn:i0,circInOut:IC,circOut:xC,backIn:n0,backInOut:RC,backOut:AC,anticipate:CC},$S=t=>{if(ky(t)){YR(t.length===4);const[e,n,r,a]=t;return Ec(e,n,r,a)}else if(typeof t=="string")return F3[t];return t};function H3(t,e,n){const r=[],a=n||KC,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||oi:e;h=Sc(d,h)}r.push(h)}return r}function q3(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(YR(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=H3(e,r,a),d=h.length,p=g=>{if(u&&g<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const T=Wu(t[_],t[_+1],g);return h[_](T)};return n?g=>p(Nr(t[0],t[l-1],g)):p}function G3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Wu(0,e,r);t.push(vt(n,1,a))}}function $3(t){const e=[0];return G3(e,t.length-1),e}function K3(t,e){return t.map(n=>n*e)}function Y3(t,e){return t.map(()=>e||QC).splice(0,t.length-1)}function ed({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=z3(r)?r.map($S):$S(r),l={done:!1,value:e[0]},u=K3(n&&n.length===e.length?n:$3(e),t),h=q3(u,e,{ease:Array.isArray(a)?a:Y3(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const Q3=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ft.update(e,!0),stop:()=>Vs(e),now:()=>nn.isProcessing?nn.timestamp:Ki.now()}},X3={decay:GS,inertia:GS,tween:ed,keyframes:ed,spring:Jf},W3=t=>t/100;class l0 extends GC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:a,keyframes:l}=this.options,u=(a==null?void 0:a.KeyframeResolver)||a0,h=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new u(l,h,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=this.options,h=Uy(n)?n:X3[n]||ed;let d,p;h!==ed&&typeof e[0]!="number"&&(d=Sc(W3,KC(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});l==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=By(g));const{calculatedDuration:_}=g,T=_+a,S=T*(r+1)-a;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:_,resolvedDuration:T,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return l.next(0);const{delay:T,repeat:S,repeatType:C,repeatDelay:V,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const M=this.currentTime-T*(this.speed>=0?1:-1),G=this.speed>=0?M<0:M>g;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let H=this.currentTime,ee=l;if(S){const w=Math.min(this.currentTime,g)/_;let I=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&I--,I=Math.min(I,S+1),!!(I%2)&&(C==="reverse"?(N=1-N,V&&(N-=V/_)):C==="mirror"&&(ee=u)),H=Nr(0,1,N)*_}const j=G?{done:!1,value:d[0]}:ee.next(H);h&&(j.value=h(j.value));let{done:Z}=j;!G&&p!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return D&&a!==void 0&&(j.value=Fd(d,this.options,a)),x&&x(j.value),D&&this.finish(),j}get duration(){const{resolved:e}=this;return e?$i(e.calculatedDuration):0}get time(){return $i(this.currentTime)}set time(e){e=Gi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$i(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Q3,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const Z3=new Set(["opacity","clipPath","filter","transform"]),J3=Ny(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),td=10,eU=2e4;function tU(t){return Uy(t.type)||t.type==="spring"||!ZR(t.ease)}function nU(t,e){const n=new l0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const a=[];let l=0;for(;!r.done&&l<eU;)r=n.sample(l),a.push(r.value),l+=td;return{times:void 0,keyframes:a,duration:l-td,ease:"linear"}}const XC={anticipate:CC,backInOut:RC,circInOut:IC};function iU(t){return t in XC}class KS extends GC{constructor(e){super(e);const{name:n,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new qC(l,(u,h)=>this.onKeyframesResolved(u,h),n,r,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:a,ease:l,type:u,motionValue:h,name:d,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Zu()&&iU(l)&&(l=XC[l]),tU(this.options)){const{onComplete:_,onUpdate:T,motionValue:S,element:C,...V}=this.options,x=nU(e,V);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,a=x.times,l=x.ease,u="keyframes"}const g=Nk(h.owner.current,d,e,{...this.options,duration:r,times:a,ease:l});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(TS(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(Fd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:a,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return $i(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return $i(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Gi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return oi;const{animation:r}=n;TS(r,e)}return oi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:a,type:l,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:T,...S}=this.options,C=new l0({...S,keyframes:r,duration:a,type:l,ease:u,times:h,isGenerator:!0}),V=Gi(this.time);p.setWithVelocity(C.sample(V-td).value,C.sample(V).value,td)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:a,repeatType:l,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return J3()&&r&&Z3.has(r)&&(r!=="transform"||!p)&&!d&&!a&&l!=="mirror"&&u!==0&&h!=="inertia"}}const rU={type:"spring",stiffness:500,damping:25,restSpeed:10},sU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aU={type:"keyframes",duration:.8},oU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lU=(t,{keyframes:e})=>e.length>2?aU:ka.has(t)?t.startsWith("scale")?sU(e[1]):rU:oU;function uU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const u0=(t,e,n,r={},a,l)=>u=>{const h=jy(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Gi(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};uU(h)||(g={...g,...lU(t,g)}),g.duration&&(g.duration=Gi(g.duration)),g.repeatDelay&&(g.repeatDelay=Gi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),g.allowFlatten=!h.type&&!h.ease,_&&!l&&e.get()!==void 0){const T=Fd(g.keyframes,h);if(T!==void 0)return ft.update(()=>{g.onUpdate(T),g.onComplete()}),new Mk([])}return!l&&KS.supports(g)?new KS(g):new l0(g)};function cU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function WC(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const _=t.getValue(g,t.latestValues[g]??null),T=h[g];if(T===void 0||p&&cU(p,g))continue;const S={delay:n,...jy(l||{},g)};let C=!1;if(window.MotionHandoffAnimation){const x=TC(t);if(x){const M=window.MotionHandoffAnimation(x,g,ft);M!==null&&(S.startTime=M,C=!0)}}lv(t,g),_.start(u0(g,_,T,t.shouldReduceMotion&&bC.has(g)?{type:!1}:S,t,C));const V=_.animation;V&&d.push(V)}return u&&Promise.all(d).then(()=>{ft.update(()=>{u&&j4(t,u)})}),d}function yv(t,e,n={}){var d;const r=ic(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(WC(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:T}=a;return hU(t,e,g+p,_,T,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function hU(t,e,n=0,r=0,a=1,l){const u=[],h=(t.variantChildren.size-1)*r,d=a===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(fU).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(yv(p,e,{...l,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function fU(t,e){return t.sortNodePosition(e)}function dU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>yv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=yv(t,e,n);else{const a=typeof e=="function"?ic(t,e,n.custom):e;r=Promise.all(WC(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ZC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const mU=qy.length;function JC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?JC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mU;n++){const r=qy[n],a=t.props[r];(ec(a)||a===!1)&&(e[r]=a)}return e}const pU=[...Hy].reverse(),gU=Hy.length;function vU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dU(t,n,r)))}function yU(t){let e=vU(t),n=YS(),r=!0;const a=d=>(p,g)=>{var T;const _=ic(t,g,d==="exit"?(T=t.presenceContext)==null?void 0:T.custom:void 0);if(_){const{transition:S,transitionEnd:C,...V}=_;p={...p,...V,...C}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,g=JC(t.parent)||{},_=[],T=new Set;let S={},C=1/0;for(let x=0;x<gU;x++){const M=pU[x],G=n[M],H=p[M]!==void 0?p[M]:g[M],ee=ec(H),j=M===d?G.isActive:null;j===!1&&(C=x);let Z=H===g[M]&&H!==p[M]&&ee;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),G.protectedKeys={...S},!G.isActive&&j===null||!H&&!G.prevProp||Bd(H)||typeof H=="boolean")continue;const D=_U(G.prevProp,H);let w=D||M===d&&G.isActive&&!Z&&ee||x>C&&ee,I=!1;const N=Array.isArray(H)?H:[H];let B=N.reduce(a(M),{});j===!1&&(B={});const{prevResolvedValues:z={}}=G,P={...z,...B},Pe=oe=>{w=!0,T.has(oe)&&(I=!0,T.delete(oe)),G.needsAnimating[oe]=!0;const he=t.getValue(oe);he&&(he.liveStyle=!1)};for(const oe in P){const he=B[oe],Oe=z[oe];if(S.hasOwnProperty(oe))continue;let U=!1;ov(he)&&ov(Oe)?U=!ZC(he,Oe):U=he!==Oe,U?he!=null?Pe(oe):T.add(oe):he!==void 0&&T.has(oe)?Pe(oe):G.protectedKeys[oe]=!0}G.prevProp=H,G.prevResolvedValues=B,G.isActive&&(S={...S,...B}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(Z&&D)||I)&&_.push(...N.map(oe=>({animation:oe,options:{type:M}})))}if(T.size){const x={};if(typeof p.initial!="boolean"){const M=ic(t,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(x.transition=M.transition)}T.forEach(M=>{const G=t.getBaseTarget(M),H=t.getValue(M);H&&(H.liveStyle=!0),x[M]=G??null}),_.push({animation:x})}let V=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(_):Promise.resolve()}function h(d,p){var _;if(n[d].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(d,p)}),n[d].isActive=p;const g=u(d);for(const T in n)n[T].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=YS(),r=!0}}}function _U(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZC(e,t):!1}function ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YS(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class ks{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bU extends ks{constructor(e){super(e),e.animationState||(e.animationState=yU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let TU=0;class EU extends ks{constructor(){super(...arguments),this.id=TU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const SU={animation:{Feature:bU},exit:{Feature:EU}};function sc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wc(t){return{point:{x:t.pageX,y:t.pageY}}}const wU=t=>e=>Fy(e)&&t(e,wc(e));function ju(t,e,n,r){return sc(t,e,wU(n),r)}function ex({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const tx=1e-4,CU=1-tx,xU=1+tx,nx=.01,IU=0-nx,DU=0+nx;function An(t){return t.max-t.min}function OU(t,e,n){return Math.abs(t-e)<=n}function QS(t,e,n,r=.5){t.origin=r,t.originPoint=vt(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CU&&t.scale<=xU||isNaN(t.scale))&&(t.scale=1),(t.translate>=IU&&t.translate<=DU||isNaN(t.translate))&&(t.translate=0)}function Bu(t,e,n,r){QS(t.x,e.x,n.x,r?r.originX:void 0),QS(t.y,e.y,n.y,r?r.originY:void 0)}function XS(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function MU(t,e,n){XS(t.x,e.x,n.x),XS(t.y,e.y,n.y)}function WS(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function zu(t,e,n){WS(t.x,e.x,n.x),WS(t.y,e.y,n.y)}const ZS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:ZS(),y:ZS()}),JS=()=>({min:0,max:0}),Ct=()=>({x:JS(),y:JS()});function ri(t){return[t("x"),t("y")]}function gg(t){return t===void 0||t===1}function _v({scale:t,scaleX:e,scaleY:n}){return!gg(t)||!gg(e)||!gg(n)}function Ea(t){return _v(t)||ix(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ix(t){return ew(t.x)||ew(t.y)}function ew(t){return t&&t!=="0%"}function nd(t,e,n){const r=t-n,a=e*r;return n+a}function tw(t,e,n,r,a){return a!==void 0&&(t=nd(t,a,r)),nd(t,n,r)+e}function bv(t,e=0,n=1,r,a){t.min=tw(t.min,e,n,r,a),t.max=tw(t.max,e,n,r,a)}function rx(t,{x:e,y:n}){bv(t.x,e.translate,e.scale,e.originPoint),bv(t.y,n.translate,n.scale,n.originPoint)}const nw=.999999999999,iw=1.0000000000001;function VU(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,rx(t,u)),r&&Ea(l.latestValues)&&Bo(t,l.latestValues))}e.x<iw&&e.x>nw&&(e.x=1),e.y<iw&&e.y>nw&&(e.y=1)}function jo(t,e){t.min=t.min+e,t.max=t.max+e}function rw(t,e,n,r,a=.5){const l=vt(t.min,t.max,a);bv(t,e,n,l,r)}function Bo(t,e){rw(t.x,e.x,e.scaleX,e.scale,e.originX),rw(t.y,e.y,e.scaleY,e.scale,e.originY)}function sx(t,e){return ex(RU(t.getBoundingClientRect(),e))}function PU(t,e,n){const r=sx(t,n),{scroll:a}=e;return a&&(jo(r.x,a.offset.x),jo(r.y,a.offset.y)),r}const ax=({current:t})=>t?t.ownerDocument.defaultView:null,sw=(t,e)=>Math.abs(t-e);function NU(t,e){const n=sw(t.x,e.x),r=sw(t.y,e.y);return Math.sqrt(n**2+r**2)}class ox{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=yg(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=NU(_.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:C}=_,{timestamp:V}=nn;this.history.push({...C,timestamp:V});const{onStart:x,onMove:M}=this.handlers;T||(x&&x(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=vg(T,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=yg(_.type==="pointercancel"?this.lastMoveEventInfo:vg(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,x),C&&C(_,x)},!Fy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const u=wc(e),h=vg(u,this.transformPagePoint),{point:d}=h,{timestamp:p}=nn;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,yg(h,this.history)),this.removeListeners=Sc(ju(this.contextWindow,"pointermove",this.handlePointerMove),ju(this.contextWindow,"pointerup",this.handlePointerUp),ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function vg(t,e){return e?{point:e(t.point)}:t}function aw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yg({point:t},e){return{point:t,delta:aw(t,lx(e)),offset:aw(t,LU(e)),velocity:kU(e,.1)}}function LU(t){return t[0]}function lx(t){return t[t.length-1]}function kU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=lx(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Gi(e)));)n--;if(!r)return{x:0,y:0};const l=$i(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function UU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?vt(n,t,r.max):Math.min(t,n)),t}function ow(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jU(t,{top:e,left:n,bottom:r,right:a}){return{x:ow(t.x,n,a),y:ow(t.y,e,r)}}function lw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function BU(t,e){return{x:lw(t.x,e.x),y:lw(t.y,e.y)}}function zU(t,e){let n=.5;const r=An(t),a=An(e);return a>r?n=Wu(e.min,e.max-r,t.min):r>a&&(n=Wu(t.min,t.max-a,e.min)),Nr(0,1,n)}function FU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Tv=.35;function HU(t=Tv){return t===!1?t=0:t===!0&&(t=Tv),{x:uw(t,"left","right"),y:uw(t,"top","bottom")}}function uw(t,e,n){return{min:cw(t,e),max:cw(t,n)}}function cw(t,e){return typeof t=="number"?t:t[e]||0}const qU=new WeakMap;class GU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wc(g).point)},l=(g,_)=>{const{drag:T,dragPropagation:S,onDragStart:C}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bk(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(x=>{let M=this.getAxisMotionValue(x).get()||0;if(Yi.test(M)){const{projection:G}=this.visualElement;if(G&&G.layout){const H=G.layout.layoutBox[x];H&&(M=An(H)*(parseFloat(M)/100))}}this.originPoint[x]=M}),C&&ft.postRender(()=>C(g,_)),lv(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},u=(g,_)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:C,onDrag:V}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:x}=_;if(S&&this.currentDirection===null){this.currentDirection=$U(x),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,x),this.updateAxis("y",_.point,x),this.visualElement.render(),V&&V(g,_)},h=(g,_)=>this.stop(g,_),d=()=>ri(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ox(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:ax(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ft.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!of(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=UU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Lo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=jU(r.layoutBox,e):this.constraints=!1,this.elastic=HU(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ri(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=FU(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lo(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=PU(r,a.root,this.visualElement.getTransformPagePoint());let u=BU(a.layout.layoutBox,l);if(n){const h=n(AU(u));this.hasMutatedConstraints=!!h,h&&(u=ex(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ri(g=>{if(!of(g,n,this.currentDirection))return;let _=d&&d[g]||{};u&&(_={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(g,C)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return lv(this.visualElement,e),r.start(u0(e,r,0,n,this.visualElement,!1))}stopAnimation(){ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ri(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ri(n=>{const{drag:r}=this.getProps();if(!of(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-vt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Lo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ri(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=zU({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ri(u=>{if(!of(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(vt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;qU.set(this.visualElement,this);const e=this.visualElement.current,n=ju(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Lo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(r);const u=sc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ri(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=d[g].translate,_.set(_.get()+d[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Tv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function of(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $U(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KU extends ks{constructor(e){super(e),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new GU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const hw=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class YU extends ks{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(e){this.session=new ox(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ax(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:hw(e),onStart:hw(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&ft.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Su={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=fw(t,e.target.x),r=fw(t,e.target.y);return`${n}% ${r}%`}},QU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ps.parse(t);if(a.length>5)return r;const l=Ps.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=vt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};class XU extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;d4(WU),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,u=r.projection;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ux(t){const[e,n]=KR(),r=k.useContext(xy);return O.jsx(XU,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(oC),isPresent:e,safeToRemove:n})}const WU={borderRadius:{...Su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Su,borderTopRightRadius:Su,borderBottomLeftRadius:Su,borderBottomRightRadius:Su,boxShadow:QU};function ZU(t,e,n){const r=vn(t)?t:Ju(t);return r.start(u0("",r,e,n)),r.animation}function JU(t){return t instanceof SVGElement&&t.tagName!=="svg"}const ej=(t,e)=>t.depth-e.depth;class tj{constructor(){this.children=[],this.isDirty=!1}add(e){Vy(this.children,e),this.isDirty=!0}remove(e){Py(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ej),this.isDirty=!1,this.children.forEach(e)}}function nj(t,e){const n=Ki.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Vs(r),t(l-e))};return ft.read(r,!0),()=>Vs(r)}const cx=["TopLeft","TopRight","BottomLeft","BottomRight"],ij=cx.length,dw=t=>typeof t=="string"?parseFloat(t):t,mw=t=>typeof t=="number"||Se.test(t);function rj(t,e,n,r,a,l){a?(t.opacity=vt(0,n.opacity??1,sj(r)),t.opacityExit=vt(e.opacity??1,0,aj(r))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,r));for(let u=0;u<ij;u++){const h=`border${cx[u]}Radius`;let d=pw(e,h),p=pw(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||mw(d)===mw(p)?(t[h]=Math.max(vt(dw(d),dw(p),r),0),(Yi.test(p)||Yi.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,r))}function pw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sj=hx(0,.5,xC),aj=hx(.5,.95,oi);function hx(t,e,n){return r=>r<t?0:r>e?1:n(Wu(t,e,r))}function gw(t,e){t.min=e.min,t.max=e.max}function ii(t,e){gw(t.x,e.x),gw(t.y,e.y)}function vw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yw(t,e,n,r,a){return t-=e,t=nd(t,1/n,r),a!==void 0&&(t=nd(t,1/a,r)),t}function oj(t,e=0,n=1,r=.5,a,l=t,u=t){if(Yi.test(e)&&(e=parseFloat(e),e=vt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=vt(l.min,l.max,r);t===l&&(h-=e),t.min=yw(t.min,e,n,h,a),t.max=yw(t.max,e,n,h,a)}function _w(t,e,[n,r,a],l,u){oj(t,e[n],e[r],e[a],e.scale,l,u)}const lj=["x","scaleX","originX"],uj=["y","scaleY","originY"];function bw(t,e,n,r){_w(t.x,e,lj,n?n.x:void 0,r?r.x:void 0),_w(t.y,e,uj,n?n.y:void 0,r?r.y:void 0)}function Tw(t){return t.translate===0&&t.scale===1}function fx(t){return Tw(t.x)&&Tw(t.y)}function Ew(t,e){return t.min===e.min&&t.max===e.max}function cj(t,e){return Ew(t.x,e.x)&&Ew(t.y,e.y)}function Sw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dx(t,e){return Sw(t.x,e.x)&&Sw(t.y,e.y)}function ww(t){return An(t.x)/An(t.y)}function Aw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hj{constructor(){this.members=[]}add(e){Vy(this.members,e),e.scheduleRender()}remove(e){if(Py(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fj(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:T,skewX:S,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const _g=["","X","Y","Z"],dj={visibility:"hidden"},Rw=1e3;let mj=0;function bg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=TC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mx(r)}function px({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=mj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vj),this.nodes.forEach(Ej),this.nodes.forEach(Sj),this.nodes.forEach(yj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new tj)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ly),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JU(u),this.instance=u;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let _;const T=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=nj(T,250),Af.hasAnimatedSinceResize&&(Af.hasAnimatedSinceResize=!1,this.nodes.forEach(xw))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||xj,{onLayoutAnimationStart:x,onLayoutAnimationComplete:M}=g.getProps(),G=!this.targetLayout||!dx(this.targetLayout,C),H=!T&&S;if(this.options.layoutRoot||this.resumeFrom||H||T&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,H);const ee={...jy(V,"layout"),onPlay:x,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else T||xw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wj),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cw);return}this.isUpdating||this.nodes.forEach(bj),this.isUpdating=!1,this.nodes.forEach(Tj),this.nodes.forEach(pj),this.nodes.forEach(gj),this.clearAllSnapshots();const h=Ki.now();nn.delta=Nr(0,1e3/60,h-nn.timestamp),nn.timestamp=h,nn.isProcessing=!0,hg.update.process(nn),hg.preRender.process(nn),hg.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_j),this.sharedNodes.forEach(Aj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!fx(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(h||Ea(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),Ij(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return Ct();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Dj))){const{scroll:g}=this.root;g&&(jo(h.x,g.offset.x),jo(h.y,g.offset.y))}return h}removeElementScroll(u){var d;const h=Ct();if(ii(h,u),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:T}=g;g!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&ii(h,u),jo(h.x,_.offset.x),jo(h.y,_.offset.y))}return h}applyTransform(u,h=!1){const d=Ct();ii(d,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Bo(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ea(g.latestValues)&&Bo(d,g.latestValues)}return Ea(this.latestValues)&&Bo(d,this.latestValues),d}removeTransform(u){const h=Ct();ii(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ea(p.latestValues))continue;_v(p.latestValues)&&p.updateSnapshot();const g=Ct(),_=p.measurePageBox();ii(g,_),bw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ea(this.latestValues)&&bw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),zu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ii(this.target,this.layout.layoutBox),rx(this.target,this.targetDelta)):ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),zu(this.relativeTargetOrigin,this.target,S.target),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_v(this.parent.latestValues)||ix(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;ii(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;VU(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ct());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vw(this.prevProjectionDelta.x,this.projectionDelta.x),vw(this.prevProjectionDelta.y,this.projectionDelta.y)),Bu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!Aw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Aw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},_=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Ct(),S=d?d.source:void 0,C=this.layout?this.layout.source:void 0,V=S!==C,x=this.getStack(),M=!x||x.members.length<=1,G=!!(V&&!M&&this.options.crossfade===!0&&!this.path.some(Cj));this.animationProgress=0;let H;this.mixTargetDelta=ee=>{const j=ee/1e3;Iw(_.x,u.x,j),Iw(_.y,u.y,j),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zu(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rj(this.relativeTarget,this.relativeTargetOrigin,T,j),H&&cj(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Ct()),ii(H,this.relativeTarget)),V&&(this.animationValues=g,rj(g,p,this.latestValues,j,G,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Af.hasAnimatedSinceResize=!0,this.currentAnimation=ZU(0,Rw,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&gx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ct();const _=An(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+_;const T=An(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}ii(h,d),Bo(h,g),Bu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new hj),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&bg("z",u,p,this.animationValues);for(let g=0;g<_g.length;g++)bg(`rotate${_g[g]}`,u,p,this.animationValues),bg(`skew${_g[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return dj;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=wf(u==null?void 0:u.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=wf(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=fj(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:_,y:T}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in tc){if(g[S]===void 0)continue;const{correct:C,applyTo:V,isCSSVariable:x}=tc[S],M=h.transform==="none"?g[S]:C(g[S],p);if(V){const G=V.length;for(let H=0;H<G;H++)h[V[H]]=M}else x?this.options.visualElement.renderState.vars[S]=M:h[S]=M}return this.options.layoutId&&(h.pointerEvents=p===this?wf(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Cw),this.root.sharedNodes.clear()}}}function pj(t){t.updateLayout()}function gj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?ri(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],S=An(T);T.min=r[_].min,T.max=T.min+S}):gx(l,e.layoutBox,r)&&ri(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],S=An(r[_]);T.max=T.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const h=Uo();Bu(h,r,e.layoutBox);const d=Uo();u?Bu(d,t.applyTransform(a,!0),e.measuredBox):Bu(d,r,e.layoutBox);const p=!fx(h);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:S}=_;if(T&&S){const C=Ct();zu(C,e.layoutBox,T.layoutBox);const V=Ct();zu(V,r,S.layoutBox),dx(C,V)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=C,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function vj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _j(t){t.clearSnapshot()}function Cw(t){t.clearMeasurements()}function bj(t){t.isLayoutDirty=!1}function Tj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ej(t){t.resolveTargetDelta()}function Sj(t){t.calcProjection()}function wj(t){t.resetSkewAndRotation()}function Aj(t){t.removeLeadSnapshot()}function Iw(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Dw(t,e,n,r){t.min=vt(e.min,n.min,r),t.max=vt(e.max,n.max,r)}function Rj(t,e,n,r){Dw(t.x,e.x,n.x,r),Dw(t.y,e.y,n.y,r)}function Cj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xj={duration:.45,ease:[.4,0,.1,1]},Ow=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mw=Ow("applewebkit/")&&!Ow("chrome/")?Math.round:oi;function Vw(t){t.min=Mw(t.min),t.max=Mw(t.max)}function Ij(t){Vw(t.x),Vw(t.y)}function gx(t,e,n){return t==="position"||t==="preserve-aspect"&&!OU(ww(e),ww(n),.2)}function Dj(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Oj=px({attachResizeListener:(t,e)=>sc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tg={current:void 0},vx=px({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tg.current){const t=new Oj({});t.mount(window),t.setOptions({layoutScroll:!0}),Tg.current=t}return Tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Mj={pan:{Feature:YU},drag:{Feature:KU,ProjectionNode:vx,MeasureLayout:ux}};function Pw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ft.postRender(()=>l(e,wc(e)))}class Vj extends ks{mount(){const{current:e}=this.node;e&&(this.unmount=Fk(e,(n,r)=>(Pw(this.node,r,"Start"),a=>Pw(this.node,a,"End"))))}unmount(){}}class Pj extends ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sc(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ft.postRender(()=>l(e,wc(e)))}class Nj extends ks{mount(){const{current:e}=this.node;e&&(this.unmount=$k(e,(n,r)=>(Nw(this.node,r,"Start"),(a,{success:l})=>Nw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ev=new WeakMap,Eg=new WeakMap,Lj=t=>{const e=Ev.get(t.target);e&&e(t)},kj=t=>{t.forEach(Lj)};function Uj({root:t,...e}){const n=t||document;Eg.has(n)||Eg.set(n,{});const r=Eg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(kj,{root:t,...e})),r[a]}function jj(t,e,n){const r=Uj(e);return Ev.set(t,n),r.observe(t),()=>{Ev.delete(t),r.unobserve(t)}}const Bj={some:0,all:1};class zj extends ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Bj[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),T=p?g:_;T&&T(d)};return jj(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Fj(e,n))&&this.startObserver()}unmount(){}}function Fj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Hj={inView:{Feature:zj},tap:{Feature:Nj},focus:{Feature:Pj},hover:{Feature:Vj}},qj={layout:{ProjectionNode:vx,MeasureLayout:ux}},Sv={current:null},yx={current:!1};function Gj(){if(yx.current=!0,!!Dy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sv.current=t.matches;t.addListener(e),e()}else Sv.current=!1}const $j=[...HC,mn,Ps],Kj=t=>$j.find(FC(t)),Yj=new WeakMap;function Qj(t,e,n){for(const r in e){const a=e[r],l=n[r];if(vn(a))t.addValue(r,a);else if(vn(l))t.addValue(r,Ju(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,Ju(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Lw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Ki.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ft.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=u;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=zd(n),this.isVariantNode=sC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in T){const C=T[S];d[S]!==void 0&&vn(C)&&C.set(d[S],!1)}}mount(e){this.current=e,Yj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),yx.current||Gj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ka.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tl){const n=tl[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Lw.length;r++){const a=Lw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Qj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ju(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(BC(r)||DC(r))?r=parseFloat(r):!Kj(r)&&Ps.test(n)&&(r=kC(e,n)),this.setBaseTarget(e,vn(r)?r.get():r)),vn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=e0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!vn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ly),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _x extends Xj{constructor(){super(...arguments),this.KeyframeResolver=qC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Wj(t){return window.getComputedStyle(t)}class Zj extends _x{constructor(){super(...arguments),this.type="html",this.renderInstance=gC}readValueFromInstance(e,n){if(ka.has(n))return c3(e,n);{const r=Wj(e),a=($y(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sx(e,n)}build(e,n,r){Qy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return t0(e,n,r)}}class Jj extends _x{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&pC(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ka.has(n)){const r=LC(n);return r&&r.default||0}return n=vC.has(n)?n:Gy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _C(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&ft.postRender(this.updateDimensions)}build(e,n,r){Zy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,a){yC(e,n,r,a)}mount(e){this.isSVGTag=Jy(e.tagName),super.mount(e)}}const e6=(t,e)=>Wy(t)?new Jj(e):new Zj(e,{allowProjection:t!==k.Fragment}),t6=k4({...SU,...Hj,...Mj,...qj},e6),Qi=Jk(t6),bx="/assets/modal2-DgPDmW85.jpg",n6=({isOpen:t,onClose:e,children:n})=>(k.useEffect(()=>{const r=a=>{a.key==="Escape"&&e()};return t&&window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[t,e]),O.jsx(My,{children:t&&O.jsxs(Qi.div,{className:"fixed inset-0 flex items-center justify-center pt-6 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[O.jsx(Qi.div,{className:"absolute inset-0 bg-[rgba(0,0,0,0.4)]",onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}}),O.jsx(Qi.div,{className:"relative bg-white rounded-lg  w-full max-w-350 h-190 z-50 bg-contain bg-center bg-no-repeat z-40",style:{backgroundImage:`url(${bx})`,backgroundSize:"100%"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},onClick:r=>r.stopPropagation(),children:n})]},"modal-wrapper")})),Ur=({isOpen:t,onClose:e,children:n})=>(k.useEffect(()=>{const r=a=>{e&&a.key==="Escape"&&e()};return t&&window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[t,e]),O.jsx(My,{children:t&&O.jsxs(Qi.div,{className:"fixed inset-0 z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[O.jsx(Qi.div,{className:"absolute inset-0 bg-[rgba(0,0,0,0.4)]",onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}}),O.jsxs(Qi.div,{className:"relative bg-white rounded-lg p-6 w-full max-w-220 z-50 bg-cover bg-center",style:{backgroundImage:`url(${bx})`},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},onClick:r=>r.stopPropagation(),children:[e&&O.jsx("button",{onClick:e,className:`absolute -top-3 -right-3 bg-gray-300 border border-black rounded-full w-13 h-13 
                flex items-center justify-center text-sm cursor-pointer transition-all duration-300 
                hover:border-blue-500 hover:shadow-lg hover:scale-105`,children:"✕"}),n]})]},"modal-wrapper")})),i6=t=>Cy.find(e=>e.id===t),Tx=({isOpen:t,characterId:e,onClose:n})=>{const r=i6(e);return O.jsx(Ur,{isOpen:t,onClose:n,children:r&&O.jsxs("div",{className:"flex flex-col sm:flex-row p-6 rounded-xl max-w-full mx-auto",children:[O.jsx("img",{src:r.image,alt:r.name,className:"w-1/2 h-auto object-contain rounded-lg"}),O.jsxs("div",{className:"w-full sm:w-1/2 p-4",children:[O.jsx("h3",{className:"text-2xl font-bold mb-4",children:r.name}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.full_name}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.name_kana}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.age}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.grade}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.height}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.from}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.birth}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.star}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.blood}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.hobby}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.like}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.unlike}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.three_size}),O.jsx("p",{className:"text-gray-700 mb-1",children:r.description.feature}),O.jsx("p",{className:"text-gray-700 mt-1",children:r.description.coment})]})]})})},r6=t=>Cy.find(e=>e.id===t),s6=({characterId:t,onConfirm:e,onCancel:n})=>{const r=r6(t);return O.jsx(Ur,{isOpen:!!r,onClose:n,children:r&&O.jsxs("div",{className:"p-6 rounded-xl max-w-full mx-auto text-center space-y-4",children:[O.jsx("img",{src:r.image,alt:r.name,className:"w-70 h-auto mx-auto rounded"}),O.jsx("h2",{className:"text-lg font-bold mt-2",children:"このキャラクターを選択しますか？"}),O.jsx("p",{className:"text-sm font-bold text-red-500",children:"※キャラクターを変更すると、友好度メーターがリセットされます"}),O.jsx("div",{className:"flex justify-center gap-4 mt-4",children:O.jsx("button",{onClick:()=>{Be(kd),e()},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 hover:scale-105 duration-300",children:"はい"})})]})})},c0=({isOpen:t,onClose:e,voice:n,children:r,image:a})=>{const[l,u]=k.useState(0),h=Array.isArray(r)?r:[r],d=l+1>=h.length,p=k.useCallback(()=>{d?(e(),u(0)):u(_=>_+1)},[d,e]),g=k.useCallback(_=>{_.key==="Escape"&&(e(),u(0))},[p,e]);return k.useEffect(()=>{t&&n&&Be(n)},[t,n]),k.useEffect(()=>(t&&window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}),[t,g]),O.jsx(My,{children:t&&O.jsxs(Qi.div,{className:"fixed inset-0 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[O.jsx(Qi.div,{className:"absolute inset-0 bg-[rgba(0,0,0,0.7)] z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}}),O.jsxs(Qi.div,{className:"relative w-full max-w-280 h-[87vh]  bg-black rounded-lg flex flex-col items-center justify-center z-50 overflow-hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:p,children:[a&&O.jsx("img",{src:a,alt:"キャラ",className:"h-180 w-auto mb-6"}),O.jsx("div",{className:"fixed bg-black/50 text-white p-6 top-160 rounded-xl text-lg w-130  text-center backdrop-blur-sm",children:Array.isArray(r)?r.map((_,T)=>O.jsx("p",{className:`dialogue-line transition-opacity duration-500 ${T===l?"opacity-100":"opacity-0 h-0 overflow-hidden"}`,children:_},T)):r})]})]},"modal-wrapper")})},a6="/assets/chara1-D3QVnrSy.jpg",o6="/assets/chara2-DHsqkzEN.jpg",l6="/assets/chara3-BCXiUGqW.jpg",u6=[{id:1,characterId:1,image:a6,words:["わ、おにーさん！はじめま･･････ぷぷ。","沢山、イジめてあげるねー？"]},{id:2,characterId:2,image:o6,words:["ワタシ ソフィア。 ヨロシクネ"]},{id:2,characterId:3,image:l6,words:["今日もこれからも応援するね！"]}],c6=({isOpen:t,characterId:e,onClose:n})=>{const r=u6.find(a=>a.characterId===e);return!r||!e?null:O.jsx(c0,{image:r.image,isOpen:t,onClose:n,children:r.words.map((a,l)=>O.jsx("p",{className:"text-lg",children:a},l))})},h6="/assets/chara1_brother-Ce_MuQVo.mp3",f6="/assets/chara2_yorosiku-Cda9yV5X.mp3",d6="/assets/chara3_yondakana-CeA70_zw.mp3",m6=[{id:1,music:h6},{id:2,music:f6},{id:3,music:d6}],p6=({isOpen:t,onClose:e,isFirstLogin:n})=>{const[r,a]=k.useState(null),[l,u]=k.useState(null),[h,d]=k.useState(!1),p=async()=>{if(!(!rt.currentUser||!l)){try{const g=on(Qt,"users",rt.currentUser.uid);await bc(g,{characterId:l,affectionLevel:1}),console.log("キャラクター選択完了:",l)}catch(g){console.error("キャラクターの保存に失敗しました",g)}d(!0)}};return O.jsxs(O.Fragment,{children:[O.jsx(n6,{isOpen:t,onClose:n?()=>{}:e,children:O.jsxs("div",{className:"rounded shadow-lg w-full h-full",children:[O.jsx("h1",{className:"text-5xl font-bold text-center mt-5 mb-10",children:"３人の中からキャラクターを選んでね"}),O.jsx("div",{className:"flex justify-around items-end gap-4",children:wk.map(g=>{const _=Ak.find(T=>T.id===g.id);return O.jsxs("div",{className:"flex flex-col items-center relative",children:[O.jsx("img",{src:g.image,alt:g.name,onClick:()=>{Be(Pr),u(g.id)},onMouseEnter:()=>Be(Qf),className:`
                      w-80 h-120 object-contain cursor-pointer transition-all duration-300
                      border-4 rounded-lg hover:border-red-500 hover:shadow-lg hover:scale-105
                    `}),_&&O.jsx("button",{onClick:()=>{Be(Pr),a(g.id)},onMouseEnter:()=>Be(Qf),className:`absolute -top-7 -right-7 border-gray-300  rounded-full border border-transparentborder 
                          hover:scale-120 hover:border-red-500 hover:border-[3px]`,children:O.jsx("img",{src:_.image,alt:"詳細",className:"w-20 h-20"})}),O.jsx("div",{className:"text-3xl mb-2 mt-2",children:g.name})]},g.id)})}),O.jsx("div",{className:"flex justify-center mt-6",children:!n&&O.jsx("div",{className:"flex justify-center mt-6",children:O.jsx("button",{onClick:e,className:"border border-black bg-white text-black px-4 py-2 rounded hover:bg-gray-100 hover:scale-105 duration-300",children:"戻る"})})})]})}),O.jsx(Tx,{characterId:r,isOpen:!!r,onClose:()=>{Be(_i),a(null)}}),O.jsx(s6,{characterId:l,onConfirm:()=>{p();const g=m6.find(_=>_.id===l);g!=null&&g.music&&Be(g.music)},onCancel:()=>{Be(_i),u(null)}}),h&&O.jsx(c6,{isOpen:h,onClose:()=>{d(!1),u(null),e()},characterId:l})]})},g6="/assets/affection_0-UIrV1xps.png",v6="/assets/affection_1-BWf85beq.png",y6="/assets/affection_2-BAT2Jtzt.png",_6="/assets/affection_3-CTu8Hv7D.png",b6="/assets/affection_4-BVE2BqL7.png",T6="/assets/affection_5-CFMx-wZu.png",E6=[{id:1,image:g6},{id:2,image:v6},{id:3,image:y6},{id:4,image:_6},{id:5,image:b6},{id:6,image:T6}],S6=["未設定","男性","女性","その他"],w6=({isOpen:t,onComplete:e})=>{const[n,r]=k.useState(""),[a,l]=k.useState(""),[u,h]=k.useState({}),d=()=>{const g={};return n.trim()||(g.name="名前は必須です"),a||(g.gender="性別を選択してください"),h(g),Object.keys(g).length===0},p=async()=>{if(!rt.currentUser||!d())return;const g=on(Qt,"users",rt.currentUser.uid);await bc(g,{name:n,gender:a,loggedInFlg:!0}),e()};return O.jsx(Ur,{isOpen:t,children:O.jsxs("form",{className:"space-y-6 p-6 bg-white rounded-2xl shadow-lg max-w-md mx-auto",children:[O.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"ユーザー初回登録"}),O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsx("label",{className:"font-semibold",children:"名前"}),O.jsx("input",{type:"text",value:n,onChange:g=>r(g.target.value),className:"border px-3 py-2 rounded-lg shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"}),u.name&&O.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.name})]}),O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsx("label",{className:"font-semibold",children:"性別"}),O.jsx("select",{value:a,onChange:g=>l(g.target.value),className:"border px-3 py-2 rounded-lg shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300",children:S6.map(g=>O.jsx("option",{value:g,children:g},g))}),u.gender&&O.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.gender})]}),O.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:O.jsx("button",{type:"button",onClick:()=>{Be(kd),p()},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 hover:scale-105 duration-300",children:"保存してキャラ選択へ"})})]})})},A6=k.forwardRef(({onCharacterSelected:t},e)=>{const[n,r]=k.useState(null),[a,l]=k.useState(),[u,h]=k.useState(!1),[d,p]=k.useState(null),[g,_]=k.useState(!1),[T,S]=k.useState(!0),C=async()=>{if(!rt.currentUser)return;const Z=on(Qt,"users",rt.currentUser.uid),D=await Ji(Z);if(D.exists()){const w=D.data();r(w.characterId||null),l(w.affectionLevel||null)}};k.useImperativeHandle(e,()=>({refreshCharacterData:C})),k.useEffect(()=>{(async()=>{if(!rt.currentUser)return;const D=on(Qt,"users",rt.currentUser.uid),I=(await Ji(D)).data();I!=null&&I.loggedInFlg?(S(!1),C()):(S(!0),_(!0))})()},[]);const V=()=>{h(!0)},x=async()=>{S(!1),Be(_i),h(!1),await C(),t==null||t()},M=Sk.find(Z=>Z.id===n),G=E6.find(Z=>Z.id===a),H=M?M.image:null,ee=G?G.image:null,j=M?M.message:"おにいちゃん、がんばってね！";return O.jsxs("div",{className:"fixed right-0 top-12 h-full w-1/2 flex flex-col  z-20",children:[O.jsxs("div",{className:"relative flex justify-center items-center w-full pt-[50px]",children:[n&&O.jsxs(O.Fragment,{children:[O.jsx("img",{src:H,alt:`キャラ${n}`,className:`max-h-[70vh] object-contain drop-shadow-xl cursor-pointer transition-all duration-300
                    rounded-lg hover:scale-105`,onClick:()=>{Be(Pr),p(n)},onMouseEnter:()=>Be(Qf)}),O.jsx("div",{className:"fixed bg-black/30 left-195 text-white p-6 top-150 rounded-xl text-lg w-100  text-center backdrop-blur-sm",children:O.jsx("div",{children:j})})]}),O.jsxs("div",{className:"flex flex-col items-center relative",children:[O.jsx("button",{onClick:()=>{Be(Pr),V()},className:`px-8 py-4 rounded-full bg-pink-400 text-white font-semibold text-lg tracking-wide shadow-md
                      hover:bg-pink-500 hover:shadow-lg hover:scale-105 transition-all duration-300 ease-in-out
                      border-2 border-white/60 backdrop-blur-md`,children:"💖 キャラ選択 💖"}),a&&O.jsx("img",{src:ee,alt:`好感度: ${a}`,className:"w-30 h-full object-contain"})]})]}),O.jsx(p6,{isOpen:u,onClose:x,isFirstLogin:T}),O.jsx(Tx,{isOpen:d!==null,characterId:d,onClose:()=>{Be(_i),p(null)}}),O.jsx(w6,{isOpen:g,onComplete:()=>{_(!1),S(!0),h(!0)}})]})}),R6=({isOpen:t,task:e,onCancel:n,onConfirm:r})=>O.jsx(Ur,{isOpen:t,onClose:n,children:O.jsxs("div",{className:"text-center space-y-6",children:[O.jsx("p",{className:"text-lg font-semibold",children:"このタスクを諦めますか？"}),e&&O.jsx("div",{className:"rounded p-4 text-left shadow bg-gray-50",children:O.jsxs("div",{className:"flex items-start gap-4",children:[O.jsx("div",{className:"w-8 h-8 rounded-full mt-1",style:{backgroundColor:e.color}}),O.jsxs("div",{className:"space-y-1",children:[O.jsxs("p",{children:[O.jsx("span",{className:"font-semibold",children:"タイトル:"})," ",e.title]}),O.jsxs("p",{children:[O.jsx("span",{className:"font-semibold",children:"期限: "}),O.jsxs("span",{children:[e.dueDate," ","  "," ",e.dueTime&&` ${e.dueTime}`]})]}),O.jsxs("p",{children:[O.jsx("span",{className:"font-semibold",children:"レベル:"})," ",e.level]})]})]})}),O.jsxs("div",{className:"flex justify-center space-x-4",children:[O.jsx("button",{onClick:()=>{Be(_i),r()},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 hover:scale-105 duration-300",children:"削除"}),O.jsx("button",{onClick:()=>{Be(_i),n()},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 hover:scale-105 duration-300",children:"戻る"})]})]})});function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function C6(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ex(t){var e=C6(t,"string");return Pa(e)=="symbol"?e:e+""}function Mu(t,e,n){return(e=Ex(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kw(Object(n),!0).forEach(function(r){Mu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x6(t){if(Array.isArray(t))return t}function I6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,l,u,h=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=l.call(n)).done)&&(h.push(r.value),h.length!==e);d=!0);}catch(g){p=!0,a=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw a}}return h}}function wv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Sx(t,e){if(t){if(typeof t=="string")return wv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wv(t,e):void 0}}function D6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ir(t,e){return x6(t)||I6(t,e)||Sx(t,e)||D6()}function O6(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jr(t,e){if(t==null)return{};var n,r,a=O6(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var M6=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function V6(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,a=r===void 0?!1:r,l=t.defaultValue,u=l===void 0?null:l,h=t.inputValue,d=t.menuIsOpen,p=t.onChange,g=t.onInputChange,_=t.onMenuClose,T=t.onMenuOpen,S=t.value,C=jr(t,M6),V=k.useState(h!==void 0?h:n),x=Ir(V,2),M=x[0],G=x[1],H=k.useState(d!==void 0?d:a),ee=Ir(H,2),j=ee[0],Z=ee[1],D=k.useState(S!==void 0?S:u),w=Ir(D,2),I=w[0],N=w[1],B=k.useCallback(function(he,Oe){typeof p=="function"&&p(he,Oe),N(he)},[p]),z=k.useCallback(function(he,Oe){var U;typeof g=="function"&&(U=g(he,Oe)),G(U!==void 0?U:he)},[g]),P=k.useCallback(function(){typeof T=="function"&&T(),Z(!0)},[T]),Pe=k.useCallback(function(){typeof _=="function"&&_(),Z(!1)},[_]),Ie=h!==void 0?h:M,W=d!==void 0?d:j,oe=S!==void 0?S:I;return be(be({},C),{},{inputValue:Ie,menuIsOpen:W,onChange:B,onInputChange:z,onMenuClose:Pe,onMenuOpen:P,value:oe})}function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},we.apply(null,arguments)}function P6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ex(r.key),r)}}function N6(t,e,n){return e&&Uw(t.prototype,e),n&&Uw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Av(t,e){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Av(t,e)}function L6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Av(t,e)}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},id(t)}function wx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wx=function(){return!!t})()}function k6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U6(t,e){if(e&&(Pa(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6(t)}function j6(t){var e=wx();return function(){var n,r=id(t);if(e){var a=id(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return U6(this,n)}}function B6(t){if(Array.isArray(t))return wv(t)}function z6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h0(t){return B6(t)||z6(t)||Sx(t)||F6()}function H6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function q6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var G6=function(){function t(n){var r=this;this._insertTag=function(a){var l;r.tags.length===0?r.insertionPoint?l=r.insertionPoint.nextSibling:r.prepend?l=r.container.firstChild:l=r.before:l=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,l),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(q6(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var l=H6(a);try{l.insertRule(r,l.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t}(),dn="-ms-",rd="-moz-",Xe="-webkit-",Ax="comm",f0="rule",d0="decl",$6="@import",Rx="@keyframes",K6="@layer",Y6=Math.abs,Hd=String.fromCharCode,Q6=Object.assign;function X6(t,e){return sn(t,0)^45?(((e<<2^sn(t,0))<<2^sn(t,1))<<2^sn(t,2))<<2^sn(t,3):0}function Cx(t){return t.trim()}function W6(t,e){return(t=e.exec(t))?t[0]:t}function We(t,e,n){return t.replace(e,n)}function Rv(t,e){return t.indexOf(e)}function sn(t,e){return t.charCodeAt(e)|0}function ac(t,e,n){return t.slice(e,n)}function Bi(t){return t.length}function m0(t){return t.length}function lf(t,e){return e.push(t),t}function Z6(t,e){return t.map(e).join("")}var qd=1,il=1,xx=0,On=0,Pt=0,dl="";function Gd(t,e,n,r,a,l,u){return{value:t,root:e,parent:n,type:r,props:a,children:l,line:qd,column:il,length:u,return:""}}function wu(t,e){return Q6(Gd("",null,null,"",null,null,0),t,{length:-t.length},e)}function J6(){return Pt}function e5(){return Pt=On>0?sn(dl,--On):0,il--,Pt===10&&(il=1,qd--),Pt}function Fn(){return Pt=On<xx?sn(dl,On++):0,il++,Pt===10&&(il=1,qd++),Pt}function Xi(){return sn(dl,On)}function Rf(){return On}function Ac(t,e){return ac(dl,t,e)}function oc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ix(t){return qd=il=1,xx=Bi(dl=t),On=0,[]}function Dx(t){return dl="",t}function Cf(t){return Cx(Ac(On-1,Cv(t===91?t+2:t===40?t+1:t)))}function t5(t){for(;(Pt=Xi())&&Pt<33;)Fn();return oc(t)>2||oc(Pt)>3?"":" "}function n5(t,e){for(;--e&&Fn()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return Ac(t,Rf()+(e<6&&Xi()==32&&Fn()==32))}function Cv(t){for(;Fn();)switch(Pt){case t:return On;case 34:case 39:t!==34&&t!==39&&Cv(Pt);break;case 40:t===41&&Cv(t);break;case 92:Fn();break}return On}function i5(t,e){for(;Fn()&&t+Pt!==57;)if(t+Pt===84&&Xi()===47)break;return"/*"+Ac(e,On-1)+"*"+Hd(t===47?t:Fn())}function r5(t){for(;!oc(Xi());)Fn();return Ac(t,On)}function s5(t){return Dx(xf("",null,null,null,[""],t=Ix(t),0,[0],t))}function xf(t,e,n,r,a,l,u,h,d){for(var p=0,g=0,_=u,T=0,S=0,C=0,V=1,x=1,M=1,G=0,H="",ee=a,j=l,Z=r,D=H;x;)switch(C=G,G=Fn()){case 40:if(C!=108&&sn(D,_-1)==58){Rv(D+=We(Cf(G),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:D+=Cf(G);break;case 9:case 10:case 13:case 32:D+=t5(C);break;case 92:D+=n5(Rf()-1,7);continue;case 47:switch(Xi()){case 42:case 47:lf(a5(i5(Fn(),Rf()),e,n),d);break;default:D+="/"}break;case 123*V:h[p++]=Bi(D)*M;case 125*V:case 59:case 0:switch(G){case 0:case 125:x=0;case 59+g:M==-1&&(D=We(D,/\f/g,"")),S>0&&Bi(D)-_&&lf(S>32?Bw(D+";",r,n,_-1):Bw(We(D," ","")+";",r,n,_-2),d);break;case 59:D+=";";default:if(lf(Z=jw(D,e,n,p,g,a,h,H,ee=[],j=[],_),l),G===123)if(g===0)xf(D,e,Z,Z,ee,l,_,h,j);else switch(T===99&&sn(D,3)===110?100:T){case 100:case 108:case 109:case 115:xf(t,Z,Z,r&&lf(jw(t,Z,Z,0,0,a,h,H,a,ee=[],_),j),a,j,_,h,r?ee:j);break;default:xf(D,Z,Z,Z,[""],j,0,h,j)}}p=g=S=0,V=M=1,H=D="",_=u;break;case 58:_=1+Bi(D),S=C;default:if(V<1){if(G==123)--V;else if(G==125&&V++==0&&e5()==125)continue}switch(D+=Hd(G),G*V){case 38:M=g>0?1:(D+="\f",-1);break;case 44:h[p++]=(Bi(D)-1)*M,M=1;break;case 64:Xi()===45&&(D+=Cf(Fn())),T=Xi(),g=_=Bi(H=D+=r5(Rf())),G++;break;case 45:C===45&&Bi(D)==2&&(V=0)}}return l}function jw(t,e,n,r,a,l,u,h,d,p,g){for(var _=a-1,T=a===0?l:[""],S=m0(T),C=0,V=0,x=0;C<r;++C)for(var M=0,G=ac(t,_+1,_=Y6(V=u[C])),H=t;M<S;++M)(H=Cx(V>0?T[M]+" "+G:We(G,/&\f/g,T[M])))&&(d[x++]=H);return Gd(t,e,n,a===0?f0:h,d,p,g)}function a5(t,e,n){return Gd(t,e,n,Ax,Hd(J6()),ac(t,2,-2),0)}function Bw(t,e,n,r){return Gd(t,e,n,d0,ac(t,0,r),ac(t,r+1,-1),r)}function Go(t,e){for(var n="",r=m0(t),a=0;a<r;a++)n+=e(t[a],a,t,e)||"";return n}function o5(t,e,n,r){switch(t.type){case K6:if(t.children.length)break;case $6:case d0:return t.return=t.return||t.value;case Ax:return"";case Rx:return t.return=t.value+"{"+Go(t.children,r)+"}";case f0:t.value=t.props.join(",")}return Bi(n=Go(t.children,r))?t.return=t.value+"{"+n+"}":""}function l5(t){var e=m0(t);return function(n,r,a,l){for(var u="",h=0;h<e;h++)u+=t[h](n,r,a,l)||"";return u}}function u5(t){return function(e){e.root||(e=e.return)&&t(e)}}function c5(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var h5=function(e,n,r){for(var a=0,l=0;a=l,l=Xi(),a===38&&l===12&&(n[r]=1),!oc(l);)Fn();return Ac(e,On)},f5=function(e,n){var r=-1,a=44;do switch(oc(a)){case 0:a===38&&Xi()===12&&(n[r]=1),e[r]+=h5(On-1,n,r);break;case 2:e[r]+=Cf(a);break;case 4:if(a===44){e[++r]=Xi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Hd(a)}while(a=Fn());return e},d5=function(e,n){return Dx(f5(Ix(e),n))},zw=new WeakMap,m5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zw.get(r))&&!a){zw.set(e,!0);for(var l=[],u=d5(n,l),h=r.props,d=0,p=0;d<u.length;d++)for(var g=0;g<h.length;g++,p++)e.props[p]=l[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},p5=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Ox(t,e){switch(X6(t,e)){case 5103:return Xe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+t+rd+t+dn+t+t;case 6828:case 4268:return Xe+t+dn+t+t;case 6165:return Xe+t+dn+"flex-"+t+t;case 5187:return Xe+t+We(t,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+dn+"flex-$1$2")+t;case 5443:return Xe+t+dn+"flex-item-"+We(t,/flex-|-self/,"")+t;case 4675:return Xe+t+dn+"flex-line-pack"+We(t,/align-content|flex-|-self/,"")+t;case 5548:return Xe+t+dn+We(t,"shrink","negative")+t;case 5292:return Xe+t+dn+We(t,"basis","preferred-size")+t;case 6060:return Xe+"box-"+We(t,"-grow","")+Xe+t+dn+We(t,"grow","positive")+t;case 4554:return Xe+We(t,/([^-])(transform)/g,"$1"+Xe+"$2")+t;case 6187:return We(We(We(t,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),t,"")+t;case 5495:case 3959:return We(t,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return We(We(t,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+t+t;case 4095:case 3583:case 4068:case 2532:return We(t,/(.+)-inline(.+)/,Xe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bi(t)-1-e>6)switch(sn(t,e+1)){case 109:if(sn(t,e+4)!==45)break;case 102:return We(t,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+rd+(sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Rv(t,"stretch")?Ox(We(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(sn(t,e+1)!==115)break;case 6444:switch(sn(t,Bi(t)-3-(~Rv(t,"!important")&&10))){case 107:return We(t,":",":"+Xe)+t;case 101:return We(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xe+(sn(t,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+dn+"$2box$3")+t}break;case 5936:switch(sn(t,e+11)){case 114:return Xe+t+dn+We(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Xe+t+dn+We(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Xe+t+dn+We(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Xe+t+dn+t+t}return t}var g5=function(e,n,r,a){if(e.length>-1&&!e.return)switch(e.type){case d0:e.return=Ox(e.value,e.length);break;case Rx:return Go([wu(e,{value:We(e.value,"@","@"+Xe)})],a);case f0:if(e.length)return Z6(e.props,function(l){switch(W6(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Go([wu(e,{props:[We(l,/:(read-\w+)/,":"+rd+"$1")]})],a);case"::placeholder":return Go([wu(e,{props:[We(l,/:(plac\w+)/,":"+Xe+"input-$1")]}),wu(e,{props:[We(l,/:(plac\w+)/,":"+rd+"$1")]}),wu(e,{props:[We(l,/:(plac\w+)/,dn+"input-$1")]})],a)}return""})}},v5=[g5],y5=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(V){var x=V.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(V),V.setAttribute("data-s",""))})}var a=e.stylisPlugins||v5,l={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(V){for(var x=V.getAttribute("data-emotion").split(" "),M=1;M<x.length;M++)l[x[M]]=!0;h.push(V)});var d,p=[m5,p5];{var g,_=[o5,u5(function(V){g.insert(V)})],T=l5(p.concat(a,_)),S=function(x){return Go(s5(x),T)};d=function(x,M,G,H){g=G,S(x?x+"{"+M.styles+"}":M.styles),H&&(C.inserted[M.name]=!0)}}var C={key:n,sheet:new G6({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:d};return C.sheet.hydrate(h),C},Sg={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function _5(){if(Fw)return Je;Fw=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,h=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,_=t?Symbol.for("react.suspense"):60113,T=t?Symbol.for("react.suspense_list"):60120,S=t?Symbol.for("react.memo"):60115,C=t?Symbol.for("react.lazy"):60116,V=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,M=t?Symbol.for("react.responder"):60118,G=t?Symbol.for("react.scope"):60119;function H(j){if(typeof j=="object"&&j!==null){var Z=j.$$typeof;switch(Z){case e:switch(j=j.type,j){case d:case p:case r:case l:case a:case _:return j;default:switch(j=j&&j.$$typeof,j){case h:case g:case C:case S:case u:return j;default:return Z}}case n:return Z}}}function ee(j){return H(j)===p}return Je.AsyncMode=d,Je.ConcurrentMode=p,Je.ContextConsumer=h,Je.ContextProvider=u,Je.Element=e,Je.ForwardRef=g,Je.Fragment=r,Je.Lazy=C,Je.Memo=S,Je.Portal=n,Je.Profiler=l,Je.StrictMode=a,Je.Suspense=_,Je.isAsyncMode=function(j){return ee(j)||H(j)===d},Je.isConcurrentMode=ee,Je.isContextConsumer=function(j){return H(j)===h},Je.isContextProvider=function(j){return H(j)===u},Je.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Je.isForwardRef=function(j){return H(j)===g},Je.isFragment=function(j){return H(j)===r},Je.isLazy=function(j){return H(j)===C},Je.isMemo=function(j){return H(j)===S},Je.isPortal=function(j){return H(j)===n},Je.isProfiler=function(j){return H(j)===l},Je.isStrictMode=function(j){return H(j)===a},Je.isSuspense=function(j){return H(j)===_},Je.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===p||j===l||j===a||j===_||j===T||typeof j=="object"&&j!==null&&(j.$$typeof===C||j.$$typeof===S||j.$$typeof===u||j.$$typeof===h||j.$$typeof===g||j.$$typeof===x||j.$$typeof===M||j.$$typeof===G||j.$$typeof===V)},Je.typeOf=H,Je}var Hw;function b5(){return Hw||(Hw=1,Sg.exports=_5()),Sg.exports}var wg,qw;function T5(){if(qw)return wg;qw=1;var t=b5(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=r,l[t.Memo]=a;function u(C){return t.isMemo(C)?a:l[C.$$typeof]||e}var h=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,T=Object.prototype;function S(C,V,x){if(typeof V!="string"){if(T){var M=_(V);M&&M!==T&&S(C,M,x)}var G=d(V);p&&(G=G.concat(p(V)));for(var H=u(C),ee=u(V),j=0;j<G.length;++j){var Z=G[j];if(!n[Z]&&!(x&&x[Z])&&!(ee&&ee[Z])&&!(H&&H[Z])){var D=g(V,Z);try{h(C,Z,D)}catch{}}}}return C}return wg=S,wg}T5();var E5=!0;function S5(t,e,n){var r="";return n.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(r+=a+" ")}),r}var Mx=function(e,n,r){var a=e.key+"-"+n.name;(r===!1||E5===!1)&&e.registered[a]===void 0&&(e.registered[a]=n.styles)},w5=function(e,n,r){Mx(e,n,r);var a=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var l=n;do e.insert(n===l?"."+a:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function A5(t){for(var e=0,n,r=0,a=t.length;a>=4;++r,a-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var R5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},C5=/[A-Z]|^ms/g,x5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Vx=function(e){return e.charCodeAt(1)===45},Gw=function(e){return e!=null&&typeof e!="boolean"},Ag=c5(function(t){return Vx(t)?t:t.replace(C5,"-$&").toLowerCase()}),$w=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(x5,function(r,a,l){return zi={name:a,styles:l,next:zi},a})}return R5[e]!==1&&!Vx(e)&&typeof n=="number"&&n!==0?n+"px":n};function lc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return zi={name:a.name,styles:a.styles,next:zi},a.name;var l=n;if(l.styles!==void 0){var u=l.next;if(u!==void 0)for(;u!==void 0;)zi={name:u.name,styles:u.styles,next:zi},u=u.next;var h=l.styles+";";return h}return I5(t,e,n)}case"function":{if(t!==void 0){var d=zi,p=n(t);return zi=d,lc(t,e,p)}break}}var g=n;return g}function I5(t,e,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=lc(t,e,n[a])+";";else for(var l in n){var u=n[l];if(typeof u!="object"){var h=u;Gw(h)&&(r+=Ag(l)+":"+$w(l,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var d=0;d<u.length;d++)Gw(u[d])&&(r+=Ag(l)+":"+$w(l,u[d])+";");else{var p=lc(t,e,u);switch(l){case"animation":case"animationName":{r+=Ag(l)+":"+p+";";break}default:r+=l+"{"+p+"}"}}}return r}var Kw=/label:\s*([^\s;{]+)\s*(;|$)/g,zi;function Px(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";zi=void 0;var l=t[0];if(l==null||l.raw===void 0)r=!1,a+=lc(n,e,l);else{var u=l;a+=u[0]}for(var h=1;h<t.length;h++)if(a+=lc(n,e,t[h]),r){var d=l;a+=d[h]}Kw.lastIndex=0;for(var p="",g;(g=Kw.exec(a))!==null;)p+="-"+g[1];var _=A5(a)+p;return{name:_,styles:a,next:zi}}var D5=function(e){return e()},O5=kT.useInsertionEffect?kT.useInsertionEffect:!1,M5=O5||D5,Nx=k.createContext(typeof HTMLElement<"u"?y5({key:"css"}):null);Nx.Provider;var V5=function(e){return k.forwardRef(function(n,r){var a=k.useContext(Nx);return e(n,a,r)})},P5=k.createContext({}),p0={}.hasOwnProperty,xv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",N5=function(e,n){var r={};for(var a in n)p0.call(n,a)&&(r[a]=n[a]);return r[xv]=e,r},L5=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return Mx(n,r,a),M5(function(){return w5(n,r,a)}),null},k5=V5(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=t[xv],l=[r],u="";typeof t.className=="string"?u=S5(e.registered,l,t.className):t.className!=null&&(u=t.className+" ");var h=Px(l,void 0,k.useContext(P5));u+=e.key+"-"+h.name;var d={};for(var p in t)p0.call(t,p)&&p!=="css"&&p!==xv&&(d[p]=t[p]);return d.className=u,n&&(d.ref=n),k.createElement(k.Fragment,null,k.createElement(L5,{cache:e,serialized:h,isStringTag:typeof a=="string"}),k.createElement(a,d))}),U5=k5,ye=function(e,n){var r=arguments;if(n==null||!p0.call(n,"css"))return k.createElement.apply(void 0,r);var a=r.length,l=new Array(a);l[0]=U5,l[1]=N5(e,n);for(var u=2;u<a;u++)l[u]=r[u];return k.createElement.apply(null,l)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ye||(ye={}));function g0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Px(e)}function j5(){var t=g0.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function B5(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var z5=_A();const F5=Math.min,H5=Math.max,sd=Math.round,uf=Math.floor,ad=t=>({x:t,y:t});function q5(t){const{x:e,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:e,right:e+r,bottom:n+a,x:e,y:n}}function $d(){return typeof window<"u"}function Lx(t){return Ux(t)?(t.nodeName||"").toLowerCase():"#document"}function Lr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kx(t){var e;return(e=(Ux(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ux(t){return $d()?t instanceof Node||t instanceof Lr(t).Node:!1}function G5(t){return $d()?t instanceof Element||t instanceof Lr(t).Element:!1}function v0(t){return $d()?t instanceof HTMLElement||t instanceof Lr(t).HTMLElement:!1}function Yw(t){return!$d()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Lr(t).ShadowRoot}function jx(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=y0(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(a)}function $5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function K5(t){return["html","body","#document"].includes(Lx(t))}function y0(t){return Lr(t).getComputedStyle(t)}function Y5(t){if(Lx(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Yw(t)&&t.host||kx(t);return Yw(e)?e.host:e}function Bx(t){const e=Y5(t);return K5(e)?t.ownerDocument?t.ownerDocument.body:t.body:v0(e)&&jx(e)?e:Bx(e)}function od(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Bx(t),l=a===((r=t.ownerDocument)==null?void 0:r.body),u=Lr(a);if(l){const h=Iv(u);return e.concat(u,u.visualViewport||[],jx(a)?a:[],h&&n?od(h):[])}return e.concat(a,od(a,[],n))}function Iv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Q5(t){const e=y0(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=v0(t),l=a?t.offsetWidth:n,u=a?t.offsetHeight:r,h=sd(n)!==l||sd(r)!==u;return h&&(n=l,r=u),{width:n,height:r,$:h}}function _0(t){return G5(t)?t:t.contextElement}function Qw(t){const e=_0(t);if(!v0(e))return ad(1);const n=e.getBoundingClientRect(),{width:r,height:a,$:l}=Q5(e);let u=(l?sd(n.width):n.width)/r,h=(l?sd(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const X5=ad(0);function W5(t){const e=Lr(t);return!$5()||!e.visualViewport?X5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Z5(t,e,n){return!1}function Xw(t,e,n,r){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),l=_0(t);let u=ad(1);e&&(u=Qw(t));const h=Z5()?W5(l):ad(0);let d=(a.left+h.x)/u.x,p=(a.top+h.y)/u.y,g=a.width/u.x,_=a.height/u.y;if(l){const T=Lr(l),S=r;let C=T,V=Iv(C);for(;V&&r&&S!==C;){const x=Qw(V),M=V.getBoundingClientRect(),G=y0(V),H=M.left+(V.clientLeft+parseFloat(G.paddingLeft))*x.x,ee=M.top+(V.clientTop+parseFloat(G.paddingTop))*x.y;d*=x.x,p*=x.y,g*=x.x,_*=x.y,d+=H,p+=ee,C=Lr(V),V=Iv(C)}}return q5({width:g,height:_,x:d,y:p})}function zx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function J5(t,e){let n=null,r;const a=kx(t);function l(){var h;clearTimeout(r),(h=n)==null||h.disconnect(),n=null}function u(h,d){h===void 0&&(h=!1),d===void 0&&(d=1),l();const p=t.getBoundingClientRect(),{left:g,top:_,width:T,height:S}=p;if(h||e(),!T||!S)return;const C=uf(_),V=uf(a.clientWidth-(g+T)),x=uf(a.clientHeight-(_+S)),M=uf(g),H={rootMargin:-C+"px "+-V+"px "+-x+"px "+-M+"px",threshold:H5(0,F5(1,d))||1};let ee=!0;function j(Z){const D=Z[0].intersectionRatio;if(D!==d){if(!ee)return u();D?u(!1,D):r=setTimeout(()=>{u(!1,1e-7)},1e3)}D===1&&!zx(p,t.getBoundingClientRect())&&u(),ee=!1}try{n=new IntersectionObserver(j,{...H,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,H)}n.observe(t)}return u(!0),l}function e9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=_0(t),g=a||l?[...p?od(p):[],...od(e)]:[];g.forEach(M=>{a&&M.addEventListener("scroll",n,{passive:!0}),l&&M.addEventListener("resize",n)});const _=p&&h?J5(p,n):null;let T=-1,S=null;u&&(S=new ResizeObserver(M=>{let[G]=M;G&&G.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var H;(H=S)==null||H.observe(e)})),n()}),p&&!d&&S.observe(p),S.observe(e));let C,V=d?Xw(t):null;d&&x();function x(){const M=Xw(t);V&&!zx(V,M)&&n(),V=M,C=requestAnimationFrame(x)}return n(),()=>{var M;g.forEach(G=>{a&&G.removeEventListener("scroll",n),l&&G.removeEventListener("resize",n)}),_==null||_(),(M=S)==null||M.disconnect(),S=null,d&&cancelAnimationFrame(C)}}var Dv=k.useLayoutEffect,t9=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ld=function(){};function n9(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function i9(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var l=[].concat(r);if(e&&t)for(var u in e)e.hasOwnProperty(u)&&e[u]&&l.push("".concat(n9(t,u)));return l.filter(function(h){return h}).map(function(h){return String(h).trim()}).join(" ")}var Ww=function(e){return f9(e)?e.filter(Boolean):Pa(e)==="object"&&e!==null?[e]:[]},Fx=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=jr(e,t9);return be({},n)},St=function(e,n,r){var a=e.cx,l=e.getStyles,u=e.getClassNames,h=e.className;return{css:l(n,e),className:a(r??{},u(n,e),h)}};function Kd(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function r9(t){return Kd(t)?window.innerHeight:t.clientHeight}function Hx(t){return Kd(t)?window.pageYOffset:t.scrollTop}function ud(t,e){if(Kd(t)){window.scrollTo(0,e);return}t.scrollTop=e}function s9(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function a9(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function cf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ld,a=Hx(t),l=e-a,u=10,h=0;function d(){h+=u;var p=a9(h,a,l,n);ud(t,p),h<n?window.requestAnimationFrame(d):r(t)}d()}function Zw(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),a=e.offsetHeight/3;r.bottom+a>n.bottom?ud(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):r.top-a<n.top&&ud(t,Math.max(e.offsetTop-a,0))}function o9(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Jw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function l9(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var qx=!1,u9={get passive(){return qx=!0}},hf=typeof window<"u"?window:{};hf.addEventListener&&hf.removeEventListener&&(hf.addEventListener("p",ld,u9),hf.removeEventListener("p",ld,!1));var c9=qx;function h9(t){return t!=null}function f9(t){return Array.isArray(t)}function ff(t,e,n){return t?e:n}var d9=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var l=Object.entries(e).filter(function(u){var h=Ir(u,1),d=h[0];return!r.includes(d)});return l.reduce(function(u,h){var d=Ir(h,2),p=d[0],g=d[1];return u[p]=g,u},{})},m9=["children","innerProps"],p9=["children","innerProps"];function g9(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,a=t.placement,l=t.shouldScroll,u=t.isFixedPosition,h=t.controlHeight,d=s9(n),p={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return p;var g=d.getBoundingClientRect(),_=g.height,T=n.getBoundingClientRect(),S=T.bottom,C=T.height,V=T.top,x=n.offsetParent.getBoundingClientRect(),M=x.top,G=u?window.innerHeight:r9(d),H=Hx(d),ee=parseInt(getComputedStyle(n).marginBottom,10),j=parseInt(getComputedStyle(n).marginTop,10),Z=M-j,D=G-V,w=Z+H,I=_-H-V,N=S-G+H+ee,B=H+V-j,z=160;switch(a){case"auto":case"bottom":if(D>=C)return{placement:"bottom",maxHeight:e};if(I>=C&&!u)return l&&cf(d,N,z),{placement:"bottom",maxHeight:e};if(!u&&I>=r||u&&D>=r){l&&cf(d,N,z);var P=u?D-ee:I-ee;return{placement:"bottom",maxHeight:P}}if(a==="auto"||u){var Pe=e,Ie=u?Z:w;return Ie>=r&&(Pe=Math.min(Ie-ee-h,e)),{placement:"top",maxHeight:Pe}}if(a==="bottom")return l&&ud(d,N),{placement:"bottom",maxHeight:e};break;case"top":if(Z>=C)return{placement:"top",maxHeight:e};if(w>=C&&!u)return l&&cf(d,B,z),{placement:"top",maxHeight:e};if(!u&&w>=r||u&&Z>=r){var W=e;return(!u&&w>=r||u&&Z>=r)&&(W=u?Z-j:w-j),l&&cf(d,B,z),{placement:"top",maxHeight:W}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return p}function v9(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Gx=function(e){return e==="auto"?"bottom":e},y9=function(e,n){var r,a=e.placement,l=e.theme,u=l.borderRadius,h=l.spacing,d=l.colors;return be((r={label:"menu"},Mu(r,v9(a),"100%"),Mu(r,"position","absolute"),Mu(r,"width","100%"),Mu(r,"zIndex",1),r),n?{}:{backgroundColor:d.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:h.menuGutter,marginTop:h.menuGutter})},$x=k.createContext(null),_9=function(e){var n=e.children,r=e.minMenuHeight,a=e.maxMenuHeight,l=e.menuPlacement,u=e.menuPosition,h=e.menuShouldScrollIntoView,d=e.theme,p=k.useContext($x)||{},g=p.setPortalPlacement,_=k.useRef(null),T=k.useState(a),S=Ir(T,2),C=S[0],V=S[1],x=k.useState(null),M=Ir(x,2),G=M[0],H=M[1],ee=d.spacing.controlHeight;return Dv(function(){var j=_.current;if(j){var Z=u==="fixed",D=h&&!Z,w=g9({maxHeight:a,menuEl:j,minHeight:r,placement:l,shouldScroll:D,isFixedPosition:Z,controlHeight:ee});V(w.maxHeight),H(w.placement),g==null||g(w.placement)}},[a,l,u,h,r,g,ee]),n({ref:_,placerProps:be(be({},e),{},{placement:G||Gx(l),maxHeight:C})})},b9=function(e){var n=e.children,r=e.innerRef,a=e.innerProps;return ye("div",we({},St(e,"menu",{menu:!0}),{ref:r},a),n)},T9=b9,E9=function(e,n){var r=e.maxHeight,a=e.theme.spacing.baseUnit;return be({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:a,paddingTop:a})},S9=function(e){var n=e.children,r=e.innerProps,a=e.innerRef,l=e.isMulti;return ye("div",we({},St(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:a},r),n)},Kx=function(e,n){var r=e.theme,a=r.spacing.baseUnit,l=r.colors;return be({textAlign:"center"},n?{}:{color:l.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},w9=Kx,A9=Kx,R9=function(e){var n=e.children,r=n===void 0?"No options":n,a=e.innerProps,l=jr(e,m9);return ye("div",we({},St(be(be({},l),{},{children:r,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),r)},C9=function(e){var n=e.children,r=n===void 0?"Loading...":n,a=e.innerProps,l=jr(e,p9);return ye("div",we({},St(be(be({},l),{},{children:r,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),r)},x9=function(e){var n=e.rect,r=e.offset,a=e.position;return{left:n.left,position:a,top:r,width:n.width,zIndex:1}},I9=function(e){var n=e.appendTo,r=e.children,a=e.controlElement,l=e.innerProps,u=e.menuPlacement,h=e.menuPosition,d=k.useRef(null),p=k.useRef(null),g=k.useState(Gx(u)),_=Ir(g,2),T=_[0],S=_[1],C=k.useMemo(function(){return{setPortalPlacement:S}},[]),V=k.useState(null),x=Ir(V,2),M=x[0],G=x[1],H=k.useCallback(function(){if(a){var D=o9(a),w=h==="fixed"?0:window.pageYOffset,I=D[T]+w;(I!==(M==null?void 0:M.offset)||D.left!==(M==null?void 0:M.rect.left)||D.width!==(M==null?void 0:M.rect.width))&&G({offset:I,rect:D})}},[a,h,T,M==null?void 0:M.offset,M==null?void 0:M.rect.left,M==null?void 0:M.rect.width]);Dv(function(){H()},[H]);var ee=k.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),a&&d.current&&(p.current=e9(a,d.current,H,{elementResize:"ResizeObserver"in window}))},[a,H]);Dv(function(){ee()},[ee]);var j=k.useCallback(function(D){d.current=D,ee()},[ee]);if(!n&&h!=="fixed"||!M)return null;var Z=ye("div",we({ref:j},St(be(be({},e),{},{offset:M.offset,position:h,rect:M.rect}),"menuPortal",{"menu-portal":!0}),l),r);return ye($x.Provider,{value:C},n?z5.createPortal(Z,n):Z)},D9=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},O9=function(e){var n=e.children,r=e.innerProps,a=e.isDisabled,l=e.isRtl;return ye("div",we({},St(e,"container",{"--is-disabled":a,"--is-rtl":l}),r),n)},M9=function(e,n){var r=e.theme.spacing,a=e.isMulti,l=e.hasValue,u=e.selectProps.controlShouldRenderValue;return be({alignItems:"center",display:a&&l&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},V9=function(e){var n=e.children,r=e.innerProps,a=e.isMulti,l=e.hasValue;return ye("div",we({},St(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l}),r),n)},P9=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},N9=function(e){var n=e.children,r=e.innerProps;return ye("div",we({},St(e,"indicatorsContainer",{indicators:!0}),r),n)},eA,L9=["size"],k9=["innerProps","isRtl","size"],U9={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Yx=function(e){var n=e.size,r=jr(e,L9);return ye("svg",we({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:U9},r))},b0=function(e){return ye(Yx,we({size:20},e),ye("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Qx=function(e){return ye(Yx,we({size:20},e),ye("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Xx=function(e,n){var r=e.isFocused,a=e.theme,l=a.spacing.baseUnit,u=a.colors;return be({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?u.neutral60:u.neutral20,padding:l*2,":hover":{color:r?u.neutral80:u.neutral40}})},j9=Xx,B9=function(e){var n=e.children,r=e.innerProps;return ye("div",we({},St(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ye(Qx,null))},z9=Xx,F9=function(e){var n=e.children,r=e.innerProps;return ye("div",we({},St(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ye(b0,null))},H9=function(e,n){var r=e.isDisabled,a=e.theme,l=a.spacing.baseUnit,u=a.colors;return be({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:l*2,marginTop:l*2})},q9=function(e){var n=e.innerProps;return ye("span",we({},n,St(e,"indicatorSeparator",{"indicator-separator":!0})))},G9=j5(eA||(eA=B5([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),$9=function(e,n){var r=e.isFocused,a=e.size,l=e.theme,u=l.colors,h=l.spacing.baseUnit;return be({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?u.neutral60:u.neutral20,padding:h*2})},Rg=function(e){var n=e.delay,r=e.offset;return ye("span",{css:g0({animation:"".concat(G9," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},K9=function(e){var n=e.innerProps,r=e.isRtl,a=e.size,l=a===void 0?4:a,u=jr(e,k9);return ye("div",we({},St(be(be({},u),{},{innerProps:n,isRtl:r,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ye(Rg,{delay:0,offset:r}),ye(Rg,{delay:160,offset:!0}),ye(Rg,{delay:320,offset:!r}))},Y9=function(e,n){var r=e.isDisabled,a=e.isFocused,l=e.theme,u=l.colors,h=l.borderRadius,d=l.spacing;return be({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:a?u.primary:u.neutral20,borderRadius:h,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:a?u.primary:u.neutral30}})},Q9=function(e){var n=e.children,r=e.isDisabled,a=e.isFocused,l=e.innerRef,u=e.innerProps,h=e.menuIsOpen;return ye("div",we({ref:l},St(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":a,"control--menu-is-open":h}),u,{"aria-disabled":r||void 0}),n)},X9=Q9,W9=["data"],Z9=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},J9=function(e){var n=e.children,r=e.cx,a=e.getStyles,l=e.getClassNames,u=e.Heading,h=e.headingProps,d=e.innerProps,p=e.label,g=e.theme,_=e.selectProps;return ye("div",we({},St(e,"group",{group:!0}),d),ye(u,we({},h,{selectProps:_,theme:g,getStyles:a,getClassNames:l,cx:r}),p),ye("div",null,n))},eB=function(e,n){var r=e.theme,a=r.colors,l=r.spacing;return be({label:"group",cursor:"default",display:"block"},n?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},tB=function(e){var n=Fx(e);n.data;var r=jr(n,W9);return ye("div",we({},St(e,"groupHeading",{"group-heading":!0}),r))},nB=J9,iB=["innerRef","isDisabled","isHidden","inputClassName"],rB=function(e,n){var r=e.isDisabled,a=e.value,l=e.theme,u=l.spacing,h=l.colors;return be(be({visibility:r?"hidden":"visible",transform:a?"translateZ(0)":""},sB),n?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:h.neutral80})},Wx={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},sB={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":be({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Wx)},aB=function(e){return be({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Wx)},oB=function(e){var n=e.cx,r=e.value,a=Fx(e),l=a.innerRef,u=a.isDisabled,h=a.isHidden,d=a.inputClassName,p=jr(a,iB);return ye("div",we({},St(e,"input",{"input-container":!0}),{"data-value":r||""}),ye("input",we({className:n({input:!0},d),ref:l,style:aB(h),disabled:u},p)))},lB=oB,uB=function(e,n){var r=e.theme,a=r.spacing,l=r.borderRadius,u=r.colors;return be({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:u.neutral10,borderRadius:l/2,margin:a.baseUnit/2})},cB=function(e,n){var r=e.theme,a=r.borderRadius,l=r.colors,u=e.cropWithEllipsis;return be({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:a/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},hB=function(e,n){var r=e.theme,a=r.spacing,l=r.borderRadius,u=r.colors,h=e.isFocused;return be({alignItems:"center",display:"flex"},n?{}:{borderRadius:l/2,backgroundColor:h?u.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},Zx=function(e){var n=e.children,r=e.innerProps;return ye("div",r,n)},fB=Zx,dB=Zx;function mB(t){var e=t.children,n=t.innerProps;return ye("div",we({role:"button"},n),e||ye(b0,{size:14}))}var pB=function(e){var n=e.children,r=e.components,a=e.data,l=e.innerProps,u=e.isDisabled,h=e.removeProps,d=e.selectProps,p=r.Container,g=r.Label,_=r.Remove;return ye(p,{data:a,innerProps:be(be({},St(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),l),selectProps:d},ye(g,{data:a,innerProps:be({},St(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},n),ye(_,{data:a,innerProps:be(be({},St(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},h),selectProps:d}))},gB=pB,vB=function(e,n){var r=e.isDisabled,a=e.isFocused,l=e.isSelected,u=e.theme,h=u.spacing,d=u.colors;return be({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:l?d.primary:a?d.primary25:"transparent",color:r?d.neutral20:l?d.neutral0:"inherit",padding:"".concat(h.baseUnit*2,"px ").concat(h.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:l?d.primary:d.primary50}})},yB=function(e){var n=e.children,r=e.isDisabled,a=e.isFocused,l=e.isSelected,u=e.innerRef,h=e.innerProps;return ye("div",we({},St(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":a,"option--is-selected":l}),{ref:u,"aria-disabled":r},h),n)},_B=yB,bB=function(e,n){var r=e.theme,a=r.spacing,l=r.colors;return be({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:l.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},TB=function(e){var n=e.children,r=e.innerProps;return ye("div",we({},St(e,"placeholder",{placeholder:!0}),r),n)},EB=TB,SB=function(e,n){var r=e.isDisabled,a=e.theme,l=a.spacing,u=a.colors;return be({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?u.neutral40:u.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},wB=function(e){var n=e.children,r=e.isDisabled,a=e.innerProps;return ye("div",we({},St(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),a),n)},AB=wB,T0={ClearIndicator:F9,Control:X9,DropdownIndicator:B9,DownChevron:Qx,CrossIcon:b0,Group:nB,GroupHeading:tB,IndicatorsContainer:N9,IndicatorSeparator:q9,Input:lB,LoadingIndicator:K9,Menu:T9,MenuList:S9,MenuPortal:I9,LoadingMessage:C9,NoOptionsMessage:R9,MultiValue:gB,MultiValueContainer:fB,MultiValueLabel:dB,MultiValueRemove:mB,Option:_B,Placeholder:EB,SelectContainer:O9,SingleValue:AB,ValueContainer:V9},RB=function(e){return be(be({},T0),e.components)},tA=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function CB(t,e){return!!(t===e||tA(t)&&tA(e))}function xB(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!CB(t[n],e[n]))return!1;return!0}function IB(t,e){e===void 0&&(e=xB);var n=null;function r(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;var u=t.apply(this,a);return n={lastResult:u,lastArgs:a,lastThis:this},u}return r.clear=function(){n=null},r}var DB={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},OB=function(e){return ye("span",we({css:DB},e))},nA=OB,MB={guidance:function(e){var n=e.isSearchable,r=e.isMulti,a=e.tabSelectsValue,l=e.context,u=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,a=r===void 0?"":r,l=e.labels,u=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return u?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,a=e.options,l=e.label,u=l===void 0?"":l,h=e.selectValue,d=e.isDisabled,p=e.isSelected,g=e.isAppleDevice,_=function(V,x){return V&&V.length?"".concat(V.indexOf(x)+1," of ").concat(V.length):""};if(n==="value"&&h)return"value ".concat(u," focused, ").concat(_(h,r),".");if(n==="menu"&&g){var T=d?" disabled":"",S="".concat(p?" selected":"").concat(T);return"".concat(u).concat(S,", ").concat(_(a,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},VB=function(e){var n=e.ariaSelection,r=e.focusedOption,a=e.focusedValue,l=e.focusableOptions,u=e.isFocused,h=e.selectValue,d=e.selectProps,p=e.id,g=e.isAppleDevice,_=d.ariaLiveMessages,T=d.getOptionLabel,S=d.inputValue,C=d.isMulti,V=d.isOptionDisabled,x=d.isSearchable,M=d.menuIsOpen,G=d.options,H=d.screenReaderStatus,ee=d.tabSelectsValue,j=d.isLoading,Z=d["aria-label"],D=d["aria-live"],w=k.useMemo(function(){return be(be({},MB),_||{})},[_]),I=k.useMemo(function(){var Ie="";if(n&&w.onChange){var W=n.option,oe=n.options,he=n.removedValue,Oe=n.removedValues,U=n.value,se=function(ze){return Array.isArray(ze)?null:ze},ue=he||W||se(U),le=ue?T(ue):"",pe=oe||Oe||void 0,Ce=pe?pe.map(T):[],ge=be({isDisabled:ue&&V(ue,h),label:le,labels:Ce},n);Ie=w.onChange(ge)}return Ie},[n,w,V,h,T]),N=k.useMemo(function(){var Ie="",W=r||a,oe=!!(r&&h&&h.includes(r));if(W&&w.onFocus){var he={focused:W,label:T(W),isDisabled:V(W,h),isSelected:oe,options:l,context:W===r?"menu":"value",selectValue:h,isAppleDevice:g};Ie=w.onFocus(he)}return Ie},[r,a,T,V,w,l,h,g]),B=k.useMemo(function(){var Ie="";if(M&&G.length&&!j&&w.onFilter){var W=H({count:l.length});Ie=w.onFilter({inputValue:S,resultsMessage:W})}return Ie},[l,S,M,w,G,H,j]),z=(n==null?void 0:n.action)==="initial-input-focus",P=k.useMemo(function(){var Ie="";if(w.guidance){var W=a?"value":M?"menu":"input";Ie=w.guidance({"aria-label":Z,context:W,isDisabled:r&&V(r,h),isMulti:C,isSearchable:x,tabSelectsValue:ee,isInitialFocus:z})}return Ie},[Z,r,a,C,V,x,M,w,h,ee,z]),Pe=ye(k.Fragment,null,ye("span",{id:"aria-selection"},I),ye("span",{id:"aria-focused"},N),ye("span",{id:"aria-results"},B),ye("span",{id:"aria-guidance"},P));return ye(k.Fragment,null,ye(nA,{id:p},z&&Pe),ye(nA,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!z&&Pe))},PB=VB,Ov=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],NB=new RegExp("["+Ov.map(function(t){return t.letters}).join("")+"]","g"),Jx={};for(var Cg=0;Cg<Ov.length;Cg++)for(var xg=Ov[Cg],Ig=0;Ig<xg.letters.length;Ig++)Jx[xg.letters[Ig]]=xg.base;var eI=function(e){return e.replace(NB,function(n){return Jx[n]})},LB=IB(eI),iA=function(e){return e.replace(/^\s+|\s+$/g,"")},kB=function(e){return"".concat(e.label," ").concat(e.value)},UB=function(e){return function(n,r){if(n.data.__isNew__)return!0;var a=be({ignoreCase:!0,ignoreAccents:!0,stringify:kB,trim:!0,matchFrom:"any"},e),l=a.ignoreCase,u=a.ignoreAccents,h=a.stringify,d=a.trim,p=a.matchFrom,g=d?iA(r):r,_=d?iA(h(n)):h(n);return l&&(g=g.toLowerCase(),_=_.toLowerCase()),u&&(g=LB(g),_=eI(_)),p==="start"?_.substr(0,g.length)===g:_.indexOf(g)>-1}},jB=["innerRef"];function BB(t){var e=t.innerRef,n=jr(t,jB),r=d9(n,"onExited","in","enter","exit","appear");return ye("input",we({ref:e},r,{css:g0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var zB=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function FB(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=k.useRef(!1),h=k.useRef(!1),d=k.useRef(0),p=k.useRef(null),g=k.useCallback(function(x,M){if(p.current!==null){var G=p.current,H=G.scrollTop,ee=G.scrollHeight,j=G.clientHeight,Z=p.current,D=M>0,w=ee-j-H,I=!1;w>M&&u.current&&(r&&r(x),u.current=!1),D&&h.current&&(l&&l(x),h.current=!1),D&&M>w?(n&&!u.current&&n(x),Z.scrollTop=ee,I=!0,u.current=!0):!D&&-M>H&&(a&&!h.current&&a(x),Z.scrollTop=0,I=!0,h.current=!0),I&&zB(x)}},[n,r,a,l]),_=k.useCallback(function(x){g(x,x.deltaY)},[g]),T=k.useCallback(function(x){d.current=x.changedTouches[0].clientY},[]),S=k.useCallback(function(x){var M=d.current-x.changedTouches[0].clientY;g(x,M)},[g]),C=k.useCallback(function(x){if(x){var M=c9?{passive:!1}:!1;x.addEventListener("wheel",_,M),x.addEventListener("touchstart",T,M),x.addEventListener("touchmove",S,M)}},[S,T,_]),V=k.useCallback(function(x){x&&(x.removeEventListener("wheel",_,!1),x.removeEventListener("touchstart",T,!1),x.removeEventListener("touchmove",S,!1))},[S,T,_]);return k.useEffect(function(){if(e){var x=p.current;return C(x),function(){V(x)}}},[e,C,V]),function(x){p.current=x}}var rA=["boxSizing","height","overflow","paddingRight","position"],sA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function aA(t){t.cancelable&&t.preventDefault()}function oA(t){t.stopPropagation()}function lA(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function uA(){return"ontouchstart"in window||navigator.maxTouchPoints}var cA=!!(typeof window<"u"&&window.document&&window.document.createElement),Au=0,Oo={capture:!1,passive:!1};function HB(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,a=k.useRef({}),l=k.useRef(null),u=k.useCallback(function(d){if(cA){var p=document.body,g=p&&p.style;if(r&&rA.forEach(function(C){var V=g&&g[C];a.current[C]=V}),r&&Au<1){var _=parseInt(a.current.paddingRight,10)||0,T=document.body?document.body.clientWidth:0,S=window.innerWidth-T+_||0;Object.keys(sA).forEach(function(C){var V=sA[C];g&&(g[C]=V)}),g&&(g.paddingRight="".concat(S,"px"))}p&&uA()&&(p.addEventListener("touchmove",aA,Oo),d&&(d.addEventListener("touchstart",lA,Oo),d.addEventListener("touchmove",oA,Oo))),Au+=1}},[r]),h=k.useCallback(function(d){if(cA){var p=document.body,g=p&&p.style;Au=Math.max(Au-1,0),r&&Au<1&&rA.forEach(function(_){var T=a.current[_];g&&(g[_]=T)}),p&&uA()&&(p.removeEventListener("touchmove",aA,Oo),d&&(d.removeEventListener("touchstart",lA,Oo),d.removeEventListener("touchmove",oA,Oo)))}},[r]);return k.useEffect(function(){if(e){var d=l.current;return u(d),function(){h(d)}}},[e,u,h]),function(d){l.current=d}}var qB=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},GB={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function $B(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,a=r===void 0?!0:r,l=t.onBottomArrive,u=t.onBottomLeave,h=t.onTopArrive,d=t.onTopLeave,p=FB({isEnabled:a,onBottomArrive:l,onBottomLeave:u,onTopArrive:h,onTopLeave:d}),g=HB({isEnabled:n}),_=function(S){p(S),g(S)};return ye(k.Fragment,null,n&&ye("div",{onClick:qB,css:GB}),e(_))}var KB={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},YB=function(e){var n=e.name,r=e.onFocus;return ye("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:KB,value:"",onChange:function(){}})},QB=YB;function E0(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function XB(){return E0(/^iPhone/i)}function tI(){return E0(/^Mac/i)}function WB(){return E0(/^iPad/i)||tI()&&navigator.maxTouchPoints>1}function ZB(){return XB()||WB()}function JB(){return tI()||ZB()}var ez=function(e){return e.label},tz=function(e){return e.label},nz=function(e){return e.value},iz=function(e){return!!e.isDisabled},rz={clearIndicator:z9,container:D9,control:Y9,dropdownIndicator:j9,group:Z9,groupHeading:eB,indicatorsContainer:P9,indicatorSeparator:H9,input:rB,loadingIndicator:$9,loadingMessage:A9,menu:y9,menuList:E9,menuPortal:x9,multiValue:uB,multiValueLabel:cB,multiValueRemove:hB,noOptionsMessage:w9,option:vB,placeholder:bB,singleValue:SB,valueContainer:M9},sz={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},az=4,nI=4,oz=38,lz=nI*2,uz={baseUnit:nI,controlHeight:oz,menuGutter:lz},Dg={borderRadius:az,colors:sz,spacing:uz},cz={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Jw(),captureMenuScroll:!Jw(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:UB(),formatGroupLabel:ez,getOptionLabel:tz,getOptionValue:nz,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:iz,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!l9(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function hA(t,e,n,r){var a=sI(t,e,n),l=aI(t,e,n),u=rI(t,e),h=cd(t,e);return{type:"option",data:e,isDisabled:a,isSelected:l,label:u,value:h,index:r}}function If(t,e){return t.options.map(function(n,r){if("options"in n){var a=n.options.map(function(u,h){return hA(t,u,e,h)}).filter(function(u){return dA(t,u)});return a.length>0?{type:"group",data:n,options:a,index:r}:void 0}var l=hA(t,n,e,r);return dA(t,l)?l:void 0}).filter(h9)}function iI(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,h0(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function fA(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,h0(r.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(r.index,"-").concat(a.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function hz(t,e){return iI(If(t,e))}function dA(t,e){var n=t.inputValue,r=n===void 0?"":n,a=e.data,l=e.isSelected,u=e.label,h=e.value;return(!lI(t)||!l)&&oI(t,{label:u,value:h,data:a},r)}function fz(t,e){var n=t.focusedValue,r=t.selectValue,a=r.indexOf(n);if(a>-1){var l=e.indexOf(n);if(l>-1)return n;if(a<e.length)return e[a]}return null}function dz(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Og=function(e,n){var r,a=(r=e.find(function(l){return l.data===n}))===null||r===void 0?void 0:r.id;return a||null},rI=function(e,n){return e.getOptionLabel(n)},cd=function(e,n){return e.getOptionValue(n)};function sI(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function aI(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=cd(t,e);return n.some(function(a){return cd(t,a)===r})}function oI(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var lI=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},mz=1,uI=function(t){L6(n,t);var e=j6(n);function n(r){var a;if(P6(this,n),a=e.call(this,r),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=JB(),a.controlRef=null,a.getControlRef=function(d){a.controlRef=d},a.focusedOptionRef=null,a.getFocusedOptionRef=function(d){a.focusedOptionRef=d},a.menuListRef=null,a.getMenuListRef=function(d){a.menuListRef=d},a.inputRef=null,a.getInputRef=function(d){a.inputRef=d},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(d,p){var g=a.props,_=g.onChange,T=g.name;p.name=T,a.ariaOnChange(d,p),_(d,p)},a.setValue=function(d,p,g){var _=a.props,T=_.closeMenuOnSelect,S=_.isMulti,C=_.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:C}),T&&(a.setState({inputIsHiddenAfterUpdate:!S}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(d,{action:p,option:g})},a.selectOption=function(d){var p=a.props,g=p.blurInputOnSelect,_=p.isMulti,T=p.name,S=a.state.selectValue,C=_&&a.isOptionSelected(d,S),V=a.isOptionDisabled(d,S);if(C){var x=a.getOptionValue(d);a.setValue(S.filter(function(M){return a.getOptionValue(M)!==x}),"deselect-option",d)}else if(!V)_?a.setValue([].concat(h0(S),[d]),"select-option",d):a.setValue(d,"select-option");else{a.ariaOnChange(d,{action:"select-option",option:d,name:T});return}g&&a.blurInput()},a.removeValue=function(d){var p=a.props.isMulti,g=a.state.selectValue,_=a.getOptionValue(d),T=g.filter(function(C){return a.getOptionValue(C)!==_}),S=ff(p,T,T[0]||null);a.onChange(S,{action:"remove-value",removedValue:d}),a.focusInput()},a.clearValue=function(){var d=a.state.selectValue;a.onChange(ff(a.props.isMulti,[],null),{action:"clear",removedValues:d})},a.popValue=function(){var d=a.props.isMulti,p=a.state.selectValue,g=p[p.length-1],_=p.slice(0,p.length-1),T=ff(d,_,_[0]||null);g&&a.onChange(T,{action:"pop-value",removedValue:g})},a.getFocusedOptionId=function(d){return Og(a.state.focusableOptionsWithIds,d)},a.getFocusableOptionsWithIds=function(){return fA(If(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return i9.apply(void 0,[a.props.classNamePrefix].concat(p))},a.getOptionLabel=function(d){return rI(a.props,d)},a.getOptionValue=function(d){return cd(a.props,d)},a.getStyles=function(d,p){var g=a.props.unstyled,_=rz[d](p,g);_.boxSizing="border-box";var T=a.props.styles[d];return T?T(_,p):_},a.getClassNames=function(d,p){var g,_;return(g=(_=a.props.classNames)[d])===null||g===void 0?void 0:g.call(_,p)},a.getElementId=function(d){return"".concat(a.state.instancePrefix,"-").concat(d)},a.getComponents=function(){return RB(a.props)},a.buildCategorizedOptions=function(){return If(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return iI(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(d,p){a.setState({ariaSelection:be({value:d},p)})},a.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(d){a.blockOptionHover=!1},a.onControlMouseDown=function(d){if(!d.defaultPrevented){var p=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&a.onMenuClose():p&&a.openMenu("first"):(p&&(a.openAfterFocus=!0),a.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},a.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!a.props.isDisabled){var p=a.props,g=p.isMulti,_=p.menuIsOpen;a.focusInput(),_?(a.setState({inputIsHiddenAfterUpdate:!g}),a.onMenuClose()):a.openMenu("first"),d.preventDefault()}},a.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(a.clearValue(),d.preventDefault(),a.openAfterFocus=!1,d.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(d){typeof a.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Kd(d.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(d)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(d){var p=d.touches,g=p&&p.item(0);g&&(a.initialTouchX=g.clientX,a.initialTouchY=g.clientY,a.userIsDragging=!1)},a.onTouchMove=function(d){var p=d.touches,g=p&&p.item(0);if(g){var _=Math.abs(g.clientX-a.initialTouchX),T=Math.abs(g.clientY-a.initialTouchY),S=5;a.userIsDragging=_>S||T>S}},a.onTouchEnd=function(d){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(d.target)&&a.menuListRef&&!a.menuListRef.contains(d.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(d){a.userIsDragging||a.onControlMouseDown(d)},a.onClearIndicatorTouchEnd=function(d){a.userIsDragging||a.onClearIndicatorMouseDown(d)},a.onDropdownIndicatorTouchEnd=function(d){a.userIsDragging||a.onDropdownIndicatorMouseDown(d)},a.handleInputChange=function(d){var p=a.props.inputValue,g=d.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(g,{action:"input-change",prevInputValue:p}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(d){a.props.onFocus&&a.props.onFocus(d),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(d){var p=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(d),a.onInputChange("",{action:"input-blur",prevInputValue:p}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(d){if(!(a.blockOptionHover||a.state.focusedOption===d)){var p=a.getFocusableOptions(),g=p.indexOf(d);a.setState({focusedOption:d,focusedOptionId:g>-1?a.getFocusedOptionId(d):null})}},a.shouldHideSelectedOptions=function(){return lI(a.props)},a.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),a.focus()},a.onKeyDown=function(d){var p=a.props,g=p.isMulti,_=p.backspaceRemovesValue,T=p.escapeClearsValue,S=p.inputValue,C=p.isClearable,V=p.isDisabled,x=p.menuIsOpen,M=p.onKeyDown,G=p.tabSelectsValue,H=p.openMenuOnFocus,ee=a.state,j=ee.focusedOption,Z=ee.focusedValue,D=ee.selectValue;if(!V&&!(typeof M=="function"&&(M(d),d.defaultPrevented))){switch(a.blockOptionHover=!0,d.key){case"ArrowLeft":if(!g||S)return;a.focusValue("previous");break;case"ArrowRight":if(!g||S)return;a.focusValue("next");break;case"Delete":case"Backspace":if(S)return;if(Z)a.removeValue(Z);else{if(!_)return;g?a.popValue():C&&a.clearValue()}break;case"Tab":if(a.isComposing||d.shiftKey||!x||!G||!j||H&&a.isOptionSelected(j,D))return;a.selectOption(j);break;case"Enter":if(d.keyCode===229)break;if(x){if(!j||a.isComposing)return;a.selectOption(j);break}return;case"Escape":x?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:S}),a.onMenuClose()):C&&T&&a.clearValue();break;case" ":if(S)return;if(!x){a.openMenu("first");break}if(!j)return;a.selectOption(j);break;case"ArrowUp":x?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":x?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!x)return;a.focusOption("pageup");break;case"PageDown":if(!x)return;a.focusOption("pagedown");break;case"Home":if(!x)return;a.focusOption("first");break;case"End":if(!x)return;a.focusOption("last");break;default:return}d.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++mz),a.state.selectValue=Ww(r.value),r.menuIsOpen&&a.state.selectValue.length){var l=a.getFocusableOptionsWithIds(),u=a.buildFocusableOptions(),h=u.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=l,a.state.focusedOption=u[h],a.state.focusedOptionId=Og(l,u[h])}return a}return N6(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Zw(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var l=this.props,u=l.isDisabled,h=l.menuIsOpen,d=this.state.isFocused;(d&&!u&&a.isDisabled||d&&h&&!a.menuIsOpen)&&this.focusInput(),d&&u&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!u&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Zw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,l){this.props.onInputChange(a,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var l=this,u=this.state,h=u.selectValue,d=u.isFocused,p=this.buildFocusableOptions(),g=a==="first"?0:p.length-1;if(!this.props.isMulti){var _=p.indexOf(h[0]);_>-1&&(g=_)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[g],focusedOptionId:this.getFocusedOptionId(p[g])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(a){var l=this.state,u=l.selectValue,h=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=u.indexOf(h);h||(d=-1);var p=u.length-1,g=-1;if(u.length){switch(a){case"previous":d===0?g=0:d===-1?g=p:g=d-1;break;case"next":d>-1&&d<p&&(g=d+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:u[g]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,u=this.state.focusedOption,h=this.getFocusableOptions();if(h.length){var d=0,p=h.indexOf(u);u||(p=-1),a==="up"?d=p>0?p-1:h.length-1:a==="down"?d=(p+1)%h.length:a==="pageup"?(d=p-l,d<0&&(d=0)):a==="pagedown"?(d=p+l,d>h.length-1&&(d=h.length-1)):a==="last"&&(d=h.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:h[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(h[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Dg):be(be({},Dg),this.props.theme):Dg}},{key:"getCommonProps",value:function(){var a=this.clearValue,l=this.cx,u=this.getStyles,h=this.getClassNames,d=this.getValue,p=this.selectOption,g=this.setValue,_=this.props,T=_.isMulti,S=_.isRtl,C=_.options,V=this.hasValue();return{clearValue:a,cx:l,getStyles:u,getClassNames:h,getValue:d,hasValue:V,isMulti:T,isRtl:S,options:C,selectOption:p,selectProps:_,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,l=a.isClearable,u=a.isMulti;return l===void 0?u:l}},{key:"isOptionDisabled",value:function(a,l){return sI(this.props,a,l)}},{key:"isOptionSelected",value:function(a,l){return aI(this.props,a,l)}},{key:"filterOption",value:function(a,l){return oI(this.props,a,l)}},{key:"formatOptionLabel",value:function(a,l){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,h=this.state.selectValue;return this.props.formatOptionLabel(a,{context:l,inputValue:u,selectValue:h})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,l=a.isDisabled,u=a.isSearchable,h=a.inputId,d=a.inputValue,p=a.tabIndex,g=a.form,_=a.menuIsOpen,T=a.required,S=this.getComponents(),C=S.Input,V=this.state,x=V.inputIsHidden,M=V.ariaSelection,G=this.commonProps,H=h||this.getElementId("input"),ee=be(be(be({"aria-autocomplete":"list","aria-expanded":_,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":T,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},_&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(M==null?void 0:M.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?k.createElement(C,we({},G,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:H,innerRef:this.getInputRef,isDisabled:l,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:g,type:"text",value:d},ee)):k.createElement(BB,we({id:H,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ld,onFocus:this.onInputFocus,disabled:l,tabIndex:p,inputMode:"none",form:g,value:""},ee))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,l=this.getComponents(),u=l.MultiValue,h=l.MultiValueContainer,d=l.MultiValueLabel,p=l.MultiValueRemove,g=l.SingleValue,_=l.Placeholder,T=this.commonProps,S=this.props,C=S.controlShouldRenderValue,V=S.isDisabled,x=S.isMulti,M=S.inputValue,G=S.placeholder,H=this.state,ee=H.selectValue,j=H.focusedValue,Z=H.isFocused;if(!this.hasValue()||!C)return M?null:k.createElement(_,we({},T,{key:"placeholder",isDisabled:V,isFocused:Z,innerProps:{id:this.getElementId("placeholder")}}),G);if(x)return ee.map(function(w,I){var N=w===j,B="".concat(a.getOptionLabel(w),"-").concat(a.getOptionValue(w));return k.createElement(u,we({},T,{components:{Container:h,Label:d,Remove:p},isFocused:N,isDisabled:V,key:B,index:I,removeProps:{onClick:function(){return a.removeValue(w)},onTouchEnd:function(){return a.removeValue(w)},onMouseDown:function(P){P.preventDefault()}},data:w}),a.formatOptionLabel(w,"value"))});if(M)return null;var D=ee[0];return k.createElement(g,we({},T,{data:D,isDisabled:V}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),l=a.ClearIndicator,u=this.commonProps,h=this.props,d=h.isDisabled,p=h.isLoading,g=this.state.isFocused;if(!this.isClearable()||!l||d||!this.hasValue()||p)return null;var _={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(l,we({},u,{innerProps:_,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),l=a.LoadingIndicator,u=this.commonProps,h=this.props,d=h.isDisabled,p=h.isLoading,g=this.state.isFocused;if(!l||!p)return null;var _={"aria-hidden":"true"};return k.createElement(l,we({},u,{innerProps:_,isDisabled:d,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),l=a.DropdownIndicator,u=a.IndicatorSeparator;if(!l||!u)return null;var h=this.commonProps,d=this.props.isDisabled,p=this.state.isFocused;return k.createElement(u,we({},h,{isDisabled:d,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),l=a.DropdownIndicator;if(!l)return null;var u=this.commonProps,h=this.props.isDisabled,d=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(l,we({},u,{innerProps:p,isDisabled:h,isFocused:d}))}},{key:"renderMenu",value:function(){var a=this,l=this.getComponents(),u=l.Group,h=l.GroupHeading,d=l.Menu,p=l.MenuList,g=l.MenuPortal,_=l.LoadingMessage,T=l.NoOptionsMessage,S=l.Option,C=this.commonProps,V=this.state.focusedOption,x=this.props,M=x.captureMenuScroll,G=x.inputValue,H=x.isLoading,ee=x.loadingMessage,j=x.minMenuHeight,Z=x.maxMenuHeight,D=x.menuIsOpen,w=x.menuPlacement,I=x.menuPosition,N=x.menuPortalTarget,B=x.menuShouldBlockScroll,z=x.menuShouldScrollIntoView,P=x.noOptionsMessage,Pe=x.onMenuScrollToTop,Ie=x.onMenuScrollToBottom;if(!D)return null;var W=function(le,pe){var Ce=le.type,ge=le.data,ut=le.isDisabled,ze=le.isSelected,bn=le.label,bi=le.value,Hn=V===ge,Ti=ut?void 0:function(){return a.onOptionHover(ge)},er=ut?void 0:function(){return a.selectOption(ge)},Ei="".concat(a.getElementId("option"),"-").concat(pe),Us={id:Ei,onClick:er,onMouseMove:Ti,onMouseOver:Ti,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:ze};return k.createElement(S,we({},C,{innerProps:Us,data:ge,isDisabled:ut,isSelected:ze,key:Ei,label:bn,type:Ce,value:bi,isFocused:Hn,innerRef:Hn?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(le.data,"menu"))},oe;if(this.hasOptions())oe=this.getCategorizedOptions().map(function(ue){if(ue.type==="group"){var le=ue.data,pe=ue.options,Ce=ue.index,ge="".concat(a.getElementId("group"),"-").concat(Ce),ut="".concat(ge,"-heading");return k.createElement(u,we({},C,{key:ge,data:le,options:pe,Heading:h,headingProps:{id:ut,data:ue.data},label:a.formatGroupLabel(ue.data)}),ue.options.map(function(ze){return W(ze,"".concat(Ce,"-").concat(ze.index))}))}else if(ue.type==="option")return W(ue,"".concat(ue.index))});else if(H){var he=ee({inputValue:G});if(he===null)return null;oe=k.createElement(_,C,he)}else{var Oe=P({inputValue:G});if(Oe===null)return null;oe=k.createElement(T,C,Oe)}var U={minMenuHeight:j,maxMenuHeight:Z,menuPlacement:w,menuPosition:I,menuShouldScrollIntoView:z},se=k.createElement(_9,we({},C,U),function(ue){var le=ue.ref,pe=ue.placerProps,Ce=pe.placement,ge=pe.maxHeight;return k.createElement(d,we({},C,U,{innerRef:le,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:H,placement:Ce}),k.createElement($B,{captureEnabled:M,onTopArrive:Pe,onBottomArrive:Ie,lockEnabled:B},function(ut){return k.createElement(p,we({},C,{innerRef:function(bn){a.getMenuListRef(bn),ut(bn)},innerProps:{role:"listbox","aria-multiselectable":C.isMulti,id:a.getElementId("listbox")},isLoading:H,maxHeight:ge,focusedOption:V}),oe)}))});return N||I==="fixed"?k.createElement(g,we({},C,{appendTo:N,controlElement:this.controlRef,menuPlacement:w,menuPosition:I}),se):se}},{key:"renderFormField",value:function(){var a=this,l=this.props,u=l.delimiter,h=l.isDisabled,d=l.isMulti,p=l.name,g=l.required,_=this.state.selectValue;if(g&&!this.hasValue()&&!h)return k.createElement(QB,{name:p,onFocus:this.onValueInputFocus});if(!(!p||h))if(d)if(u){var T=_.map(function(V){return a.getOptionValue(V)}).join(u);return k.createElement("input",{name:p,type:"hidden",value:T})}else{var S=_.length>0?_.map(function(V,x){return k.createElement("input",{key:"i-".concat(x),name:p,type:"hidden",value:a.getOptionValue(V)})}):k.createElement("input",{name:p,type:"hidden",value:""});return k.createElement("div",null,S)}else{var C=_[0]?this.getOptionValue(_[0]):"";return k.createElement("input",{name:p,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,l=this.state,u=l.ariaSelection,h=l.focusedOption,d=l.focusedValue,p=l.isFocused,g=l.selectValue,_=this.getFocusableOptions();return k.createElement(PB,we({},a,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:h,focusedValue:d,isFocused:p,selectValue:g,focusableOptions:_,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),l=a.Control,u=a.IndicatorsContainer,h=a.SelectContainer,d=a.ValueContainer,p=this.props,g=p.className,_=p.id,T=p.isDisabled,S=p.menuIsOpen,C=this.state.isFocused,V=this.commonProps=this.getCommonProps();return k.createElement(h,we({},V,{className:g,innerProps:{id:_,onKeyDown:this.onKeyDown},isDisabled:T,isFocused:C}),this.renderLiveRegion(),k.createElement(l,we({},V,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:T,isFocused:C,menuIsOpen:S}),k.createElement(d,we({},V,{isDisabled:T}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(u,we({},V,{isDisabled:T}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,l){var u=l.prevProps,h=l.clearFocusValueOnUpdate,d=l.inputIsHiddenAfterUpdate,p=l.ariaSelection,g=l.isFocused,_=l.prevWasFocused,T=l.instancePrefix,S=a.options,C=a.value,V=a.menuIsOpen,x=a.inputValue,M=a.isMulti,G=Ww(C),H={};if(u&&(C!==u.value||S!==u.options||V!==u.menuIsOpen||x!==u.inputValue)){var ee=V?hz(a,G):[],j=V?fA(If(a,G),"".concat(T,"-option")):[],Z=h?fz(l,G):null,D=dz(l,ee),w=Og(j,D);H={selectValue:G,focusedOption:D,focusedOptionId:w,focusableOptionsWithIds:j,focusedValue:Z,clearFocusValueOnUpdate:!1}}var I=d!=null&&a!==u?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},N=p,B=g&&_;return g&&!B&&(N={value:ff(M,G,G[0]||null),options:G,action:"initial-input-focus"},B=!_),(p==null?void 0:p.action)==="initial-input-focus"&&(N=null),be(be(be({},H),I),{},{prevProps:a,ariaSelection:N,prevWasFocused:B})}}]),n}(k.Component);uI.defaultProps=cz;var pz=k.forwardRef(function(t,e){var n=V6(t);return k.createElement(uI,we({ref:e},n))}),cI=pz;const mA=[{label:"赤",value:"#ef4444"},{label:"橙",value:"#f97316"},{label:"黄",value:"#facc15"},{label:"緑",value:"#22c55e"},{label:"青",value:"#3b82f6"},{label:"藍",value:"#2563eb"},{label:"紫",value:"#8b5cf6"},{label:"桃",value:"#ec4899"},{label:"茶",value:"#92400e"},{label:"黒",value:"#000000"}],gz=t=>O.jsx(T0.Option,{...t,children:O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.data.value}}),O.jsx("span",{children:t.data.label})]})}),vz=t=>O.jsx(T0.SingleValue,{...t,children:O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.data.value}}),O.jsx("span",{children:t.data.label})]})}),hI=({value:t,onChange:e,className:n="",placeholder:r="カラーを選択"})=>{const a=mA.find(l=>l.value===t)||null;return O.jsx("div",{className:n,children:O.jsx(cI,{options:mA,value:a,onChange:l=>e((l==null?void 0:l.value)||""),components:{Option:gz,SingleValue:vz},className:"w-full",classNamePrefix:"color-select",placeholder:r,styles:{control:(l,u)=>({...l,padding:"0.5rem 0.75rem",borderRadius:"0.5rem",borderWidth:"1px",borderStyle:"solid",borderColor:u.isFocused?"#3b82f6":"#d1d5db",boxShadow:u.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.5)":"0 1px 2px 0 rgba(0, 0, 0, 0.05)","&:hover":{borderColor:"#3b82f6"},minHeight:"40px"}),valueContainer:l=>({...l,padding:0})}})})},fI=({value:t,onChange:e,options:n,className:r="",placeholder:a})=>{const l=n.find(h=>h.value===t)||null,u=h=>{h&&e(h.value)};return O.jsx("div",{className:`flex flex-col sm:flex-row items-center gap-2 ${r}`,children:O.jsx(cI,{options:n,value:l,onChange:u,className:"w-full",classNamePrefix:"react-select",placeholder:a,styles:{control:(h,d)=>({...h,padding:"0.5rem 0.75rem",borderRadius:"0.5rem",borderColor:d.isFocused?"#3b82f6":"#d1d5db",boxShadow:d.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none","&:hover":{borderColor:"#3b82f6"},minHeight:"40px"}),valueContainer:h=>({...h,padding:0})}})})},yz=[{label:"Level 1",value:1},{label:"Level 2",value:2},{label:"Level 3",value:3},{label:"Level 4",value:4},{label:"Level 5",value:5}],_z=({isOpen:t,task:e,onCancel:n,onUpdated:r})=>{const[a,l]=k.useState(""),[u,h]=k.useState(""),[d,p]=k.useState(""),[g,_]=k.useState("#000000"),[T,S]=k.useState(1),[C,V]=k.useState("");k.useEffect(()=>{e&&(l(e.title),h(e.dueDate),p(e.dueTime),_(e.color),S(e.level),V(e.content))},[e]);const x=async()=>{if(e)try{const M=on(Qt,"todos",e.id);await bc(M,{title:a,dueDate:u,dueTime:d,color:g,level:T,content:C}),r()}catch(M){console.error("更新エラー:",M),alert("タスクの更新に失敗しました")}};return O.jsx(Ur,{isOpen:t,onClose:n,children:O.jsxs("form",{className:"space-y-6 p-6 bg-white rounded-2xl shadow-lg max-w-3xl mx-auto",children:[O.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"タスクを編集"}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"タイトル"}),O.jsx("input",{type:"text",value:a,onChange:M=>l(M.target.value),className:"border px-3 py-2 w-full rounded-lg shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"期限（任意）"}),O.jsxs("div",{className:"flex gap-4 w-full",children:[O.jsx("input",{type:"date",value:u,onChange:M=>h(M.target.value),className:"border px-3 py-2 rounded-lg w-full shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"}),O.jsx("input",{type:"time",value:d,onChange:M=>p(M.target.value),className:"border px-3 py-2 rounded-lg w-full shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"カラー"}),O.jsx(hI,{value:g,onChange:_,className:"w-full"})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"難易度"}),O.jsx(fI,{value:T,onChange:M=>S(Number(M)),options:yz,className:"w-full",placeholder:"難易度を選択"})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"概要"}),O.jsx("textarea",{value:C,onChange:M=>V(M.target.value),rows:4,className:"border px-3 py-2 w-full rounded-lg shadow-sm resize-y hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),O.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[O.jsx("button",{type:"button",onClick:x,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 hover:scale-105 duration-300",children:"更新"}),O.jsx("button",{type:"button",onClick:n,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 hover:scale-105 duration-300",children:"戻る"})]})]})})},bz=[{label:"Level 1",value:1},{label:"Level 2",value:2},{label:"Level 3",value:3},{label:"Level 4",value:4},{label:"Level 5",value:5}];function Tz({isOpen:t,onCancel:e,onAdded:n}){const[r,a]=k.useState(""),[l,u]=k.useState(""),[h,d]=k.useState(""),[p,g]=k.useState("#000000"),[_,T]=k.useState(1),[S,C]=k.useState(""),V=async x=>{var M;if(x.preventDefault(),!rt.currentUser){alert("ログインが必要です");return}try{await GL(DR(Qt,"todos"),{title:r,dueDate:l,dueTime:h,color:p,level:_,content:S,userId:(M=rt.currentUser)==null?void 0:M.uid,createdAt:KL()}),a(""),u(""),d(""),g("#000000"),T(1),C(""),n()}catch(G){console.error("追加エラー:",G),alert("タスクの追加に失敗しました")}};return O.jsxs(Ur,{isOpen:t,onClose:e,children:[O.jsx("h1",{className:"text-xl font-bold text-center mb-4",children:"タスク追加"}),O.jsxs("form",{onSubmit:V,className:"space-y-6 p-6 bg-white rounded-2xl shadow-lg max-w-3xl mx-auto",children:[O.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"タイトル"}),O.jsx("input",{type:"text",value:r,onChange:x=>a(x.target.value),placeholder:"タスク名を入力",className:"border px-3 py-2 w-full rounded-lg shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"期限（任意）"}),O.jsxs("div",{className:"flex gap-4 w-full",children:[O.jsx("input",{type:"date",value:l,onChange:x=>u(x.target.value),className:"border px-3 py-2 rounded-lg w-full shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"}),O.jsx("input",{type:"time",value:h,onChange:x=>d(x.target.value),className:"border px-3 py-2 rounded-lg w-full shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"カラー"}),O.jsx(hI,{value:p,onChange:g,className:"w-full"})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"難易度"}),O.jsx(fI,{value:_,onChange:x=>T(Number(x)),options:bz,className:"w-full",placeholder:"難易度を選択"})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-2",children:[O.jsx("label",{className:"w-32 font-semibold",children:"概要"}),O.jsx("textarea",{value:S,onChange:x=>C(x.target.value),placeholder:"タスクの詳細や補足を記入",rows:4,className:"border px-3 py-2 w-full rounded-lg shadow-sm resize-y hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),O.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[O.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 hover:scale-105 duration-300",children:"タスク追加"}),O.jsx("button",{onClick:e,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 hover:scale-105 duration-300",children:"戻る"})]})]})]})}const pA="/assets/character_1-C2tLXKyj.jpg",Ez="/assets/chara1_60_1-CIk1z2Fp.jpg",Sz="/assets/chara1_60_2-DORqbMG-.jpg",wz="/assets/chara1_80_1-DZUmeuNG.jpg",Az="/assets/chara1_80_2-3ghaaecu.jpg",Rz="/assets/chara1_100_1-jav9Pnwa.jpg",Cz="/assets/chara1_100_2-DTv73SUG.jpg",gA="/assets/chara2-DHsqkzEN.jpg",xz="/assets/chara2_60_1-BIvUEWYp.jpg",vA="/assets/chara2_60_2-B-SHvZUZ.jpg",Iz="/assets/chara2_60_3-b9QpJqb0.jpg",Dz="/assets/chara2_60_4-D3qlgbrI.jpg",Oz="/assets/chara2_80_1-CDOx4pLW.jpg",Mz="/assets/chara2_80_2-nBkfCPjT.jpg",Vz="/assets/chara2_100_1-DoRwb7AC.jpg",Pz="/assets/chara2_100_2-CeZjZxXv.jpg",Nz="/assets/chara2_100_3-MlfORaD4.jpg",Lz="/assets/chara2_100_4-13iNQJPZ.jpg",kz="/assets/chara2_100_5-DhulA1eB.jpg",yA="/assets/chara3-BCXiUGqW.jpg",Uz="/assets/chara3_60_1--Bwuhp-A.jpg",jz="/assets/chara3_60_2-BfYtylr7.jpg",Bz="/assets/chara3_80_1-ClVeBe6N.jpg",zz="/assets/chara3_80_2-BvJitPcb.jpg",Fz="/assets/chara3_80_3-Dj9fjcGd.jpg",Hz="/assets/chara3_100_1-BbAwbSRT.jpg",qz="/assets/chara3_100_2-DvupAtO-.jpg",Gz="/assets/chara3_100_3-urJdo-lX.jpg",$z="/assets/chara3_100_4-DW-EVfAU.jpg",Kz="/assets/chara1_hun-DXFGqzxD.mp3",Yz="/assets/chara1_yarujan-FHfYLYA9.mp3",Qz="/assets/chara1_koueini-C-p42dfp.mp3",Xz="/assets/chara1_mezase-Bzk9VriR.mp3",Wz="/assets/chara1_mou-BPwjS61Z.mp3",Zz="/assets/chara1_happy-DGg-HWvi.mp3",Jz="/assets/chara1_nee-B1nR4WoK.mp3",eF="/assets/chara1_huhu-BEyA0jsp.mp3",tF="/assets/chara2_korakora-DpZxDTaU.mp3",nF="/assets/chara2_hayaine-Cgs1BUEW.mp3",iF="/assets/chara2_fa-CMWbPOWU.mp3",rF="/assets/chara2_arigatou-CH3QU0mR.mp3",sF="/assets/chara2_nigatedawa-CBva2oB3.mp3",aF="/assets/chara2_anone-BnOUTDwv.mp3",oF="/assets/chara2_sukidayo-V442nNz-.mp3",lF="/assets/chcara2_yafitio-DJg_NcX2.mp3",uF="/assets/chara3_iine-DdGAAQVL.mp3",cF="/assets/chara3_ouenn-By01SZuc.mp3",hF="/assets/chara3_yoosi-DnuWT8GI.mp3",fF="/assets/chara3_kintyou-DL4okmH4.mp3",dF="/assets/chara3_yumemitai-CflDg_bL.mp3",mF="/assets/chara3_sukidayo-qpiFtUnH.mp3",pF=[{id:1,scene:"1",characterId:1,affectionlevel:2,image:pA,voice:Kz,words:["ちょっとはやるじゃないっ!"]},{id:2,scene:"2",characterId:1,affectionlevel:3,image:pA,voice:Yz,words:["結構やるじゃんおにーさん","ちょーーっとだけびっくりしちゃったかも"]},{id:3,scene:"3-1",characterId:1,affectionlevel:4,image:Ez,voice:Qz,words:["私の美声を聞けることを光栄に思うことね。","おにーさん💕"]},{id:4,scene:"3-2",characterId:1,affectionlevel:4,image:Sz,voice:Xz,words:["インフルエンサーとカラオケなんて一生分の運使ったんじゃないの？?","来たからにはたくさん歌うよー！"]},{id:5,scene:"4-1",characterId:1,affectionlevel:5,image:wz,voice:Wz,words:["あーもう💢💕","一度しか言わないからね！！","「username」！！私の永遠の下僕になりなさい！！","...........","どうなの！驚いていないで、なんか返事しなさいよ"]},{id:6,scene:"4-2",characterId:1,affectionlevel:5,image:Az,voice:Zz,words:["一生私しか見れないようにしてあげるからね。"]},{id:7,scene:"5-1",characterId:1,affectionlevel:6,image:Rz,voice:Jz,words:["ねぇ…ほんとにいいの？","……あんた、責任取るんでしょ？","ふふっ、冗談じゃないよ？","…私、初めてなんだから…"]},{id:8,scene:"5-2",characterId:1,affectionlevel:6,image:Cz,voice:eF,words:["「username」 ふふ..離さないから💕。"]}],gF=[{id:1,scene:"1",characterId:2,affectionlevel:2,image:gA,voice:tF,words:["まだまだ油断しちゃダメだよ。"]},{id:2,scene:"2",characterId:2,affectionlevel:3,image:gA,voice:nF,words:["ふーん。もう終わったんだ。","やるじゃん"]},{id:3,scene:"3-1",characterId:2,affectionlevel:4,image:xz,voice:"",words:["私、アイスココアでお願いします。","今日は服装違う？　ふふ…　デートだからね。"]},{id:4,scene:"3-2",characterId:2,affectionlevel:4,image:vA,voice:iF,words:["可愛い？！"]},{id:5,scene:"3-3",characterId:2,affectionlevel:4,image:vA,voice:rF,words:["かっこいいは言われ慣れているけど可愛いは初めてだなー。"]},{id:6,scene:"3-4",characterId:2,affectionlevel:4,image:Iz,voice:"",words:["「username」くんはコーヒー飲むのね…。","一口頂戴…"]},{id:7,scene:"3-5",characterId:2,affectionlevel:4,image:Dz,voice:sF,words:["うっ..こんなの飲んでるの？"]},{id:8,scene:"4-1",characterId:2,affectionlevel:5,image:Oz,voice:aF,words:["君と過ごしていく中で気づいたことがあるの。","好きとか、言葉にするの苦手だけど。「username」には、言いたい","うまく言えないけど…","ずっと、あんたのこと見てた。"]},{id:9,scene:"4-2",characterId:2,affectionlevel:5,image:Mz,voice:oF,words:["好きだよ。","ふふ…これから、楽しみにしてなよ。私、わりと独占欲強いから"]},{id:10,scene:"5-1",characterId:2,affectionlevel:6,image:Vz,voice:"",words:["…この距離も、あなたの温度も、全部…初めて。"]},{id:11,scene:"5-2",characterId:2,affectionlevel:6,image:Pz,voice:"",words:["…怖いわけじゃない。","ただ…ちゃんと、あなたに知ってほしいの。"]},{id:12,scene:"5-3",characterId:2,affectionlevel:6,image:Nz,voice:"",words:["緊張するね..."]},{id:13,scene:"5-4",characterId:2,affectionlevel:6,image:Lz,voice:"",words:["username。"]},{id:14,scene:"5-5",characterId:2,affectionlevel:6,image:kz,voice:lF,words:["я тебя люблю(愛してる）"]}],vF=[{id:1,scene:"1",characterId:3,affectionlevel:2,image:yA,voice:uF,words:["その調子その調子！！"]},{id:2,scene:"2",characterId:3,affectionlevel:3,image:yA,voice:cF,words:["引き続き今日のTodo進めちゃおう！！"]},{id:3,scene:"3-1",characterId:3,affectionlevel:4,image:Uz,voice:"",words:["どこでもいいと言ったけど、観覧車って💦","私高いとこ苦手って知ってるよね…"]},{id:4,scene:"3-2",characterId:3,affectionlevel:4,image:jz,voice:hF,words:["でも、喜んでくれるならいいか…笑","今日はたくさん楽しも！！"]},{id:5,scene:"4-1",characterId:3,affectionlevel:5,image:Bz,voice:fF,words:["ふぅ..ふぅ… ","言うぞ…"]},{id:6,scene:"4-2",characterId:3,affectionlevel:5,image:zz,voice:"",words:["いつも一緒にいてくれてありがとね！！","でも、幼馴染のままなんて嫌だ！！","私の彼氏になってください！！","はぁ　言っちゃった…"]},{id:7,scene:"4-3",characterId:3,affectionlevel:5,image:Fz,voice:dF,words:["ほんとに嬉しい..! ","これからもよろしくね💕"]},{id:8,scene:"5-1",characterId:3,affectionlevel:6,image:Hz,voice:"",words:["……昔から、こうなる気がしてた。","…でも、いざってなると…緊張する、ね。"]},{id:9,scene:"5-2",characterId:3,affectionlevel:6,image:qz,voice:"",words:["…ねぇ、手、握ってて。…離さないで。"]},{id:10,scene:"5-3",characterId:3,affectionlevel:6,image:Gz,voice:"",words:[""]},{id:11,scene:"5-4",characterId:3,affectionlevel:6,image:$z,voice:mF,words:["「username」、好きだよ。"]}],yF=t=>Cy.find(e=>e.id===t),_F=({isOpen:t,level:e,characterId:n,onClose:r})=>{var x;const a=yF(n),[l,u]=k.useState("あなた");let h=[];n===1&&(h=pF),n===2&&(h=gF),n===3&&(h=vF);const d=h.filter(M=>M.affectionlevel===e),[p,g]=k.useState(0),[_,T]=k.useState(0),S=d[p],C=((x=S==null?void 0:S.words[_])==null?void 0:x.replace("username",`${l}`))??"";k.useEffect(()=>{(async()=>{if(!rt.currentUser)return;const G=on(Qt,"users",rt.currentUser.uid),ee=(await Ji(G)).data();ee!=null&&ee.name&&u(ee.name)})()},[]);const V=()=>{S&&(_<S.words.length-1?T(M=>M+1):p<d.length-1?(g(M=>M+1),T(0)):(r(),g(0),T(0)))};return!S||!a?null:O.jsx(c0,{image:S.image,voice:S.voice,isOpen:t,onClose:V,children:O.jsx("p",{className:"text-lg",children:C})})},bF=({isOpen:t,task:e,onCancel:n,onCompleted:r})=>{const[a,l]=k.useState(!1),[u,h]=k.useState(1),[d,p]=k.useState(null),g=async()=>{if(!rt.currentUser||!e)return;const _=on(Qt,"users",rt.currentUser.uid),T=await Ji(_);if(T.exists()){const S=T.data(),C=S.affectionLevel||1,V=Math.min(C+e.level,6);h(V),p(S.characterId||null),await bc(_,{affectionLevel:V}),l(!0)}r()};return O.jsxs(O.Fragment,{children:[O.jsx(Ur,{isOpen:t,onClose:n,children:O.jsxs("div",{className:"text-center space-y-6",children:[O.jsx("p",{className:"text-lg font-semibold",children:"このタスクを完了しますか？"}),e&&O.jsx("div",{className:"rounded p-4 text-left shadow bg-gray-50",children:O.jsxs("div",{className:"flex items-start gap-4",children:[O.jsx("div",{className:"w-8 h-8 rounded-full mt-1",style:{backgroundColor:e.color}}),O.jsxs("div",{className:"space-y-1",children:[O.jsxs("p",{children:[O.jsx("span",{className:"font-semibold",children:"タイトル:"})," ",e.title]}),O.jsxs("p",{children:[O.jsx("span",{className:"font-semibold",children:"期限:"})," ",e.dueDate," ",e.dueTime&&` ${e.dueTime}`]}),O.jsxs("p",{children:[O.jsx("span",{className:"font-semibold",children:"レベル:"})," ",e.level]})]})]})}),O.jsxs("div",{className:"flex justify-center space-x-4",children:[O.jsx("button",{onClick:()=>{Be(kd),g()},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 hover:scale-105 duration-300",children:"完了"}),O.jsx("button",{onClick:()=>{Be(_i),n()},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 hover:scale-105 duration-300",children:"戻る"})]})]})}),d!==null&&O.jsx(_F,{isOpen:a,onClose:()=>l(!1),level:u,characterId:d})]})},hd="/assets/chara1_1-BXXmQBTM.jpg",fd="/assets/chara1_2-DM3VTes9.jpg",TF="/assets/chara2_1-B4XN_Vro.jpg",EF="/assets/chara2_2-CCsjWgNx.jpg",SF="/assets/chara3_1-BEJry8WE.jpg",wF="/assets/chara3_2-C5ttjIn4.jpg",AF=[{id:1,scene:"1",characterId:1,image:hd,voice:hd,words:["た...すくできなかった？！","ふーーん、、"]},{id:2,scene:"2",characterId:1,image:fd,voice:fd,words:["まあ、おにいさんにはできないと思ったわよ....","じゃあ次こそ、ちゃんと楽しませてよね？！"]}],RF=[{id:1,scene:"1",characterId:2,image:TF,voice:hd,words:["… リタイア？！"]},{id:2,scene:"2",characterId:2,image:EF,voice:fd,words:["... 期待した私がバカだったみたい。","……次は負けないでよね。"]}],CF=[{id:1,scene:"1",characterId:3,image:SF,voice:hd,words:["へー君がリタイアするなんて珍しい..."]},{id:2,scene:"2",characterId:3,image:wF,voice:fd,words:["でも、私は君が頑張ってることを知ってるから...！！","次は絶対いっしょにゴールしよ！"]}],xF=({isOpen:t,characterId:e,onClose:n})=>{var S;const[r,a]=k.useState("あなた");let l=[];e===1&&(l=AF),e===2&&(l=RF),e===3&&(l=CF);const[u,h]=k.useState(0),[d,p]=k.useState(0),g=l[u],_=((S=g==null?void 0:g.words[d])==null?void 0:S.replace("username",`${r}`))??"";k.useEffect(()=>{(async()=>{if(!rt.currentUser)return;const V=on(Qt,"users",rt.currentUser.uid),M=(await Ji(V)).data();M!=null&&M.name&&a(M.name)})()},[]);const T=()=>{g&&(d<g.words.length-1?p(C=>C+1):u<l.length-1?(h(C=>C+1),p(0)):(n(),h(0),p(0)))};return!g||!l?null:O.jsx(c0,{image:g.image,voice:g.voice,isOpen:t,onClose:T,children:O.jsx("p",{className:"text-lg",children:_})})},IF="/assets/tasklist-BAHJHhG1.jpg";function DF({characterDisplayRef:t,characterUpdatedAt:e}){const[n,r]=k.useState([]),[a,l]=k.useState(!1),[u,h]=k.useState(null),[d,p]=k.useState(null),[g,_]=k.useState(null),[T,S]=k.useState(null),[C,V]=k.useState("asc"),[x,M]=k.useState(!1),[G,H]=k.useState(null);k.useEffect(()=>{if(!rt.currentUser)return;const w=rt.currentUser;if(!w)return;(async()=>{const z=on(Qt,"users",w.uid),Pe=(await Ji(z)).data();Pe&&H(Pe.characterId||null)})();const N=BL(DR(Qt,"todos"),zL("userId","==",rt.currentUser.uid)),B=$L(N,z=>{const P=z.docs.map(Pe=>({id:Pe.id,...Pe.data()}));r(P)});return()=>B()},[e]);const ee=[...n].sort((w,I)=>{if(!T)return 0;if(T==="dueDate"){const z=!!w.dueDate,P=!!I.dueDate;if(!z&&P)return 1;if(z&&!P)return-1;if(!z&&!P)return 0;const Pe=new Date(`${w.dueDate}T${w.dueTime||"00:00"}`),Ie=new Date(`${I.dueDate}T${I.dueTime||"00:00"}`);return C==="asc"?Pe.getTime()-Ie.getTime():Ie.getTime()-Pe.getTime()}const N=w[T],B=I[T];return typeof N=="number"&&typeof B=="number"?C==="asc"?N-B:B-N:0}),j=w=>{T===w?V(C==="asc"?"desc":"asc"):(S(w),V("asc"))},Z=async()=>{var w;if(g)try{await vS(on(Qt,"todos",g.id)),_(null),(w=t.current)==null||w.refreshCharacterData()}catch(I){console.error("削除エラー:",I),alert("削除に失敗しました")}},D=async()=>{var w;if(!(!u||!rt.currentUser))try{await vS(on(Qt,"todos",u.id));const I=on(Qt,"users",rt.currentUser.uid),N=await Ji(I);if(N.exists()){const z=N.data().affectionLevel||1,P=Math.max(1,z-1);await bc(I,{affectionLevel:P})}h(null),(w=t.current)==null||w.refreshCharacterData()}catch(I){console.error("削除エラー:",I),alert("削除に失敗しました")}};return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"fixed top-20 left-5 bg-white rounded-xl shadow-lg p-8 w-[50%] max-w-5xl h-[85vh] overflow-hidden ",style:{backgroundImage:`url(${IF})`,backgroundSize:"cover"},children:[O.jsxs("div",{className:"flex flex-col justify-between items-center sm:flex-row px-4 pb-4 ",children:[O.jsx("h2",{className:"text-xl font-bold",children:"あなたのタスク一覧"}),O.jsx("button",{onClick:()=>{Be(nf),l(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 mt-3 sm:mt-0 cursor-pointer hover:scale-105 duration-300",children:"タスクを作成"})]}),O.jsx("div",{className:"h-[70vh] overflow-auto pt-2",children:n.length===0?O.jsx("div",{className:"flex justify-center items-center h-full",children:O.jsx("p",{className:"text-gray-500 text-3xl",children:"まだタスクがありません。"})}):O.jsxs("table",{className:"min-w-full text-sm border border-gray-300 rounded overflow-hidden",children:[O.jsx("thead",{className:"bg-gray-100 text-left sticky top-0 ",children:O.jsxs("tr",{children:[O.jsx("th",{className:"px-4 py-2 font-semibold w-[40%]",children:"タスク名"}),O.jsxs("th",{className:"px-4 py-2 font-semibold cursor-pointer hover:underline w-[20%]",onClick:()=>{Be(yS),j("dueDate")},children:["期限 ",T==="dueDate"&&(C==="asc"?"⌛️":"⏳")]}),O.jsxs("th",{className:"px-4 py-2 font-semibold cursor-pointer hover:underline w-[15%]",onClick:()=>{Be(yS),j("level")},children:["難易度 ",T==="level"&&(C==="asc"?"⌛️":"⏳")]}),O.jsx("th",{className:"px-4 py-2 font-semibold w-[25%]"})]})}),O.jsx("tbody",{children:ee.map(w=>{const I=w.dueDate&&new Date(`${w.dueDate}T${w.dueTime||"00:00"}`)<new Date;return O.jsxs("tr",{onClick:()=>{Be(nf),p(w)},className:"cursor-pointer bg-white hover:bg-blue-50 transition border-t border-gray-200 hover:scale-101",children:[O.jsxs("td",{className:"p-3 flex items-center space-x-2",children:[O.jsx("div",{className:"w-4 h-4 rounded-full pr-1",style:{backgroundColor:w.color}}),O.jsx("span",{children:w.title})]}),O.jsxs("td",{className:"p-3 text-gray-700",children:[w.dueDate," ",w.dueTime&&` ${w.dueTime}`]}),O.jsxs("td",{className:"p-3 text-gray-600",children:["Level ",w.level]}),O.jsx("td",{className:"p-3",children:O.jsxs("div",{className:"flex flex-col gap-1",children:[I&&O.jsx("p",{className:"text-red-500 text-xs",children:"※期限が切れているのでリタイアしてください"}),O.jsxs("div",{className:"flex gap-2",children:[!I&&O.jsx("button",{onClick:N=>{Be(Pr),N.stopPropagation(),_(w)},className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 cursor-pointer hover:scale-105 duration-300",children:"完了"}),O.jsx("button",{onClick:N=>{Be(Pr),N.stopPropagation(),h(w)},className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 cursor-pointer hover:scale-105 duration-300",children:"リタイア"})]})]})})]},w.id)})})]})})]}),O.jsx(Tz,{isOpen:a,onCancel:()=>{Be(nf),l(!1)},onAdded:()=>l(!1)}),O.jsx(_z,{isOpen:!!d,task:d,onCancel:()=>{Be(nf),p(null)},onUpdated:()=>p(null)}),O.jsx(bF,{isOpen:!!g,task:g,onCancel:()=>_(null),onCompleted:Z}),O.jsx(R6,{isOpen:!!u,task:u,onCancel:()=>h(null),onConfirm:()=>{D(),M(!0),Be(_i)}}),O.jsx(xF,{isOpen:x,characterId:G,onClose:()=>M(!1)})]})}const OF=["未設定","男性","女性","その他"],MF=({isOpen:t,onClose:e,onSaved:n})=>{const[r,a]=k.useState(""),[l,u]=k.useState("未設定"),[h,d]=k.useState({});k.useEffect(()=>{t&&(async()=>{if(!rt.currentUser)return;const T=on(Qt,"users",rt.currentUser.uid),S=await Ji(T);if(S.exists()){const C=S.data();a(C.name||""),u(C.gender||"未設定")}})()},[t]);const p=()=>{const _={};return r.trim()||(_.name="名前は必須です"),l||(_.gender="性別を選択してください"),d(_),Object.keys(_).length===0},g=async()=>{if(!rt.currentUser||!p())return;const _=on(Qt,"users",rt.currentUser.uid);try{await FR(_,{name:r,gender:l},{merge:!0}),n(),e()}catch(T){console.error("ユーザー情報の保存に失敗しました:",T),alert("保存に失敗しました。もう一度お試しください。")}};return O.jsx(Ur,{isOpen:t,onClose:e,children:O.jsxs("form",{className:"space-y-6 p-6 bg-white rounded-2xl shadow-lg max-w-md mx-auto",children:[O.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"ユーザー設定"}),O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsx("label",{className:"font-semibold",children:"名前"}),O.jsx("input",{type:"text",value:r,onChange:_=>a(_.target.value),className:"border px-3 py-2 rounded-lg shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"}),h.name&&O.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]}),O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsx("label",{className:"font-semibold",children:"性別"}),O.jsx("select",{value:l,onChange:_=>u(_.target.value),className:"border px-3 py-2 rounded-lg shadow-sm hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300",children:OF.map(_=>O.jsx("option",{value:_,children:_},_))}),h.gender&&O.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.gender})]}),O.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[O.jsx("button",{type:"button",onClick:()=>{Be(_i),g()},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 hover:scale-105 duration-300",children:"保存"}),O.jsx("button",{type:"button",onClick:()=>{Be(_i),e()},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 hover:scale-105 duration-300",children:"キャンセル"})]})]})})},VF=async()=>{await _M(rt)},PF=({isOpen:t,onClose:e})=>{const n=async()=>{try{await VF()}catch(r){console.error("ログアウト失敗:",r)}};return O.jsx(Ur,{isOpen:t,onClose:e,children:O.jsxs("div",{className:"text-center space-y-6",children:[O.jsx("h2",{className:"text-2xl font-bold",children:"ログアウトしますか？"}),O.jsxs("div",{className:"flex justify-center gap-6 pt-4",children:[O.jsx("button",{onClick:()=>{Be(kd),n()},className:"bg-red-500 text-white px-6 py-2 rounded-full font-semibold hover:bg-red-600 hover:scale-105 transition",children:"ログアウト"}),O.jsx("button",{onClick:()=>{Be(_i),e()},className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-full font-semibold hover:bg-gray-400 hover:scale-105 transition",children:"キャンセル"})]})]})})},NF=({user:t})=>{const[e,n]=k.useState(!1),[r,a]=k.useState(""),[l,u]=k.useState(!1),h=async()=>{if(!t.uid)return;const d=on(Qt,"users",t.uid),p=await Ji(d);if(p.exists()){const g=p.data();a(g.name||"名前を設定してね")}else a("名前を設定してね")};return k.useEffect(()=>{h()},[t]),O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"fixed top-0 w-full bg-gray-800 text-white px-6 py-1 shadow-md",children:O.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[O.jsxs("div",{className:"flex items-center space-x-3",children:[t.photoURL&&O.jsx("img",{src:t.photoURL,alt:"ユーザーアイコン",className:"w-10 h-10 rounded-full border border-white"}),O.jsx("span",{className:"text-sm",children:r})]}),O.jsxs("div",{className:"flex gap-10",children:[O.jsx("button",{onClick:()=>{Be(Pr),n(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-1 rounded cursor-pointer hover:scale-105 duration-300",children:"ユーザー設定"}),O.jsx("button",{onClick:()=>{Be(Pr),u(!0)},className:"bg-red-500 hover:bg-red-600 text-white text-sm px-4 py-1 rounded cursor-pointer hover:scale-105 duration-300",children:"ログアウト"})]})]})}),O.jsx(MF,{isOpen:e,onClose:()=>n(!1),onSaved:()=>{h(),n(!1)}}),O.jsx(PF,{isOpen:l,onClose:()=>u(!1)})]})},dI="/assets/background-D8X9n4gJ.jpg",LF=({currentUser:t})=>{const e=k.useRef(null),[n,r]=k.useState(Date.now());return k.useEffect(()=>{GR(lk)},[]),O.jsxs("div",{className:"relative h-screen w-screen overflow-hidden",children:[O.jsx("div",{className:"fixed top-0 left-0 h-screen w-screen bg-no-repeat bg-center bg-cover",style:{backgroundImage:`url(${dI})`,backgroundSize:"cover"}}),O.jsx(DF,{characterDisplayRef:e,characterUpdatedAt:n}),O.jsx(A6,{ref:e,onCharacterSelected:()=>{var a;(a=e.current)==null||a.refreshCharacterData(),r(Date.now())}}),O.jsx(NF,{user:t})]})},kF=({onStart:t})=>O.jsx("div",{className:"h-screen w-screen bg-cover bg-center flex flex-col justify-center items-center",style:{backgroundImage:`url(${dI})`},children:O.jsx(Qi.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:t,className:"px-10 py-5 bg-pink-400 text-white text-2xl font-bold rounded-full shadow-lg hover:bg-pink-500 transition duration-300",children:"🌟 TODO娘をプレイ!"})}),UF=()=>{const t=document.createElement("link");t.href="https://fonts.googleapis.com/css2?family=Yusei+Magic&display=swap",t.rel="stylesheet",document.head.appendChild(t)};function jF(){const[t,e]=k.useState(null),[n,r]=k.useState(!1);return k.useEffect(()=>{const a=yM(rt,l=>{e(l),UF()});return()=>a()},[]),n?O.jsx(O.Fragment,{children:t?O.jsx(LF,{currentUser:t}):O.jsx(ck,{})}):O.jsx(kF,{onStart:()=>r(!0)})}Q2.createRoot(document.getElementById("root")).render(O.jsx(k.StrictMode,{children:O.jsx(jF,{})}));
